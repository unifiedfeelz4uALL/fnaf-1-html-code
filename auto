<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>F1</title>
    <script type="text/javascript">
      window.errors = []
      if (window.addEventListener) {
        window.addEventListener(
          'error',
          function (e) {
            if (e.message) {
              if (e.error && e.error.stack) {
                if (e.message.indexOf('Uncaught SyntaxError') === 0) {
                  window.errors.push(
                    e.message +
                      ' at ' +
                      e.filename +
                      ':' +
                      e.lineno +
                      ':' +
                      e.colno
                  )
                } else {
                  window.errors.push(e.error.stack)
                }
                if (window.onNewError) window.onNewError()
              }
            } else {
              window.errors.push(
                'Problem loading ' + (e.target.src || e.target.href)
              )
              if (window.onNewError) window.onNewError()
            }
            window.onerror = null
          },
          true
        ) // true so that errors bubble up to window
        window.addEventListener(
          'unhandledrejection',
          function (e) {
            window.errors.push(
              e.reason && (e.reason.stack || e.reason.message || e.reason)
            )
            if (window.onNewError) window.onNewError()
          },
          false
        )
      }
      window.onerror = function (message, source, lineno, colno, error) {
        if (colno) {
          lineno += ':' + colno
        }
        if (error && error.stack) {
          window.errors.push(error.stack)
        } else {
          window.errors.push(message + ' at ' + source + ':' + lineno)
        }
        if (window.onNewError) window.onNewError()
      }
    </script>
     <style>
html,
body {
  height: 100%;
}
body,
::backdrop {
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: black;
  font-size: 0;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  overflow: hidden;
  background-position: center;
  background-size: cover;
}
#wrapper {
  display: block;
  position: relative;
}
.no-cursor #wrapper {
  cursor: none;
}
.loading #wrapper {
  visibility: hidden;
}
.stretch-stage #wrapper {
  width: 100vw;
  height: 100vh;
}
/* CSS for proportional wrapper scaling is added dynamically by htmlifier.ts */
#monitors {
  position: absolute;
  top: 0;
  left: 0;
}
#stage {
  width: 100%;
  height: 100%;
}
#loading-progress {
  display: none;
  position: fixed;
  bottom: 20px;
  left: 20px;
  right: 20px;
  border-radius: 20px;
  --progress: 0%;
  z-index: 100;
}
.show-loading-progress #loading-progress {
  display: block;
}
#loading-progress::before {
  content: attr(data-progress);
  position: absolute;
  bottom: 100%;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 1.5rem;
  margin-bottom: 15px;
}
#loading-progress::after {
  content: '';
  display: block;
  height: 16px;
  border-radius: 20px;
  width: var(--progress);
}
#loading-image {
  position: fixed;
  max-width: 100%;
  max-height: 100%;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
}
.stretch-loading-image #loading-image {
  width: 100%;
  height: 100%;
}
.buttons {
  position: fixed;
  top: 0;
  right: 0;
  background-color: rgba(0, 0, 0, 0.5);
  border-bottom-left-radius: 12px;
}
.buttons .button,
.buttons button {
  display: none;
  -webkit-appearance: none;
  border: none;
  background: none;
  width: 48px;
  height: 48px;
  cursor: pointer;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 24px;
}
.buttons button:disabled,
#add-sprite-file:disabled + #add-sprite-btn {
  cursor: auto;
  opacity: 0.5;
}
#start-btn {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"%3E%3Cpath d="M8 5v14l11-7z" fill="%23fff"/%3E%3C/svg%3E%0A');
}
.running #start-btn {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"%3E%3Cpath d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" fill="%23fff"/%3E%3C/svg%3E');
}
#stop-btn {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"%3E%3Cpath d="M6 6h12v12H6z" fill="%23fff"/%3E%3C/svg%3E%0A');
}
#fullscreen-btn {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"%3E%3Cpath d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z" fill="%23fff"/%3E%3C/svg%3E');
}
.fullscreen #fullscreen-btn {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"%3E%3Cpath d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z" fill="%23fff"/%3E%3C/svg%3E');
}
#download-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M5,20h14v-2H5V20z M19,9h-4V3H9v6H5l7,7L19,9z'/%3E%3C/svg%3E");
}
#add-sprite-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z'/%3E%3C/svg%3E");
}
#add-sprite-file {
  display: none;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
.show-start-stop-btns #start-btn,
.show-start-stop-btns #stop-btn,
.show-fullscreen-btn #fullscreen-btn,
.show-download-btn #download-btn,
.show-add-sprite-btn #add-sprite-btn,
.show-add-sprite-btn #add-sprite-file {
  display: inline-block;
}
.monitor {
  position: absolute;
  border: 1px solid transparent;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  overflow: hidden;
  padding: 3px;
  white-space: pre;
}
.show-monitor-box .monitor {
  border-color: rgba(0, 0, 0, 0.2);
  background-color: rgba(0, 0, 0, 0.3);
}
.monitor-label {
  margin: 0 5px;
  font-weight: bold;
}
.monitor-value {
  display: inline-block;
  vertical-align: top;
  min-width: 34px;
  text-align: center;
  border-radius: 0.25rem;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: text;
  transform: translateZ(0);
}
.default .monitor-value,
.slider .monitor-value {
  margin: 0 5px;
  padding: 1px 3px;
}
.show-monitor-box .default .monitor-value,
.show-monitor-box .slider .monitor-value {
  background-color: rgba(0, 0, 0, 0.5);
}
.large {
  padding: 0.1rem 0.25rem;
  min-width: 3rem;
}
.show-monitor-box .large {
  background-color: rgba(0, 0, 0, 0.6);
}
.large .monitor-label {
  display: none;
}
.large .monitor-value {
  font-size: 1rem;
  width: 100%;
}
.list {
  padding: 0;
  overflow: auto;
  overflow-x: hidden;
}
.list .monitor-label {
  text-align: center;
  padding: 3px;
  width: 100%;
  display: block;
  margin: 0;
  box-sizing: border-box;
  white-space: pre-wrap;
}
.list .monitor-value {
  display: block;
}
.row {
  display: flex;
  align-items: center;
  padding: 2px;
  height: 24px;
  box-sizing: border-box;
  transform: translateZ(0);
}
.index {
  font-weight: bold;
  margin: 0 3px;
  flex: none;
}
.row-value {
  flex: auto;
  margin: 0 3px;
  text-align: left;
  border-radius: 0.25rem;
  border: 1px solid transparent;
  height: 22px;
  padding: 3px 5px;
  box-sizing: border-box;
  overflow: hidden;
  text-overflow: ellipsis;
}
.show-monitor-box .row-value {
  border-color: rgba(0, 0, 0, 0.2);
  background-color: rgba(0, 0, 0, 0.5);
}
.slider input {
  display: block;
  width: 100%;
  transform: translateZ(0);
}
#asking-box {
  display: none;
  position: absolute;
  left: 0;
  bottom: 0;
  right: 0;
  background-color: rgba(33, 33, 33, 0.7);
}
.asking #asking-box {
  display: block;
}
#question {
  display: block;
  margin: 0 10px;
  margin-top: 10px;
  font-size: 12px;
  color: white;
}
#answer {
  border: none;
  background: none;
  width: 100%;
  font: inherit;
  font-size: 16px;
  color: white;
  padding: 10px;
  box-sizing: border-box;
}
#answer:focus {
  outline: none;
}
#errors {
  -webkit-appearance: none;
  border: none;
  background: rgba(255, 0, 0, 0.7);
  color: white;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1000;
  display: none;
}

</style> <style>
#wrapper { width: 100vw; height: 75vw; }
@media (min-aspect-ratio: 480/360) {
#wrapper { height: 100vh; width: 133.33333333333331vh; }
}
#loading-progress {
border: 1px solid #00ffff;
}
#loading-progress::before {
color: #00ffff;
}
#loading-progress::after {
background-color: #00ffff;
}
.monitor {
color: #ffffff;
}
</style>
  </head>
  <body class="loading show-loading-progress stretch-loading-image show-fullscreen-btn show-monitor-box">
    <div id="wrapper">
      <canvas id="stage"></canvas>
      <div id="monitors"></div>
      <div id="asking-box">
        <label id="question" for="answer">Question</label>
        <input type="text" id="answer" />
      </div>
    </div>
    <div id="loading-progress" data-progress="0%"></div>
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYWFRgVFhYZGRgaHBofGhwcHCEcHB4eHhocHBwcHB4fJC4lHB4rHx4eJjgnKy8xNTU1GiU7QDs0Py40NTEBDAwMEA8QHxISHzErJSs9NDY0NDY9NDY0NDQ0NDY0NjQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NP/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAAABQMEBgIBBwj/xAA5EAABAwIEAwUIAQQCAgMAAAABAAIRAyEEEjFBBVFhcYGRofAGEyIyscHR4UIHFGLxUoIVciOiwv/EABkBAAMBAQEAAAAAAAAAAAAAAAADBAIBBf/EACYRAAMAAgICAwABBQEAAAAAAAABAgMREiExQQQTUcEiMnGRoWH/2gAMAwEAAhEDEQA/APjKEIQAIQhAAhCEACEIQAIQhAAnfBTIcJItsYJyiY6TokzRNgmlCg+k/LUa5ji0EB7SDDtDB2OvULNraHYK1aI+JDK4i+u+vel52TDiNSXHSN9lRpxMnREeAz/3ss4enYuOt4AmbfQTuvakzBgkgiYuCDckc/0pKD3ZTlaYJgb6xN517lZxNBtshgm53AA+kG3etoSJ3CPL6LhWKrI7TeCPXoLVcD4FTq4bO7LGaAWy6q5+Z3wNyyGEjKAXggl1to7rb0cdaWzGoTjj3B3Yd+UteGH5S5paYN9wJ5TAmDok641roE01tAhCFw6CEIQAIQhAAhCEACEIQAIQhAAhC7pUy4wEAcKRtJx0BPcn+F4U1gzOALts2ncPyr7HFxy2Fkis6XhD1gr2Y4heLaVuGuc3MWhzfEeKQY7hhbLmzA1G47Oa1Gaa6OVhqVsVIQgBNEn3/wDp37GYRlBldj21armg+9+FxY6AYpiSGFpJBkEk8hZZP+tHBatLEMxQvTe1rM24e3MYd1c287wdF8+4cXteA1zmO5tcWkEaXCa8X4hi3M91WxNaqx1yHPc4S0/53sVl2vAycVa5Izj6xOpXjXRsCiInoumFuhHfy7t1ow2/YzwuLaxggjMLgaiYiTa3PvUeNxTXXBJcSC6TYwLyBry7lNhqeH3Bd0zQftZTvqYWAfc5c22dzo2mZFt7oOCN75j161Wm9lONBjKuHrPqNova4wx0QbEn/Iw2A2QDJkpRWqsBs1vSw0mLzM7qFwqVLAGB0DR9gFraXbZxzy6HXtR7THEtbTAkN1qPaz39SJy53NFg2SA0GLrLpvhsA5pzO123jtU1bAtdMWPT7pTypsasLS6ESFYr4Yt6jmPVlLhOHueJJDW8zv2DdadJLezPF70UkLQUeDU4u8ns/wBIxHBGjQuB8Ql/dG9Gvqv8M+hWsXgnUzfxHqyqpqaa2jDTT0wQhCDgIQhAAhCEAegLTYPCtpNa4EF2pPJZ/CfO2eYTr2kGUUw3RwJPUiLd33ScnbUfpRi0pd/hzjeLlzjlPS3gqoxVUmR9PwuMHRtKZU8OsvjHSQxcq7bDA8Xc0gPEDmNO/wDKZ47D52iq0/AdQOf3VH+3BsRZTYPFmnRrNcZa2zZ1vBAHjCTSTfKV2OTetV4M3jqIa8hvhynZW8Hhw25u76diqU3SS46klX6LTF99lTTetEkxyraOX4bM4ka2uJHrRWv7VxsXP2ETPbr6sruAY2CTAsb67KTOARzMz36JDyPwiucSSF9Lg7XGJdO2nbuFK7gLNCXT3WjbTXom2GomZGgHLWFZqtcATYgxtodwlvPW9Jmlgj2jPngbP8+8367Ifw9jdGnrJJ8fwnbNTN/Wq6rUWxMLn3V7YfTPpIR06Iafha0eA817VpbzBntTb+2F7bHbpqqoZmiJ56dAdELJvs4410UWNNwTPYbfgqnxWoQ1o5kz3RHronhwTj8UftKuNYU5Jj5SCfp9wmY6TtGMk0pYu4exznFo0IuNin9WqymADHIqngctPDe8/lMdpOgVMYZzvidcnbZMrVN78IxP9MrXbff+CxS4m1p135G6cYTjVJ4IeRIFiRss7UwY5JfWplpR9MUc+64NbiOHSC9kPafLtWd4nw80yCND5H8KzwTjT6Lo1abEFMOOskOvIIzDlzXJ5RXF+DtKMkOl5MqhCFURAhCEACEIQB2wwQeS2WIw4xOGGX523aOdrjvHmAsUnvAeKZPhJjkfsk5pbSqfKKMFLbmvDIcC/Y6jUflOKRU+K4UytNSm9oqbjY9vXqEr965hh7SI3HxDxCQ2r8efwpScdP8A2NTABcdACT2C6zePxRIFPrmd1c6/gJjxV/E8RBYWietrRqfHTvSJt3Se0puGNdsVnvepRcwlKb6XTKiyAIAPr9Krg2jeB5Kz/fMafmnlv9Fytt9G54ylsnogjUypWgHXdVvftcfhcDPj4KYGNvXRKaGKl6GuDrEQCZHL1r3JvRfmBMN+Ubyf2B1WZY4zYx0V/Dvi5jn8QSKn2bVei17sA3PkumNuJAg6Ltzw5oebExN53A/C4e5sG4DSdfwD3Jb2MWiyKQF/ooGUQXNMmNDzNt42n6rxtZpAAPaBrYD1/pWqDIiIvfr2DuWe0MWmRYhhgACR66pPxckUXzrBG3ZfuT+uJv8AF9vMpXj8O1zXAg/ECJ5bLeKtNbMZZ2nozPCQKtCpR/m34m9YvH1VrAEOaClnDnGhUa8mCDBbvE3kaxF57E2xFMUazg0/BUGdh2g6jxV2SdNpe+1/JDiraTfrp/wFamlGOpiE2rVAk2NqTYXXMW9ncutFTCMLnNA5rS8ckNaCdGadY3VTgOAM5yo/aHFAuLQZ27gtU+eRJejMzwxNv2IkIQqSMEIQgAQhCABCEIAZYDijmETJHmmFTi1JzSHAyeizqEt4pb2OWaktDLFY8FmRrYEySdT0+ip0AoVYwwWtKV0cluqWzrE6BV4TNlAGxVh1VtJotcgiBr23WefpIZWLb23pCbIRqCr/AA51UuAEkbzcQO1T0eNOBADWiBAvHmbJzheLNfb5XDUH7cwsZKpLuTuLHDrqiN1CPhmJ0+qmrYw0mFzW5iNthr8R3hWGjQx0N9p25KemAQReNh+1Hz/Szh+PRkMTx2u+2bKOTRHnr5pc95OpPeZWv4hiqFKxa0u/4hrfPkUurcSoOdBo5QegnTW3irIvranojyR3p12Z4FfRfZetmoNc4kuEgGbkAkAd2ncs7R4VQrEe7eWHcH4gO4wR4larB4IMY1o/gIudecd9+9I+VkmpU+x3xcdTTr0XnOBHyxfmucThRrfS97dgsuPeRM943/S8oYtrhlPfMGfRKgUvyi50vDMdxngxdUzU4h0kgmO/7dvavMBi2VaYo1iQ5nyGYIjYH7dFqMbTaM0TB1ny1WUx3DgXlzXRNzbtuOv5V+LJyXGvXhkWTHxfKfflHrcA50nMS0KejhGtEwCTz0/aV13uYIa5wjqqdTGvcILjCcoqvfQl5Jn12OsVxkNaWsAk8tlnnuJMlcoTZhT4EXkdvsEIQtiwQhCABCEIAEIQgAQhCABW8MI1Vem2SrbNZWaY3Eu9jHANlwB0SjF1cziepjoJsE/4M8ZwDp+UhxtIte5p2J+v4S8b/qaG598UbXC/01qPwIxza7CCzMGZTOsQXTbthYalULXAjUFfX/6O+1dL3TsBiHNA+I088ZXNcPjYZtzMHYnkvlnHjSOJr+4AFL3j/dgSRkzHLE3iIT3rWiVNp7NHhK4IF+Su+9IY5wIEbi329SkHDiTTae0eB1TKjiJY8GZy+OnQledePTPVnJtC/wBmvZivxKrUbSdTD2jM7O4t1MWgGVJ7Tex+IwTZrPpuh4blY5ziCW5s0FoAbFp5qx/Tr2gbgse17zFN8sedgCbO7jHdK+z+2XsNR4jlqCs6m6B8TQHNcNi5pIkjYgi2swI9GNezyq3s/PeJwr6HuqozBtRudhIiQHOY4dzmnuIO4Wy4ZxV9amHZgCIBEdxt1/Cuf1W4PTweHweHFQ1KgNQ5nAAhgDQAANGztfQrN+yFNxa8gSJ37FN8uJ48l69lPxLrlx/R6+m11oJvMTbs0kxyMrimyN7QZ6/pMqVAC5vPl3G6jxxAixMnXtXmqvR6Th+RTiqzZymQeY8kqe+HSRYyPMaRv+U4dSkwdgCLeXbA81VxOF5CQfQT4pITcsR4kT9xuk1RsEhaSrR6apPxGjF1Ziv0RZp9lBCEJ5OCEIQAIQhAAhCEACEIQAIQhAE1AK61gkcj9PyqVBSkn5RqViltj4epL1Ku1rtVHxjFMqEEA5tJiAR9ZU+C4eNTrufwp+K8NPu8wF23jeN/ylcpVoZXKpZnEIQqCQlbWcNHEdhIU1HHPbMHUQZvI71VVw4FwptquLQx7i0fEC4x8zskzA5mBK40n5NKmvDIXvzEk2JWi4Z7cY/DMFKjinBg0aWsfA5DO0wOgVLhXCS4lxBDf4g6mTEnsF07ZwplvhnefxKTeeYehs4apbEPEMXicZV97Xc6o8gDM60AaAAQAN4A36rXezuDbTa0TE6k79+iqDhrQbMabHLMiDEEwPm53m/au6dGownK4gCLE5hf/EkwPV1Lmy/ZOk9FWCFje9GgqNA1cZ57Dt5/VVKcuEi5M9Wkf4+rSqbKxfLXy09NOhH4TFroEWH0McuSjc8S5Uq7KzsKS6ZhwG539FUsVTjUQY129eSaVHB/Qj1qEuxVT4Yd3ErcN7MUloT4g23VDiTQWnsny/KkxNT4o2H+oVfGVIY6+sAevWiuiWmiHI1piRCEKwhBCEIAEIQgAQhCABCEIAEIQgCXDugphgKYJcTqEvofME8wBDpYeUkRaO1KyPSKMK2hnhQ0iRB1HMW+/wCUxLARAvp9pnkoMJQaGQAABcDqVfoA5fHv9fZedkrvotmeuxLifZ9tT5TlcZLrWns27oS/EeyOIYC4BrmjcOj6wtjhmQQ7mR2Tv3q1xUltB5BkZY23PToV2fk5JaS/6Zfx4abPnGF4FVeSBAiOe/L1stFwv2Va0gvOYjaLeG/em3CqIb1sLdmp8yndNlvt61XM3ysj6T6DH8aF2xZTwkCBt2HkpX0wAS2CZg9O26Yuwu4mdtu5VsRgnuc1zahZldmc0CQ5tvhM+G+qmVbfbKOOvCOKuC+EFxuI0BF46bdyhdhyetjedeWu+vgr+L4eKzHU3zDst2mDIMiO8IqMygCLA9vdPVG+vJpz2JsWwgTuNCNZHrzUTeI5oix1I17la4tdjo3HfoLCFlRWDWz1MbaEx2p+OOUiqty9Id1cXItaEl4nj8s30Ub8USSAJJ5evNIMdWc5xk6FVYcC2T5szSLdN+rnHrdUsVXzHoNFCXk6lcqyZ09kVXtaBCELRgEIQgAQhCABCEIAEIQgAQhCAPWmCnWBxEEEbpIp8O4zABPQLNztDcV8WbHDPFjPrcHvTanXBF+e6xtDGFtnAjb8hNKOMB0PmoMmFl85EabD1SCY8NjzUnEHn+3qAHVsgcrhJqOMygb35/ZMatdjmPEEksIHO4t0Urhqk9DlSaKvDXRa45H8p9h7gaWIhZjC4v4WmZhXafEQL7TfmjJFNmZtI1DKuYd3mof7jKL69iz9XiuijfxEWmIHVLWGjf2IeYvC0/etxEnO1pAE/DBJmeZufQC6rYq2+3ZCz7+JW1ufouKWKfVcKbGuc50hrWtzOItsLx10CYsV1pMy8kzvRHxfGANzaf8AEdTELJuxRsAPFWcdjy917RYCVxw3C53ZjIEi+5ur8cLHHZJVO66G2FohlPMbudqdz0/SyeIMuPaVt8e3IwgEc+o7eqwrjJlb+O+W2Y+SuOkcoQhUkgIQhAAhCEACEIQAIQhAAhW8PgnOubDn+kwpYdjbxJ5lYrIkaUtiqlhnO0BP08VYHC6nIeIV5/E2jST2KH/yRcYFp71jlb8I7qStSwRzQ7QcimArtpiGtA9eaX1axFm+Kq5jOq05deTvgv4kOcGgaC/aTv65qt7p7eY77JzgnCB9wrdXDtjS8d34Svs4vWij6d97G+G/p1xMtkCmeQL7nsMR5pbhOGcRc+oxtGXU3FlQZmjK6Jj5r9okKLA8SxVExRxNWmB/FryG7fxnL5Jhwjj2OovqPZVl1Vwc8vY1+ZwETcWMbCNlt1jflC+GReGLuIez2Pw1N1erSyUw4AnM0wXaWDpXHBKGJxOY0g34CMxJI1mNB0Wi477RY3FYd9HEPpinLSQ2mGk5XAiTNhMG3JIPZj2lq4F1Q0G0358ub3jXEfDMFuVwj5j5LqeOvBxzknyy5xL2fxlCg+vUDQ1mWYBPzODRrG5GyeYX2AxLwCakggRDOg3JPNVeNe3mLxeHdh306DWVIDsjXZrEOEEvIBkclcp+3nE8jWMNFmVoaC2mS6AIBOZxk9y5vGjqnK/Aqr+zppcSZgar4a9odJdAE0y67rWlpGyfce4/SwNE4LhhY+o8EVqzYOUaAMeDd+t75bb6ZfiGGrYuoa2IearyA3NAEATaGw0ATsOamdwcMZIN42sLXul18iJ6kZPxrruhLheCOjM6OcbJ/ToEAFwJBtbXkQefJSsxJFOwBdz0FzE+F14KvwCXXMx2Sb9FLd1fksnHMLoVcazBoG5EAdyzIwD+S0OOqh7+g+srwUHW26aqjHbidE2SFdbM67BuChewjULYMwuaxAt68eip18INCEyc/fYuvj68GYQrmNwmW40PkqaemmtolqWnpghCF04CEIQB6BNkww2GAu7XyC5w1IC519WVhzST0SqrfSGzHtlqm8mw8VTxmFc4ZmyeY+4THCMmBCY08IQ3NaLX/SRz4vopWJVPZiF00wVo8fwYOBc35pMjY/grNkKmLVroluHD7LJuJCruC6Y+OxeOMnktJHHSaGGDxUAdE1wrwZuJMSsy0kFWaWLI3hKvHvwUY8y8UapuHDovNxP47EzwzmiBG/dosrh8fYSmbMaAFJeOvBXNz5Qy49WaaRA3LfMpXhaDBq0XXmJxWdmu265w2IGUNP7XZlzOjjaqtsbNwzDBbEja0BSMk2Jg8xEb6W2S6liA2+31Vatiw82kdOqxwpmncyO8Li2DMc1wSIH1jeea4r4ydNPWqzzq+UmD95UjcSRE3cYgDVd+nvZn7m1oZYnEBrC3c6+vWqUV8eflB+I+Q+2iuYXBOe6akho2Gp7eQ7EjqU8uIc3k50dl48oTscTtr87FZapJP0+hrgMMXmBE/wCvNaLAYPN8LvXqyqYHDlt7yfUKXGe0NOgDlh79xPwt7Tz6DyU987eoHxwhboZv4a1ozEhrRck27ZJsFmeJ8TpAkU5eelmjvOvck3EOLVsQficco0aLNHYPuZPVQUKZGg3T8eDit29sTkz8+pWl+l9hL/nLcv8Ax089Sp63DaLvlAHYSqzGknqddlYdRLdJstVtPp6F8VS8CzFcMLbtMj1ul7gRZavDwbOVfH8Ma6YsVuc2nqhd4etozSFe/wDFv6ef4Qnc5/RPCvw03D/Y3HPbmbhapB0kZfJ5BVfGcDxNAhtai+nOmZsA84d8p8Vuqf8AU7G4gH3FCnTuA3MHPHWTLY22Kq8X4xxSrSc2q1pY5tgKbm6gHc9Ytpr0R9Sfs6szXozOHpta2P5W7hC8xFOGjW5v2Ql+GxDw7K8EP2J3A+4jy6KzjuI+6bMguMgN1HKT0HJRVjpXx9l05JccvR3icfTptAJ+IXygXNtD0WTruBcS0QCTA3A2C5qPLiSTJOpXCrx41BFkyuwXTSN7rldAc5TBRyShS5BzPl+VNSotsXHK3Xck+GiAIXUyBJspaJeSGh2ukn8q7UD61mtDWagHnFzMSoH8Kqj+M9hWeU+GzaVa2tnuLqPpudTzA5bEghwJ3gxe9rclW/u38/IfhQFdBhOl+zXwXeK/DnKv0l/uHG2Y+MJpgcW/IadFgLnQXOIu20Q1xNrie5JcpnQym3BsO4VRMj4S49RoB4/Rcp8ZbR2VypJlylwwBozPJtoLb6CblMsPhgLgAC4jWRFpJv5rmlTdLQ4iLdhJ1A3J00TbDYPMAT+D2rz8mR+2elGP8RXotj7/AK6LNcaGWu150OU9TEA27Fr62HAkjw6rG+0k5wCNAfMrXxnuhfyVxk94jxpz7Aw0i4FuYgns5c90pc6d+wAWUaArplStJENXVPtjDAt8Eyp0Z0SvCO/Sb4cmOvr9pOTZTi01ouNwst2za9YXVJhMS2W39eualoEm/aPsVIypADNyVK6ZTxREcFyPraFxUpltjp6/2mVNpn7bL2vTaRZ19I2WOb2bcLWxHlPMITf/AMcf+Xkha5mOB9Q9gOBsZTzlok2iLWEb3jVbCtg2OGUtEXtFrr4r7M/1XZh6fu6mHeY0yvael5AummJ/rU0D/wCPBuJ/zqBsdwaZ25L0zyhX/UbhTKNZr4hrXtJi3w5hmA7ifFYn254M7CYypQL84AaWuiJa5oc2RsRMHsndTe1HtXiMfUl4Y0O0azyBJMnySXiVbM7M57n1HXe4mZPK9zFhPRatptPXZ1b1/wCFBCELJwFZFJ7hIEgWsoqTJMLQYRkNEcli74m5nYmpYJ7jy7T+E1wfDmgAu+I9dB2BWGUjYdFZo07Ke8raKIxJMkYxTsw/rZFCmIkm6v0QB2/ZSVevBVMmc4xwMumpTEnVwGp6gfZZkiLFfUGk3t3/AIVbHcNpVYztBdzFnd5Gqdi+W11aEZPjcnuTCYBzc7DU+QOGbe08putVwq+erBGcwwQflExHKTJVujwegw5m0wSNQ74+UGDoVdr0bB7Qba9m/ku5fkqp4yjWHA4rkyCjRktdluNdhyMeWvJX3NMQJ7Fw0CZadPD6a9V1VAiY8CPooqe2XpaRUeSCZkTrELH+04/+RpGhb9CVrqrGzqR3hZb2jo2aeX0P7Cr+M0qRJ8pNwzPIQheieWWqTjaOnj/tP8DUDgBlgxrznfzWcw74PrxTvA1g2J069EjKuirCxpQr68pspqVzJ5qnMGANfDqr1Ay4WF/rspKWuyudsaPIAJAuRHrwVbII/XiVbYY27bLiowE28FMnoopbIMvX/wCv7Qrfum8ihd5GeB80dX+KcrT0ygDwCmfjSdGMbtZoBO+yOHg5wIBEiZAP1Cu8Xc0CGgAQAcoAuOcan9L20jxX5FJrnM4i0z3A6gd1lChC4cBCEBAF/BUvNN6J5f7VDCNHW/JM6DL2EC/r6qXIynHPRPTF+oCuMYMswUUmaC6sNfB8uW1wpKoqmQpMMWJLt581PTpO1mHHXaexdYeiNdOassodbzbn4HZJqh0yFKiYGvjorPu7D15qEOMxYO3B+t1PO0adyVWzaSIm4XpM89NbKV1LLMfjZW6LMzRzXb6U/CVzl32d4iag8NGQiXN827eGncpXOkC2psZXmPZle1xF9DA1mTPiPNRPqQ0gnstf1fyTNb7BVpaOcThYOs80rxmCDmua7rdOmPDwADJOptta+6ruw7tIiNNDPadR+1qLcs5Uqj5niKJY4tOoKiWs9oeH5hnAAIHiB91lCF6+K1c7PIy43FaAFXqD5Eb7KgFPhXw4FapbRmK0zSYetLbkaBXsNMjtHnuqWGggaXm8d8dv7VlryBrfmob/AA9KB/iXiB18V5hXAiCLm0/RLKVeYvsmuCALgeyApanihyfJ7Lfum9PJCvZRy8x+EJYw+P4H52/+ys8W3/6/QoQvfR4L8i3EfMe76BRIQuAwXrdUIQcHOG0/6/YptQ0d62QhR5C7H4GdHTv+5XVb5D2/cIQpPZQjt/8AHsTSn83/AFQhJsbJx/Mdn3Uzfm/7IQss6hnR+ZSO+cetkISmbZR4t8zP/YfVZ+p8h7/qUIT8fhC6J+H/AP6+yYVNuz7hCF2vJuPArx23asDxT5+4IQrviEHzPRSC6ZqF6hXEKNFw/Q9jfqFar6d6EKGv7j0p8HeD/j2/lPsD8ze1CFPmHY/A6QhClKD/2Q==" id="loading-image"> 
    <div class="buttons">
      <!--
        Only support sprite files (no images) for now. See
        https://github.com/SheepTester/htmlifier/issues/67#issuecomment-894746718
      -->
      <input
        type="file"
        id="add-sprite-file"
        accept=".sprite2, .sprite3"
        aria-label="Select a Scratch sprite to add"
        multiple
      />
      <label
        class="button"
        id="add-sprite-btn"
        for="add-sprite-file"
        title="Add Scratch sprite to project"
      ></label>
      <button id="download-btn" aria-label="Download Scratch project"></button>
      <button id="start-btn" aria-label="Start"></button>
      <button id="stop-btn" aria-label="Stop" disabled></button>
      <button id="fullscreen-btn" aria-label="Enter/exit fullscreen"></button>
    </div>
    <textarea id="errors" readonly></textarea>
    <script>
var VirtualMachine=function(A){var B={};function g(Q){if(B[Q])return B[Q].exports;var E=B[Q]={i:Q,l:!1,exports:{}};return A[Q].call(E.exports,E,E.exports,g),E.l=!0,E.exports}return g.m=A,g.c=B,g.d=function(A,B,Q){g.o(A,B)||Object.defineProperty(A,B,{enumerable:!0,get:Q})},g.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},g.t=function(A,B){if(1&B&&(A=g(A)),8&B)return A;if(4&B&&"object"==typeof A&&A&&A.__esModule)return A;var Q=Object.create(null);if(g.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:A}),2&B&&"string"!=typeof A)for(var E in A)g.d(Q,E,function(B){return A[B]}.bind(null,E));return Q},g.n=function(A){var B=A&&A.__esModule?function(){return A.default}:function(){return A};return g.d(B,"a",B),B},g.o=function(A,B){return Object.prototype.hasOwnProperty.call(A,B)},g.p="",g(g.s=161)}([function(A,B,g){"use strict";(function(B){A.exports=function(A){for(var g="undefined"!=typeof window&&"function"==typeof window.atob?window.atob(A):B.from(A,"base64").toString("binary"),Q=new Uint8Array(g.length),E=0;E<g.length;++E)Q[E]=g.charCodeAt(E);return Q.buffer}}).call(this,g(4).Buffer)},function(A,B,g){var Q=g(32);Q.enable(),A.exports=Q("vm")},function(A,B,g){"use strict";var Q=g(22),E=g(121),C=g(50),e=g(374),w=g(38);function t(A){return A}function n(A,B){for(var g=0;g<A.length;++g)B[g]=255&A.charCodeAt(g);return B}B.newBlob=function(A,g){B.checkSupport("blob");try{return new Blob([A],{type:g})}catch(B){try{var Q=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Q.append(A),Q.getBlob(g)}catch(A){throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(A,B,g){var Q=[],E=0,C=A.length;if(C<=g)return String.fromCharCode.apply(null,A);for(;E<C;)"array"===B||"nodebuffer"===B?Q.push(String.fromCharCode.apply(null,A.slice(E,Math.min(E+g,C)))):Q.push(String.fromCharCode.apply(null,A.subarray(E,Math.min(E+g,C)))),E+=g;return Q.join("")},stringifyByChar:function(A){for(var B="",g=0;g<A.length;g++)B+=String.fromCharCode(A[g]);return B},applyCanBeUsed:{uint8array:function(){try{return Q.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(A){return!1}}(),nodebuffer:function(){try{return Q.nodebuffer&&1===String.fromCharCode.apply(null,C.allocBuffer(1)).length}catch(A){return!1}}()}};function i(A){var g=65536,Q=B.getTypeOf(A),E=!0;if("uint8array"===Q?E=I.applyCanBeUsed.uint8array:"nodebuffer"===Q&&(E=I.applyCanBeUsed.nodebuffer),E)for(;g>1;)try{return I.stringifyByChunk(A,Q,g)}catch(A){g=Math.floor(g/2)}return I.stringifyByChar(A)}function c(A,B){for(var g=0;g<A.length;g++)B[g]=A[g];return B}B.applyFromCharCode=i;var Y={};Y.string={string:t,array:function(A){return n(A,new Array(A.length))},arraybuffer:function(A){return Y.string.uint8array(A).buffer},uint8array:function(A){return n(A,new Uint8Array(A.length))},nodebuffer:function(A){return n(A,C.allocBuffer(A.length))}},Y.array={string:i,array:t,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return C.newBufferFrom(A)}},Y.arraybuffer={string:function(A){return i(new Uint8Array(A))},array:function(A){return c(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:t,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return C.newBufferFrom(new Uint8Array(A))}},Y.uint8array={string:i,array:function(A){return c(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:t,nodebuffer:function(A){return C.newBufferFrom(A)}},Y.nodebuffer={string:i,array:function(A){return c(A,new Array(A.length))},arraybuffer:function(A){return Y.nodebuffer.uint8array(A).buffer},uint8array:function(A){return c(A,new Uint8Array(A.length))},nodebuffer:t},B.transformTo=function(A,g){if(g||(g=""),!A)return g;B.checkSupport(A);var Q=B.getTypeOf(g);return Y[Q][A](g)},B.getTypeOf=function(A){return"string"==typeof A?"string":"[object Array]"===Object.prototype.toString.call(A)?"array":Q.nodebuffer&&C.isBuffer(A)?"nodebuffer":Q.uint8array&&A instanceof Uint8Array?"uint8array":Q.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},B.checkSupport=function(A){if(!Q[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},B.MAX_VALUE_16BITS=65535,B.MAX_VALUE_32BITS=-1,B.pretty=function(A){var B,g,Q="";for(g=0;g<(A||"").length;g++)Q+="\\x"+((B=A.charCodeAt(g))<16?"0":"")+B.toString(16).toUpperCase();return Q},B.delay=function(A,B,g){e(function(){A.apply(g||null,B||[])})},B.inherits=function(A,B){var g=function(){};g.prototype=B.prototype,A.prototype=new g},B.extend=function(){var A,B,g={};for(A=0;A<arguments.length;A++)for(B in arguments[A])arguments[A].hasOwnProperty(B)&&void 0===g[B]&&(g[B]=arguments[A][B]);return g},B.prepareContent=function(A,g,C,e,t){return w.Promise.resolve(g).then(function(A){return Q.blob&&(A instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A)))&&"undefined"!=typeof FileReader?new w.Promise(function(B,g){var Q=new FileReader;Q.onload=function(A){B(A.target.result)},Q.onerror=function(A){g(A.target.error)},Q.readAsArrayBuffer(A)}):A}).then(function(g){var I=B.getTypeOf(g);return I?("arraybuffer"===I?g=B.transformTo("uint8array",g):"string"===I&&(t?g=E.decode(g):C&&!0!==e&&(g=function(A){return n(A,Q.uint8array?new Uint8Array(A.length):new Array(A.length))}(g))),g):w.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(A,B,g){function Q(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var E=g(33),C=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,g){B&&Q(A.prototype,B),g&&Q(A,g)}(A,null,[{key:"toNumber",value:function(A){if("number"==typeof A)return Number.isNaN(A)?0:A;var B=Number(A);return Number.isNaN(B)?0:B}},{key:"toBoolean",value:function(A){return"boolean"==typeof A?A:"string"==typeof A?""!==A&&"0"!==A&&"false"!==A.toLowerCase():Boolean(A)}},{key:"toString",value:function(A){return String(A)}},{key:"toRgbColorList",value:function(B){var g=A.toRgbColorObject(B);return[g.r,g.g,g.b]}},{key:"toRgbColorObject",value:function(B){var g;return"string"==typeof B&&"#"===B.substring(0,1)?(g=E.hexToRgb(B))||(g={r:0,g:0,b:0,a:255}):g=E.decimalToRgb(A.toNumber(B)),g}},{key:"isWhiteSpace",value:function(A){return null===A||"string"==typeof A&&0===A.trim().length}},{key:"compare",value:function(B,g){var Q=Number(B),E=Number(g);if(0===Q&&A.isWhiteSpace(B)?Q=NaN:0===E&&A.isWhiteSpace(g)&&(E=NaN),isNaN(Q)||isNaN(E)){var C=String(B).toLowerCase(),e=String(g).toLowerCase();return C<e?-1:C>e?1:0}return Q===1/0&&E===1/0||Q===-1/0&&E===-1/0?0:Q-E}},{key:"isInt",value:function(A){return"number"==typeof A?!!isNaN(A)||A===parseInt(A,10):"boolean"==typeof A||"string"==typeof A&&A.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(B,g,Q){if("number"!=typeof B){if("all"===B)return Q?A.LIST_ALL:A.LIST_INVALID;if("last"===B)return g>0?g:A.LIST_INVALID;if("random"===B||"any"===B)return g>0?1+Math.floor(Math.random()*g):A.LIST_INVALID}return(B=Math.floor(A.toNumber(B)))<1||B>g?A.LIST_INVALID:B}}]),A}();A.exports=C},function(A,B,g){"use strict";(function(A){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var Q=g(79),E=g(174),C=g(80);function e(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function w(A,B){if(e()<B)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(B)).__proto__=t.prototype:(null===A&&(A=new t(B)),A.length=B),A}function t(A,B,g){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(A,B,g);if("number"==typeof A){if("string"==typeof B)throw new Error("If encoding is specified then the first argument must be a string");return i(this,A)}return n(this,A,B,g)}function n(A,B,g,Q){if("number"==typeof B)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&B instanceof ArrayBuffer?function(A,B,g,Q){if(B.byteLength,g<0||B.byteLength<g)throw new RangeError("'offset' is out of bounds");if(B.byteLength<g+(Q||0))throw new RangeError("'length' is out of bounds");B=void 0===g&&void 0===Q?new Uint8Array(B):void 0===Q?new Uint8Array(B,g):new Uint8Array(B,g,Q);t.TYPED_ARRAY_SUPPORT?(A=B).__proto__=t.prototype:A=c(A,B);return A}(A,B,g,Q):"string"==typeof B?function(A,B,g){"string"==typeof g&&""!==g||(g="utf8");if(!t.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var Q=0|M(B,g),E=(A=w(A,Q)).write(B,g);E!==Q&&(A=A.slice(0,E));return A}(A,B,g):function(A,B){if(t.isBuffer(B)){var g=0|Y(B.length);return 0===(A=w(A,g)).length?A:(B.copy(A,0,0,g),A)}if(B){if("undefined"!=typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return"number"!=typeof B.length||function(A){return A!=A}(B.length)?w(A,0):c(A,B);if("Buffer"===B.type&&C(B.data))return c(A,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(A,B)}function I(A){if("number"!=typeof A)throw new TypeError('"size" argument must be a number');if(A<0)throw new RangeError('"size" argument must not be negative')}function i(A,B){if(I(B),A=w(A,B<0?0:0|Y(B)),!t.TYPED_ARRAY_SUPPORT)for(var g=0;g<B;++g)A[g]=0;return A}function c(A,B){var g=B.length<0?0:0|Y(B.length);A=w(A,g);for(var Q=0;Q<g;Q+=1)A[Q]=255&B[Q];return A}function Y(A){if(A>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|A}function M(A,B){if(t.isBuffer(A))return A.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;"string"!=typeof A&&(A=""+A);var g=A.length;if(0===g)return 0;for(var Q=!1;;)switch(B){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return z(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return K(A).length;default:if(Q)return z(A).length;B=(""+B).toLowerCase(),Q=!0}}function o(A,B,g){var Q=A[B];A[B]=A[g],A[g]=Q}function s(A,B,g,Q,E){if(0===A.length)return-1;if("string"==typeof g?(Q=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=E?0:A.length-1),g<0&&(g=A.length+g),g>=A.length){if(E)return-1;g=A.length-1}else if(g<0){if(!E)return-1;g=0}if("string"==typeof B&&(B=t.from(B,Q)),t.isBuffer(B))return 0===B.length?-1:l(A,B,g,Q,E);if("number"==typeof B)return B&=255,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?E?Uint8Array.prototype.indexOf.call(A,B,g):Uint8Array.prototype.lastIndexOf.call(A,B,g):l(A,[B],g,Q,E);throw new TypeError("val must be string, number or Buffer")}function l(A,B,g,Q,E){var C,e=1,w=A.length,t=B.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(A.length<2||B.length<2)return-1;e=2,w/=2,t/=2,g/=2}function n(A,B){return 1===e?A[B]:A.readUInt16BE(B*e)}if(E){var I=-1;for(C=g;C<w;C++)if(n(A,C)===n(B,-1===I?0:C-I)){if(-1===I&&(I=C),C-I+1===t)return I*e}else-1!==I&&(C-=C-I),I=-1}else for(g+t>w&&(g=w-t),C=g;C>=0;C--){for(var i=!0,c=0;c<t;c++)if(n(A,C+c)!==n(B,c)){i=!1;break}if(i)return C}return-1}function r(A,B,g,Q){g=Number(g)||0;var E=A.length-g;Q?(Q=Number(Q))>E&&(Q=E):Q=E;var C=B.length;if(C%2!=0)throw new TypeError("Invalid hex string");Q>C/2&&(Q=C/2);for(var e=0;e<Q;++e){var w=parseInt(B.substr(2*e,2),16);if(isNaN(w))return e;A[g+e]=w}return e}function D(A,B,g,Q){return W(z(B,A.length-g),A,g,Q)}function F(A,B,g,Q){return W(function(A){for(var B=[],g=0;g<A.length;++g)B.push(255&A.charCodeAt(g));return B}(B),A,g,Q)}function a(A,B,g,Q){return F(A,B,g,Q)}function h(A,B,g,Q){return W(K(B),A,g,Q)}function u(A,B,g,Q){return W(function(A,B){for(var g,Q,E,C=[],e=0;e<A.length&&!((B-=2)<0);++e)g=A.charCodeAt(e),Q=g>>8,E=g%256,C.push(E),C.push(Q);return C}(B,A.length-g),A,g,Q)}function U(A,B,g){return 0===B&&g===A.length?Q.fromByteArray(A):Q.fromByteArray(A.slice(B,g))}function G(A,B,g){g=Math.min(A.length,g);for(var Q=[],E=B;E<g;){var C,e,w,t,n=A[E],I=null,i=n>239?4:n>223?3:n>191?2:1;if(E+i<=g)switch(i){case 1:n<128&&(I=n);break;case 2:128==(192&(C=A[E+1]))&&(t=(31&n)<<6|63&C)>127&&(I=t);break;case 3:C=A[E+1],e=A[E+2],128==(192&C)&&128==(192&e)&&(t=(15&n)<<12|(63&C)<<6|63&e)>2047&&(t<55296||t>57343)&&(I=t);break;case 4:C=A[E+1],e=A[E+2],w=A[E+3],128==(192&C)&&128==(192&e)&&128==(192&w)&&(t=(15&n)<<18|(63&C)<<12|(63&e)<<6|63&w)>65535&&t<1114112&&(I=t)}null===I?(I=65533,i=1):I>65535&&(I-=65536,Q.push(I>>>10&1023|55296),I=56320|1023&I),Q.push(I),E+=i}return function(A){var B=A.length;if(B<=N)return String.fromCharCode.apply(String,A);var g="",Q=0;for(;Q<B;)g+=String.fromCharCode.apply(String,A.slice(Q,Q+=N));return g}(Q)}B.Buffer=t,B.SlowBuffer=function(A){+A!=A&&(A=0);return t.alloc(+A)},B.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==A.TYPED_ARRAY_SUPPORT?A.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===A.foo()&&"function"==typeof A.subarray&&0===A.subarray(1,1).byteLength}catch(A){return!1}}(),B.kMaxLength=e(),t.poolSize=8192,t._augment=function(A){return A.__proto__=t.prototype,A},t.from=function(A,B,g){return n(null,A,B,g)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(A,B,g){return function(A,B,g,Q){return I(B),B<=0?w(A,B):void 0!==g?"string"==typeof Q?w(A,B).fill(g,Q):w(A,B).fill(g):w(A,B)}(null,A,B,g)},t.allocUnsafe=function(A){return i(null,A)},t.allocUnsafeSlow=function(A){return i(null,A)},t.isBuffer=function(A){return!(null==A||!A._isBuffer)},t.compare=function(A,B){if(!t.isBuffer(A)||!t.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(A===B)return 0;for(var g=A.length,Q=B.length,E=0,C=Math.min(g,Q);E<C;++E)if(A[E]!==B[E]){g=A[E],Q=B[E];break}return g<Q?-1:Q<g?1:0},t.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(A,B){if(!C(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return t.alloc(0);var g;if(void 0===B)for(B=0,g=0;g<A.length;++g)B+=A[g].length;var Q=t.allocUnsafe(B),E=0;for(g=0;g<A.length;++g){var e=A[g];if(!t.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(Q,E),E+=e.length}return Q},t.byteLength=M,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<A;B+=2)o(this,B,B+1);return this},t.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<A;B+=4)o(this,B,B+3),o(this,B+1,B+2);return this},t.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<A;B+=8)o(this,B,B+7),o(this,B+1,B+6),o(this,B+2,B+5),o(this,B+3,B+4);return this},t.prototype.toString=function(){var A=0|this.length;return 0===A?"":0===arguments.length?G(this,0,A):function(A,B,g){var Q=!1;if((void 0===B||B<0)&&(B=0),B>this.length)return"";if((void 0===g||g>this.length)&&(g=this.length),g<=0)return"";if((g>>>=0)<=(B>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return R(this,B,g);case"utf8":case"utf-8":return G(this,B,g);case"ascii":return m(this,B,g);case"latin1":case"binary":return J(this,B,g);case"base64":return U(this,B,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,B,g);default:if(Q)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Q=!0}}.apply(this,arguments)},t.prototype.equals=function(A){if(!t.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||0===t.compare(this,A)},t.prototype.inspect=function(){var A="",g=B.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(A+=" ... ")),"<Buffer "+A+">"},t.prototype.compare=function(A,B,g,Q,E){if(!t.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(void 0===B&&(B=0),void 0===g&&(g=A?A.length:0),void 0===Q&&(Q=0),void 0===E&&(E=this.length),B<0||g>A.length||Q<0||E>this.length)throw new RangeError("out of range index");if(Q>=E&&B>=g)return 0;if(Q>=E)return-1;if(B>=g)return 1;if(B>>>=0,g>>>=0,Q>>>=0,E>>>=0,this===A)return 0;for(var C=E-Q,e=g-B,w=Math.min(C,e),n=this.slice(Q,E),I=A.slice(B,g),i=0;i<w;++i)if(n[i]!==I[i]){C=n[i],e=I[i];break}return C<e?-1:e<C?1:0},t.prototype.includes=function(A,B,g){return-1!==this.indexOf(A,B,g)},t.prototype.indexOf=function(A,B,g){return s(this,A,B,g,!0)},t.prototype.lastIndexOf=function(A,B,g){return s(this,A,B,g,!1)},t.prototype.write=function(A,B,g,Q){if(void 0===B)Q="utf8",g=this.length,B=0;else if(void 0===g&&"string"==typeof B)Q=B,g=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B|=0,isFinite(g)?(g|=0,void 0===Q&&(Q="utf8")):(Q=g,g=void 0)}var E=this.length-B;if((void 0===g||g>E)&&(g=E),A.length>0&&(g<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var C=!1;;)switch(Q){case"hex":return r(this,A,B,g);case"utf8":case"utf-8":return D(this,A,B,g);case"ascii":return F(this,A,B,g);case"latin1":case"binary":return a(this,A,B,g);case"base64":return h(this,A,B,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,A,B,g);default:if(C)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),C=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function m(A,B,g){var Q="";g=Math.min(A.length,g);for(var E=B;E<g;++E)Q+=String.fromCharCode(127&A[E]);return Q}function J(A,B,g){var Q="";g=Math.min(A.length,g);for(var E=B;E<g;++E)Q+=String.fromCharCode(A[E]);return Q}function R(A,B,g){var Q=A.length;(!B||B<0)&&(B=0),(!g||g<0||g>Q)&&(g=Q);for(var E="",C=B;C<g;++C)E+=x(A[C]);return E}function H(A,B,g){for(var Q=A.slice(B,g),E="",C=0;C<Q.length;C+=2)E+=String.fromCharCode(Q[C]+256*Q[C+1]);return E}function d(A,B,g){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+B>g)throw new RangeError("Trying to access beyond buffer length")}function y(A,B,g,Q,E,C){if(!t.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>E||B<C)throw new RangeError('"value" argument is out of bounds');if(g+Q>A.length)throw new RangeError("Index out of range")}function k(A,B,g,Q){B<0&&(B=65535+B+1);for(var E=0,C=Math.min(A.length-g,2);E<C;++E)A[g+E]=(B&255<<8*(Q?E:1-E))>>>8*(Q?E:1-E)}function f(A,B,g,Q){B<0&&(B=4294967295+B+1);for(var E=0,C=Math.min(A.length-g,4);E<C;++E)A[g+E]=B>>>8*(Q?E:3-E)&255}function j(A,B,g,Q,E,C){if(g+Q>A.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function T(A,B,g,Q,C){return C||j(A,0,g,4),E.write(A,B,g,Q,23,4),g+4}function S(A,B,g,Q,C){return C||j(A,0,g,8),E.write(A,B,g,Q,52,8),g+8}t.prototype.slice=function(A,B){var g,Q=this.length;if(A=~~A,B=void 0===B?Q:~~B,A<0?(A+=Q)<0&&(A=0):A>Q&&(A=Q),B<0?(B+=Q)<0&&(B=0):B>Q&&(B=Q),B<A&&(B=A),t.TYPED_ARRAY_SUPPORT)(g=this.subarray(A,B)).__proto__=t.prototype;else{var E=B-A;g=new t(E,void 0);for(var C=0;C<E;++C)g[C]=this[C+A]}return g},t.prototype.readUIntLE=function(A,B,g){A|=0,B|=0,g||d(A,B,this.length);for(var Q=this[A],E=1,C=0;++C<B&&(E*=256);)Q+=this[A+C]*E;return Q},t.prototype.readUIntBE=function(A,B,g){A|=0,B|=0,g||d(A,B,this.length);for(var Q=this[A+--B],E=1;B>0&&(E*=256);)Q+=this[A+--B]*E;return Q},t.prototype.readUInt8=function(A,B){return B||d(A,1,this.length),this[A]},t.prototype.readUInt16LE=function(A,B){return B||d(A,2,this.length),this[A]|this[A+1]<<8},t.prototype.readUInt16BE=function(A,B){return B||d(A,2,this.length),this[A]<<8|this[A+1]},t.prototype.readUInt32LE=function(A,B){return B||d(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},t.prototype.readUInt32BE=function(A,B){return B||d(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},t.prototype.readIntLE=function(A,B,g){A|=0,B|=0,g||d(A,B,this.length);for(var Q=this[A],E=1,C=0;++C<B&&(E*=256);)Q+=this[A+C]*E;return Q>=(E*=128)&&(Q-=Math.pow(2,8*B)),Q},t.prototype.readIntBE=function(A,B,g){A|=0,B|=0,g||d(A,B,this.length);for(var Q=B,E=1,C=this[A+--Q];Q>0&&(E*=256);)C+=this[A+--Q]*E;return C>=(E*=128)&&(C-=Math.pow(2,8*B)),C},t.prototype.readInt8=function(A,B){return B||d(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},t.prototype.readInt16LE=function(A,B){B||d(A,2,this.length);var g=this[A]|this[A+1]<<8;return 32768&g?4294901760|g:g},t.prototype.readInt16BE=function(A,B){B||d(A,2,this.length);var g=this[A+1]|this[A]<<8;return 32768&g?4294901760|g:g},t.prototype.readInt32LE=function(A,B){return B||d(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},t.prototype.readInt32BE=function(A,B){return B||d(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},t.prototype.readFloatLE=function(A,B){return B||d(A,4,this.length),E.read(this,A,!0,23,4)},t.prototype.readFloatBE=function(A,B){return B||d(A,4,this.length),E.read(this,A,!1,23,4)},t.prototype.readDoubleLE=function(A,B){return B||d(A,8,this.length),E.read(this,A,!0,52,8)},t.prototype.readDoubleBE=function(A,B){return B||d(A,8,this.length),E.read(this,A,!1,52,8)},t.prototype.writeUIntLE=function(A,B,g,Q){(A=+A,B|=0,g|=0,Q)||y(this,A,B,g,Math.pow(2,8*g)-1,0);var E=1,C=0;for(this[B]=255&A;++C<g&&(E*=256);)this[B+C]=A/E&255;return B+g},t.prototype.writeUIntBE=function(A,B,g,Q){(A=+A,B|=0,g|=0,Q)||y(this,A,B,g,Math.pow(2,8*g)-1,0);var E=g-1,C=1;for(this[B+E]=255&A;--E>=0&&(C*=256);)this[B+E]=A/C&255;return B+g},t.prototype.writeUInt8=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,1,255,0),t.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[B]=255&A,B+1},t.prototype.writeUInt16LE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[B]=255&A,this[B+1]=A>>>8):k(this,A,B,!0),B+2},t.prototype.writeUInt16BE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[B]=A>>>8,this[B+1]=255&A):k(this,A,B,!1),B+2},t.prototype.writeUInt32LE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[B+3]=A>>>24,this[B+2]=A>>>16,this[B+1]=A>>>8,this[B]=255&A):f(this,A,B,!0),B+4},t.prototype.writeUInt32BE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[B]=A>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=255&A):f(this,A,B,!1),B+4},t.prototype.writeIntLE=function(A,B,g,Q){if(A=+A,B|=0,!Q){var E=Math.pow(2,8*g-1);y(this,A,B,g,E-1,-E)}var C=0,e=1,w=0;for(this[B]=255&A;++C<g&&(e*=256);)A<0&&0===w&&0!==this[B+C-1]&&(w=1),this[B+C]=(A/e>>0)-w&255;return B+g},t.prototype.writeIntBE=function(A,B,g,Q){if(A=+A,B|=0,!Q){var E=Math.pow(2,8*g-1);y(this,A,B,g,E-1,-E)}var C=g-1,e=1,w=0;for(this[B+C]=255&A;--C>=0&&(e*=256);)A<0&&0===w&&0!==this[B+C+1]&&(w=1),this[B+C]=(A/e>>0)-w&255;return B+g},t.prototype.writeInt8=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,1,127,-128),t.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[B]=255&A,B+1},t.prototype.writeInt16LE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[B]=255&A,this[B+1]=A>>>8):k(this,A,B,!0),B+2},t.prototype.writeInt16BE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[B]=A>>>8,this[B+1]=255&A):k(this,A,B,!1),B+2},t.prototype.writeInt32LE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[B]=255&A,this[B+1]=A>>>8,this[B+2]=A>>>16,this[B+3]=A>>>24):f(this,A,B,!0),B+4},t.prototype.writeInt32BE=function(A,B,g){return A=+A,B|=0,g||y(this,A,B,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),t.TYPED_ARRAY_SUPPORT?(this[B]=A>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=255&A):f(this,A,B,!1),B+4},t.prototype.writeFloatLE=function(A,B,g){return T(this,A,B,!0,g)},t.prototype.writeFloatBE=function(A,B,g){return T(this,A,B,!1,g)},t.prototype.writeDoubleLE=function(A,B,g){return S(this,A,B,!0,g)},t.prototype.writeDoubleBE=function(A,B,g){return S(this,A,B,!1,g)},t.prototype.copy=function(A,B,g,Q){if(g||(g=0),Q||0===Q||(Q=this.length),B>=A.length&&(B=A.length),B||(B=0),Q>0&&Q<g&&(Q=g),Q===g)return 0;if(0===A.length||0===this.length)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),A.length-B<Q-g&&(Q=A.length-B+g);var E,C=Q-g;if(this===A&&g<B&&B<Q)for(E=C-1;E>=0;--E)A[E+B]=this[E+g];else if(C<1e3||!t.TYPED_ARRAY_SUPPORT)for(E=0;E<C;++E)A[E+B]=this[E+g];else Uint8Array.prototype.set.call(A,this.subarray(g,g+C),B);return C},t.prototype.fill=function(A,B,g,Q){if("string"==typeof A){if("string"==typeof B?(Q=B,B=0,g=this.length):"string"==typeof g&&(Q=g,g=this.length),1===A.length){var E=A.charCodeAt(0);E<256&&(A=E)}if(void 0!==Q&&"string"!=typeof Q)throw new TypeError("encoding must be a string");if("string"==typeof Q&&!t.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q)}else"number"==typeof A&&(A&=255);if(B<0||this.length<B||this.length<g)throw new RangeError("Out of range index");if(g<=B)return this;var C;if(B>>>=0,g=void 0===g?this.length:g>>>0,A||(A=0),"number"==typeof A)for(C=B;C<g;++C)this[C]=A;else{var e=t.isBuffer(A)?A:z(new t(A,Q).toString()),w=e.length;for(C=0;C<g-B;++C)this[C+B]=e[C%w]}return this};var p=/[^+\/0-9A-Za-z-_]/g;function x(A){return A<16?"0"+A.toString(16):A.toString(16)}function z(A,B){var g;B=B||1/0;for(var Q=A.length,E=null,C=[],e=0;e<Q;++e){if((g=A.charCodeAt(e))>55295&&g<57344){if(!E){if(g>56319){(B-=3)>-1&&C.push(239,191,189);continue}if(e+1===Q){(B-=3)>-1&&C.push(239,191,189);continue}E=g;continue}if(g<56320){(B-=3)>-1&&C.push(239,191,189),E=g;continue}g=65536+(E-55296<<10|g-56320)}else E&&(B-=3)>-1&&C.push(239,191,189);if(E=null,g<128){if((B-=1)<0)break;C.push(g)}else if(g<2048){if((B-=2)<0)break;C.push(g>>6|192,63&g|128)}else if(g<65536){if((B-=3)<0)break;C.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;C.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return C}function K(A){return Q.toByteArray(function(A){if((A=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}(A).replace(p,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(A))}function W(A,B,g,Q){for(var E=0;E<Q&&!(E+g>=B.length||E>=A.length);++E)B[E+g]=A[E];return E}}).call(this,g(9))},function(A,B){function g(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var Q=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,Q){B&&g(A.prototype,B),Q&&g(A,Q)}(A,null,[{key:"degToRad",value:function(A){return A*Math.PI/180}},{key:"radToDeg",value:function(A){return 180*A/Math.PI}},{key:"clamp",value:function(A,B,g){return Math.min(Math.max(A,B),g)}},{key:"wrapClamp",value:function(A,B,g){var Q=g-B+1;return A-Math.floor((A-B)/Q)*Q}},{key:"tan",value:function(A){switch(A%=360){case-270:case 90:return 1/0;case-90:case 270:return-1/0;default:return parseFloat(Math.tan(Math.PI*A/180).toFixed(10))}}},{key:"reducedSortOrdering",value:function(A){var B=A.slice(0).sort(function(A,B){return A-B});return A.map(function(A){return B.indexOf(A)})}},{key:"inclusiveRandIntWithout",value:function(A,B,g){var Q=B-A,E=A+Math.floor(Math.random()*Q);return E>=g?E+1:E}},{key:"scale",value:function(A,B,g,Q,E){return(A-B)/(g-B)*(E-Q)+Q}}]),A}();A.exports=Q},function(A,B){A.exports={BOOLEAN:"Boolean",BUTTON:"button",COMMAND:"command",CONDITIONAL:"conditional",EVENT:"event",HAT:"hat",LOOP:"loop",REPORTER:"reporter"}},function(A,B,g){"use strict";var Q=g(199),E=g(200),C=g(90),e=g(203),w=g(204);function t(A,B){return Object.keys(B).forEach(function(g){A[g]=B[g]}),A}A.exports=function A(){var B=t({},w),g="en",n={},I=function(A){return A},i=null,c="warning",Y={};function M(A,B,C){var e="string"==typeof A?A:A.default,w=l(e,"object"==typeof A&&A.id||I(e),C||g);return(w.format||(w.format=E(Q(w.message),C||g,Y)))(B)}M.rich=function(A,B,C){var e="string"==typeof A?A:A.default,w=l(e,"object"==typeof A&&A.id||I(e),C||g);return(w.toParts||(w.toParts=E.toParts(Q(w.message,{tagsType:o}),C||g,Y)))(B)};var o="<>";function s(A,B){var g=A[2];return function(A,B){var Q="object"==typeof g?function(A,B){return Object.keys(A).reduce(function(g,Q){return g[Q]=A[Q](B),g},{})}(g,B):g;return"function"==typeof A?A(Q):A}}function l(A,B,g){var Q=e(g,n)||"en",E=n[Q]||(n[Q]={}),C=E[B];if("string"==typeof C&&(C=E[B]={message:C}),!C){var w='Translation for "'+B+'" in "'+Q+'" is missing';if("warning"===c)"undefined"!=typeof console&&console.warn(w);else if("ignore"!==c)throw new Error(w);var t="function"==typeof i?i(A,B,Q)||A:i||A;C=E[B]={message:t}}return C}function r(A,B,Q,E,w){"object"==typeof Q&&"object"!=typeof E&&(w=E,E=Q,Q=0);var t=e(w||g,C),n=t&&C[t][A]||D;return E["="+ +B]||E[n(B-Q)]||E.other}function D(){return"other"}return Y[o]=s,M.setup=function(A){return(A=A||{}).locale&&(g=A.locale),"translations"in A&&(n=A.translations||{}),A.generateId&&(I=A.generateId),"missingReplacement"in A&&(i=A.missingReplacement),A.missingTranslation&&(c=A.missingTranslation),A.formats&&(A.formats.number&&t(B.number,A.formats.number),A.formats.date&&t(B.date,A.formats.date),A.formats.time&&t(B.time,A.formats.time)),A.types&&((Y=A.types)[o]=s),{locale:g,translations:n,generateId:I,missingReplacement:i,missingTranslation:c,formats:B,types:Y}},M.number=function(A,Q,E){var C=Q&&B.number[Q]||B.parseNumberPattern(Q)||B.number.default;return new Intl.NumberFormat(E||g,C).format(A)},M.date=function(A,Q,E){var C=Q&&B.date[Q]||B.parseDatePattern(Q)||B.date.default;return new Intl.DateTimeFormat(E||g,C).format(A)},M.time=function(A,Q,E){var C=Q&&B.time[Q]||B.parseDatePattern(Q)||B.time.default;return new Intl.DateTimeFormat(E||g,C).format(A)},M.select=function(A,B){return B[A]||B.other},M.custom=function(A,B,g,Q){return A[1]in Y?Y[A[1]](A,B)(g,Q):g},M.plural=r.bind(null,"cardinal"),M.selectordinal=r.bind(null,"ordinal"),M.namespace=A,M}()},function(A,B){A.exports={ANGLE:"angle",BOOLEAN:"Boolean",COLOR:"color",NUMBER:"number",STRING:"string",MATRIX:"matrix",NOTE:"note",IMAGE:"image"}},function(A,B){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(A){"object"==typeof window&&(g=window)}A.exports=g},function(A,B,g){"use strict";function Q(A){this.name=A||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}Q.prototype={push:function(A){this.emit("data",A)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(A){this.emit("error",A)}return!0},error:function(A){return!this.isFinished&&(this.isPaused?this.generatedError=A:(this.isFinished=!0,this.emit("error",A),this.previous&&this.previous.error(A),this.cleanUp()),!0)},on:function(A,B){return this._listeners[A].push(B),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(A,B){if(this._listeners[A])for(var g=0;g<this._listeners[A].length;g++)this._listeners[A][g].call(this,B)},pipe:function(A){return A.registerPrevious(this)},registerPrevious:function(A){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=A.streamInfo,this.mergeStreamInfo(),this.previous=A;var B=this;return A.on("data",function(A){B.processChunk(A)}),A.on("end",function(){B.end()}),A.on("error",function(A){B.error(A)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var A=!1;return this.generatedError&&(this.error(this.generatedError),A=!0),this.previous&&this.previous.resume(),!A},flush:function(){},processChunk:function(A){this.push(A)},withStreamInfo:function(A,B){return this.extraStreamInfo[A]=B,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var A in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(A)&&(this.streamInfo[A]=this.extraStreamInfo[A])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var A="Worker "+this.name;return this.previous?this.previous+" -> "+A:A}},A.exports=Q},function(A,B,g){"use strict";var Q,E="object"==typeof Reflect?Reflect:null,C=E&&"function"==typeof E.apply?E.apply:function(A,B,g){return Function.prototype.apply.call(A,B,g)};Q=E&&"function"==typeof E.ownKeys?E.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var e=Number.isNaN||function(A){return A!=A};function w(){w.init.call(this)}A.exports=w,A.exports.once=function(A,B){return new Promise(function(g,Q){function E(){void 0!==C&&A.removeListener("error",C),g([].slice.call(arguments))}var C;"error"!==B&&(C=function(g){A.removeListener(B,E),Q(g)},A.once("error",C)),A.once(B,E)})},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var t=10;function n(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function I(A){return void 0===A._maxListeners?w.defaultMaxListeners:A._maxListeners}function i(A,B,g,Q){var E,C,e;if(n(g),void 0===(C=A._events)?(C=A._events=Object.create(null),A._eventsCount=0):(void 0!==C.newListener&&(A.emit("newListener",B,g.listener?g.listener:g),C=A._events),e=C[B]),void 0===e)e=C[B]=g,++A._eventsCount;else if("function"==typeof e?e=C[B]=Q?[g,e]:[e,g]:Q?e.unshift(g):e.push(g),(E=I(A))>0&&e.length>E&&!e.warned){e.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=A,w.type=B,w.count=e.length,function(A){console&&console.warn&&console.warn(A)}(w)}return A}function c(A,B,g){var Q={fired:!1,wrapFn:void 0,target:A,type:B,listener:g},E=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(Q);return E.listener=g,Q.wrapFn=E,E}function Y(A,B,g){var Q=A._events;if(void 0===Q)return[];var E=Q[B];return void 0===E?[]:"function"==typeof E?g?[E.listener||E]:[E]:g?function(A){for(var B=new Array(A.length),g=0;g<B.length;++g)B[g]=A[g].listener||A[g];return B}(E):o(E,E.length)}function M(A){var B=this._events;if(void 0!==B){var g=B[A];if("function"==typeof g)return 1;if(void 0!==g)return g.length}return 0}function o(A,B){for(var g=new Array(B),Q=0;Q<B;++Q)g[Q]=A[Q];return g}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(A){if("number"!=typeof A||A<0||e(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");t=A}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||e(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},w.prototype.getMaxListeners=function(){return I(this)},w.prototype.emit=function(A){for(var B=[],g=1;g<arguments.length;g++)B.push(arguments[g]);var Q="error"===A,E=this._events;if(void 0!==E)Q=Q&&void 0===E.error;else if(!Q)return!1;if(Q){var e;if(B.length>0&&(e=B[0]),e instanceof Error)throw e;var w=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw w.context=e,w}var t=E[A];if(void 0===t)return!1;if("function"==typeof t)C(t,this,B);else{var n=t.length,I=o(t,n);for(g=0;g<n;++g)C(I[g],this,B)}return!0},w.prototype.addListener=function(A,B){return i(this,A,B,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(A,B){return i(this,A,B,!0)},w.prototype.once=function(A,B){return n(B),this.on(A,c(this,A,B)),this},w.prototype.prependOnceListener=function(A,B){return n(B),this.prependListener(A,c(this,A,B)),this},w.prototype.removeListener=function(A,B){var g,Q,E,C,e;if(n(B),void 0===(Q=this._events))return this;if(void 0===(g=Q[A]))return this;if(g===B||g.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete Q[A],Q.removeListener&&this.emit("removeListener",A,g.listener||B));else if("function"!=typeof g){for(E=-1,C=g.length-1;C>=0;C--)if(g[C]===B||g[C].listener===B){e=g[C].listener,E=C;break}if(E<0)return this;0===E?g.shift():function(A,B){for(;B+1<A.length;B++)A[B]=A[B+1];A.pop()}(g,E),1===g.length&&(Q[A]=g[0]),void 0!==Q.removeListener&&this.emit("removeListener",A,e||B)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(A){var B,g,Q;if(void 0===(g=this._events))return this;if(void 0===g.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==g[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete g[A]),this;if(0===arguments.length){var E,C=Object.keys(g);for(Q=0;Q<C.length;++Q)"removeListener"!==(E=C[Q])&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=g[A]))this.removeListener(A,B);else if(void 0!==B)for(Q=B.length-1;Q>=0;Q--)this.removeListener(A,B[Q]);return this},w.prototype.listeners=function(A){return Y(this,A,!0)},w.prototype.rawListeners=function(A){return Y(this,A,!1)},w.listenerCount=function(A,B){return"function"==typeof A.listenerCount?A.listenerCount(B):M.call(A,B)},w.prototype.listenerCount=M,w.prototype.eventNames=function(){return this._eventsCount>0?Q(this._events):[]}},function(A,B){"function"==typeof Object.create?A.exports=function(A,B){A.super_=B,A.prototype=Object.create(B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}})}:A.exports=function(A,B){A.super_=B;var g=function(){};g.prototype=B.prototype,A.prototype=new g,A.prototype.constructor=A}},function(A,B){var g="!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";A.exports=function(){for(var A=g.length,B=[],Q=0;Q<20;Q++)B[Q]=g.charAt(Math.random()*A);return B.join("")}},function(A,B,g){function Q(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var E=g(1),C=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,g){B&&Q(A.prototype,B),g&&Q(A,g)}(A,null,[{key:"withoutTrailingDigits",value:function(A){for(var B=A.length-1;B>=0&&"0123456789".indexOf(A.charAt(B))>-1;)B--;return A.slice(0,B+1)}},{key:"unusedName",value:function(B,g){if(g.indexOf(B)<0)return B;B=A.withoutTrailingDigits(B);for(var Q=2;g.indexOf(B+Q)>=0;)Q++;return B+Q}},{key:"splitFirst",value:function(A,B){var g=A.indexOf(B);return g>=0?[A.substring(0,g),A.substring(g+1)]:[A,null]}},{key:"stringify",value:function(A){return JSON.stringify(A,function(A,B){return"number"!=typeof B||B!==1/0&&B!==-1/0&&!isNaN(B)?B:0})}},{key:"replaceUnsafeChars",value:function(A){if("string"!=typeof A){if(!Array.isArray(A))return E.error("Unexpected input recieved in replaceUnsafeChars"),A;A=String(A)}return A.replace(/[<>&'"]/g,function(A){switch(A){case"<":return"lt";case">":return"gt";case"&":return"amp";case"'":return"apos";case'"':return"quot"}})}}]),A}();A.exports=C},function(A,B){var g=!0,Q=!0;A.exports=function(){var A=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return A?(void 0!==B&&(Q=B),Q):(void 0!==B&&(g=B),g)}},function(A,B,g){
/*!
 * @license twgl.js 4.4.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(B,g){A.exports=g()}("undefined"!=typeof self&&self,function(){return function(A){var B={};function g(Q){if(B[Q])return B[Q].exports;var E=B[Q]={i:Q,l:!1,exports:{}};return A[Q].call(E.exports,E,E.exports,g),E.l=!0,E.exports}return g.m=A,g.c=B,g.d=function(A,B,Q){g.o(A,B)||Object.defineProperty(A,B,{configurable:!1,enumerable:!0,get:Q})},g.n=function(A){var B=A&&A.__esModule?function(){return A.default}:function(){return A};return g.d(B,"a",B),B},g.o=function(A,B){return Object.prototype.hasOwnProperty.call(A,B)},g.p="",g(g.s=9)}([function(A,B,g){"use strict";B.__esModule=!0,B.copyExistingProperties=function(A,B){Object.keys(B).forEach(function(g){B.hasOwnProperty(g)&&A.hasOwnProperty(g)&&(B[g]=A[g])})},B.copyNamedProperties=function(A,B,g){A.forEach(function(A){var Q=B[A];void 0!==Q&&(g[A]=Q)})},B.isBuffer=function(A,B){C||(C=A.createBuffer());return B instanceof C.constructor},B.isRenderbuffer=function(A,B){e||(e=A.createRenderbuffer());return B instanceof e.constructor},B.isShader=function(A,B){w||(w=A.createShader(A.VERTEX_SHADER));return B instanceof w.constructor},B.isTexture=function(A,B){t||(t=A.createTexture());return B instanceof t.constructor},B.isSampler=function(A,B){if(!n){if(!A.createSampler)return!1;n=A.createSampler()}return B instanceof n.constructor},B.warn=B.error=void 0;var Q=function(A){return A&&A.__esModule?A:{default:A}}(g(2));var E=Q.default.console&&Q.default.console.error&&"function"==typeof Q.default.console.error?Q.default.console.error.bind(Q.default.console):function(){};B.error=E;var C,e,w,t,n,I=Q.default.console&&Q.default.console.warn&&"function"==typeof Q.default.console.warn?Q.default.console.warn.bind(Q.default.console):function(){};B.warn=I},function(A,B,g){"use strict";B.__esModule=!0,B.getGLTypeForTypedArray=function(A){if(A instanceof Int8Array)return E;if(A instanceof Uint8Array)return C;if(A instanceof Uint8ClampedArray)return C;if(A instanceof Int16Array)return e;if(A instanceof Uint16Array)return w;if(A instanceof Int32Array)return t;if(A instanceof Uint32Array)return n;if(A instanceof Float32Array)return I;throw"unsupported typed array type"},B.getGLTypeForTypedArrayType=function(A){if(A===Int8Array)return E;if(A===Uint8Array)return C;if(A===Uint8ClampedArray)return C;if(A===Int16Array)return e;if(A===Uint16Array)return w;if(A===Int32Array)return t;if(A===Uint32Array)return n;if(A===Float32Array)return I;throw"unsupported typed array type"},B.getTypedArrayTypeForGLType=function(A){var B=i[A];if(!B)throw"unknown gl type";return B},B.isArrayBuffer=void 0;var Q=function(A){return A&&A.__esModule?A:{default:A}}(g(2));var E=5120,C=5121,e=5122,w=5123,t=5124,n=5125,I=5126,i={},c=i;c[E]=Int8Array,c[C]=Uint8Array,c[e]=Int16Array,c[w]=Uint16Array,c[t]=Int32Array,c[n]=Uint32Array,c[I]=Float32Array,c[32819]=Uint16Array,c[32820]=Uint16Array,c[33635]=Uint16Array,c[5131]=Uint16Array,c[33640]=Uint32Array,c[35899]=Uint32Array,c[35902]=Uint32Array,c[36269]=Uint32Array,c[34042]=Uint32Array;var Y=Q.default.SharedArrayBuffer?function(A){return A&&A.buffer&&(A.buffer instanceof ArrayBuffer||A.buffer instanceof Q.default.SharedArrayBuffer)}:function(A){return A&&A.buffer&&A.buffer instanceof ArrayBuffer};B.isArrayBuffer=Y},function(A,B,g){"use strict";B.__esModule=!0,B.default=void 0;var Q=void 0!==Q?Q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};B.default=Q},function(A,B,g){"use strict";B.__esModule=!0,B.add=function(A,B,g){return(g=g||new Q(3))[0]=A[0]+B[0],g[1]=A[1]+B[1],g[2]=A[2]+B[2],g},B.copy=function(A,B){return(B=B||new Q(3))[0]=A[0],B[1]=A[1],B[2]=A[2],B},B.create=function(A,B,g){var E=new Q(3);A&&(E[0]=A);B&&(E[1]=B);g&&(E[2]=g);return E},B.cross=function(A,B,g){g=g||new Q(3);var E=A[2]*B[0]-A[0]*B[2],C=A[0]*B[1]-A[1]*B[0];return g[0]=A[1]*B[2]-A[2]*B[1],g[1]=E,g[2]=C,g},B.distance=function(A,B){var g=A[0]-B[0],Q=A[1]-B[1],E=A[2]-B[2];return Math.sqrt(g*g+Q*Q+E*E)},B.distanceSq=function(A,B){var g=A[0]-B[0],Q=A[1]-B[1],E=A[2]-B[2];return g*g+Q*Q+E*E},B.divide=function(A,B,g){return(g=g||new Q(3))[0]=A[0]/B[0],g[1]=A[1]/B[1],g[2]=A[2]/B[2],g},B.divScalar=function(A,B,g){return(g=g||new Q(3))[0]=A[0]/B,g[1]=A[1]/B,g[2]=A[2]/B,g},B.dot=function(A,B){return A[0]*B[0]+A[1]*B[1]+A[2]*B[2]},B.lerp=function(A,B,g,E){return(E=E||new Q(3))[0]=(1-g)*A[0]+g*B[0],E[1]=(1-g)*A[1]+g*B[1],E[2]=(1-g)*A[2]+g*B[2],E},B.length=function(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2])},B.lengthSq=function(A){return A[0]*A[0]+A[1]*A[1]+A[2]*A[2]},B.mulScalar=function(A,B,g){return(g=g||new Q(3))[0]=A[0]*B,g[1]=A[1]*B,g[2]=A[2]*B,g},B.multiply=function(A,B,g){return(g=g||new Q(3))[0]=A[0]*B[0],g[1]=A[1]*B[1],g[2]=A[2]*B[2],g},B.negate=function(A,B){return(B=B||new Q(3))[0]=-A[0],B[1]=-A[1],B[2]=-A[2],B},B.normalize=function(A,B){B=B||new Q(3);var g=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],E=Math.sqrt(g);E>1e-5?(B[0]=A[0]/E,B[1]=A[1]/E,B[2]=A[2]/E):(B[0]=0,B[1]=0,B[2]=0);return B},B.setDefaultType=function(A){var B=Q;return Q=A,B},B.subtract=function(A,B,g){return(g=g||new Q(3))[0]=A[0]-B[0],g[1]=A[1]-B[1],g[2]=A[2]-B[2],g};var Q=Float32Array},function(A,B,g){"use strict";B.__esModule=!0,B.isWebGL1=function(A){return!A.texStorage2D},B.isWebGL2=function(A){return!!A.texStorage2D},B.glEnumToString=void 0;var Q=function(){var A={},B={};return function(g,Q){return function(g){var Q=g.constructor.name;if(!A[Q]){for(var E in g)if("number"==typeof g[E]){var C=B[g[E]];B[g[E]]=C?"".concat(C," | ").concat(E):E}A[Q]=!0}}(g),B[Q]||"0x"+Q.toString(16)}}();B.glEnumToString=Q},function(A,B,g){"use strict";B.__esModule=!0,B.createAttributeSetters=K,B.createProgram=H,B.createProgramFromScripts=function(A,B,g,Q,E){for(var C=N(g,Q,E),e=[],w=0;w<B.length;++w){var t=d(A,B[w],A[m[w]],C.errorCallback);if(!t)return null;e.push(t)}return H(A,e,C)},B.createProgramFromSources=y,B.createProgramInfo=function(A,B,g,Q,E){var C=N(g,Q,E),e=!0;if(B=B.map(function(A){if(A.indexOf("\n")<0){var B=n(A);B?A=B.text:(C.errorCallback("no element with id: "+A),e=!1)}return A}),!e)return null;var w=y(A,B,C);if(!w)return null;return L(A,w)},B.createProgramInfoFromProgram=L,B.createUniformSetters=f,B.createUniformBlockSpecFromProgram=S,B.createUniformBlockInfoFromProgram=x,B.createUniformBlockInfo=function(A,B,g){return x(A,B.program,B.uniformBlockSpec,g)},B.createTransformFeedback=function(A,B,g){var Q=A.createTransformFeedback();return A.bindTransformFeedback(A.TRANSFORM_FEEDBACK,Q),A.useProgram(B.program),T(A,B,g),A.bindTransformFeedback(A.TRANSFORM_FEEDBACK,null),function(A,B,g){for(var Q in B.transformFeedbackInfo&&(B=B.transformFeedbackInfo),g.attribs&&(g=g.attribs),g){var E=B[Q];E&&A.bindBufferBase(A.TRANSFORM_FEEDBACK_BUFFER,E.index,null)}}(A,B,g),Q},B.createTransformFeedbackInfo=j,B.bindTransformFeedbackInfo=T,B.setAttributes=W,B.setBuffersAndAttributes=function(A,B,g){g.vertexArrayObject?A.bindVertexArray(g.vertexArrayObject):(W(B.attribSetters||B,g.attribs),g.indices&&A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,g.indices))},B.setUniforms=function A(B,g){var Q=B.uniformSetters||B;var E=arguments.length;for(var C=1;C<E;++C){var e=arguments[C];if(Array.isArray(e))for(var w=e.length,t=0;t<w;++t)A(Q,e[t]);else for(var n in e){var I=Q[n];I&&I(e[n])}}},B.setUniformBlock=function(A,B,g){z(A,B,g)&&A.bufferData(A.UNIFORM_BUFFER,g.array,A.DYNAMIC_DRAW)},B.setBlockUniforms=function(A,B){var g=A.uniforms;for(var Q in B){var E=g[Q];if(E){var C=B[Q];C.length?E.set(C):E[0]=C}}},B.bindUniformBlock=z;var Q=e(g(4)),E=e(g(0)),C=function(A){return A&&A.__esModule?A:{default:A}}(g(2));function e(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}var w=E.error,t=E.warn,n=C.default&&C.default.document&&C.default.document.getElementById?C.default.document.getElementById.bind(C.default.document):function(){return null},I={};function i(A,B){return I[B].bindPoint}function c(A,B){return function(g){A.uniform1i(B,g)}}function Y(A,B){return function(g){A.uniform1iv(B,g)}}function M(A,B){return function(g){A.uniform2iv(B,g)}}function o(A,B){return function(g){A.uniform3iv(B,g)}}function s(A,B){return function(g){A.uniform4iv(B,g)}}function l(A,B,g,C){var e=i(0,B);return Q.isWebGL2(A)?function(B){var Q,w;E.isTexture(A,B)?(Q=B,w=null):(Q=B.texture,w=B.sampler),A.uniform1i(C,g),A.activeTexture(A.TEXTURE0+g),A.bindTexture(e,Q),A.bindSampler(g,w)}:function(B){A.uniform1i(C,g),A.activeTexture(A.TEXTURE0+g),A.bindTexture(e,B)}}function r(A,B,g,C,e){for(var w=i(0,B),t=new Int32Array(e),n=0;n<e;++n)t[n]=g+n;return Q.isWebGL2(A)?function(B){A.uniform1iv(C,t),B.forEach(function(B,Q){var C,e;A.activeTexture(A.TEXTURE0+t[Q]),E.isTexture(A,B)?(C=B,e=null):(C=B.texture,e=B.sampler),A.bindSampler(g,e),A.bindTexture(w,C)})}:function(B){A.uniform1iv(C,t),B.forEach(function(B,g){A.activeTexture(A.TEXTURE0+t[g]),A.bindTexture(w,B)})}}function D(A,B){return function(g){A.bindBuffer(A.ARRAY_BUFFER,g.buffer),A.enableVertexAttribArray(B),A.vertexAttribPointer(B,g.numComponents||g.size,g.type||A.FLOAT,g.normalize||!1,g.stride||0,g.offset||0),void 0!==g.divisor&&A.vertexAttribDivisor(B,g.divisor)}}function F(A,B){return function(g){A.bindBuffer(A.ARRAY_BUFFER,g.buffer),A.enableVertexAttribArray(B),A.vertexAttribIPointer(B,g.numComponents||g.size,g.type||A.INT,g.stride||0,g.offset||0),void 0!==g.divisor&&A.vertexAttribDivisor(B,g.divisor)}}function a(A,B,g){var Q=g.size,E=g.count;return function(g){A.bindBuffer(A.ARRAY_BUFFER,g.buffer);for(var C=g.size||g.numComponents||Q,e=C/E,w=g.type||A.FLOAT,t=I[w].size*C,n=g.normalize||!1,i=g.offset||0,c=t/E,Y=0;Y<E;++Y)A.enableVertexAttribArray(B+Y),A.vertexAttribPointer(B+Y,e,w,n,t,i+c*Y),void 0!==g.divisor&&A.vertexAttribDivisor(B+Y,g.divisor)}}I[5126]={Type:Float32Array,size:4,setter:function(A,B){return function(g){A.uniform1f(B,g)}},arraySetter:function(A,B){return function(g){A.uniform1fv(B,g)}}},I[35664]={Type:Float32Array,size:8,setter:function(A,B){return function(g){A.uniform2fv(B,g)}}},I[35665]={Type:Float32Array,size:12,setter:function(A,B){return function(g){A.uniform3fv(B,g)}}},I[35666]={Type:Float32Array,size:16,setter:function(A,B){return function(g){A.uniform4fv(B,g)}}},I[5124]={Type:Int32Array,size:4,setter:c,arraySetter:Y},I[35667]={Type:Int32Array,size:8,setter:M},I[35668]={Type:Int32Array,size:12,setter:o},I[35669]={Type:Int32Array,size:16,setter:s},I[5125]={Type:Uint32Array,size:4,setter:function(A,B){return function(g){A.uniform1ui(B,g)}},arraySetter:function(A,B){return function(g){A.uniform1uiv(B,g)}}},I[36294]={Type:Uint32Array,size:8,setter:function(A,B){return function(g){A.uniform2uiv(B,g)}}},I[36295]={Type:Uint32Array,size:12,setter:function(A,B){return function(g){A.uniform3uiv(B,g)}}},I[36296]={Type:Uint32Array,size:16,setter:function(A,B){return function(g){A.uniform4uiv(B,g)}}},I[35670]={Type:Uint32Array,size:4,setter:c,arraySetter:Y},I[35671]={Type:Uint32Array,size:8,setter:M},I[35672]={Type:Uint32Array,size:12,setter:o},I[35673]={Type:Uint32Array,size:16,setter:s},I[35674]={Type:Float32Array,size:16,setter:function(A,B){return function(g){A.uniformMatrix2fv(B,!1,g)}}},I[35675]={Type:Float32Array,size:36,setter:function(A,B){return function(g){A.uniformMatrix3fv(B,!1,g)}}},I[35676]={Type:Float32Array,size:64,setter:function(A,B){return function(g){A.uniformMatrix4fv(B,!1,g)}}},I[35685]={Type:Float32Array,size:24,setter:function(A,B){return function(g){A.uniformMatrix2x3fv(B,!1,g)}}},I[35686]={Type:Float32Array,size:32,setter:function(A,B){return function(g){A.uniformMatrix2x4fv(B,!1,g)}}},I[35687]={Type:Float32Array,size:24,setter:function(A,B){return function(g){A.uniformMatrix3x2fv(B,!1,g)}}},I[35688]={Type:Float32Array,size:48,setter:function(A,B){return function(g){A.uniformMatrix3x4fv(B,!1,g)}}},I[35689]={Type:Float32Array,size:32,setter:function(A,B){return function(g){A.uniformMatrix4x2fv(B,!1,g)}}},I[35690]={Type:Float32Array,size:48,setter:function(A,B){return function(g){A.uniformMatrix4x3fv(B,!1,g)}}},I[35678]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:3553},I[35680]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:34067},I[35679]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:32879},I[35682]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:3553},I[36289]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:35866},I[36292]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:35866},I[36293]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:34067},I[36298]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:3553},I[36299]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:32879},I[36300]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:34067},I[36303]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:35866},I[36306]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:3553},I[36307]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:32879},I[36308]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:34067},I[36311]={Type:null,size:0,setter:l,arraySetter:r,bindPoint:35866};var h={};h[5126]={size:4,setter:D},h[35664]={size:8,setter:D},h[35665]={size:12,setter:D},h[35666]={size:16,setter:D},h[5124]={size:4,setter:F},h[35667]={size:8,setter:F},h[35668]={size:12,setter:F},h[35669]={size:16,setter:F},h[5125]={size:4,setter:F},h[36294]={size:8,setter:F},h[36295]={size:12,setter:F},h[36296]={size:16,setter:F},h[35670]={size:4,setter:F},h[35671]={size:8,setter:F},h[35672]={size:12,setter:F},h[35673]={size:16,setter:F},h[35674]={size:4,setter:a,count:2},h[35675]={size:9,setter:a,count:3},h[35676]={size:16,setter:a,count:4};var u=void 0;var U=/^[ \t]*\n/;function G(A,B,g,Q){var E=Q||w,C=A.createShader(g),e=0;if(U.test(B)&&(e=1,B=B.replace(U,"")),A.shaderSource(C,B),A.compileShader(C),!A.getShaderParameter(C,A.COMPILE_STATUS)){var t=A.getShaderInfoLog(C);return E(function(A,B){return B=B||0,++B,A.split("\n").map(function(A,g){return g+B+": "+A}).join("\n")}(B,e)+"\n*** Error compiling shader: "+t),A.deleteShader(C),null}return C}function N(A,B,g){var Q;if("function"==typeof B&&(g=B,B=void 0),"function"==typeof A)g=A,A=void 0;else if(A&&!Array.isArray(A)){if(A.errorCallback)return A;var E=A;g=E.errorCallback,A=E.attribLocations,Q=E.transformFeedbackVaryings}var C={errorCallback:g||w,transformFeedbackVaryings:Q};if(A){var e={};Array.isArray(A)?A.forEach(function(A,g){e[A]=B?B[g]:g}):e=A,C.attribLocations=e}return C}var m=["VERTEX_SHADER","FRAGMENT_SHADER"];function J(A){return A.indexOf("frag")>=0?u.FRAGMENT_SHADER:A.indexOf("vert")>=0?u.VERTEX_SHADER:void 0}function R(A,B){B.forEach(function(B){A.deleteShader(B)})}function H(A,B,g,Q,C){for(var e=N(g,Q,C),w=[],t=[],I=0;I<B.length;++I){var i=B[I];if("string"==typeof i){var c=n(i),Y=c?c.text:i,M=A[m[I]];c&&c.type&&(M=J(c.type)||M),i=G(A,Y,M,e.errorCallback),t.push(i)}E.isShader(A,i)&&w.push(i)}if(w.length!==B.length)return e.errorCallback("not enough shaders for program"),R(A,t),null;var o=A.createProgram();w.forEach(function(B){A.attachShader(o,B)}),e.attribLocations&&Object.keys(e.attribLocations).forEach(function(B){A.bindAttribLocation(o,e.attribLocations[B],B)});var s=e.transformFeedbackVaryings;if(s&&(s.attribs&&(s=s.attribs),Array.isArray(s)||(s=Object.keys(s)),A.transformFeedbackVaryings(o,s,e.transformFeedbackMode||A.SEPARATE_ATTRIBS)),A.linkProgram(o),!A.getProgramParameter(o,A.LINK_STATUS)){var l=A.getProgramInfoLog(o);return e.errorCallback("Error in program linking:"+l),A.deleteProgram(o),R(A,t),null}return o}function d(A,B,g,Q){var E,C=n(B);if(!C)throw"*** Error: unknown script element"+B;E=C.text;var e=g||J(C.type);if(!e)throw"*** Error: unknown shader type";return G(A,E,e,Q)}function y(A,B,g,Q,E){for(var C=N(g,Q,E),e=[],w=0;w<B.length;++w){var t=G(A,B[w],A[m[w]],C.errorCallback);if(!t)return null;e.push(t)}return H(A,e,C)}function k(A){var B=A.name;return B.startsWith("gl_")||B.startsWith("webgl_")}function f(A,B){var g=0;function Q(B,Q){var E,C=A.getUniformLocation(B,Q.name),e=Q.size>1&&"[0]"===Q.name.substr(-3),w=Q.type,t=I[w];if(!t)throw"unknown type: 0x"+w.toString(16);if(t.bindPoint){var n=g;g+=Q.size,E=e?t.arraySetter(A,w,n,C,Q.size):t.setter(A,w,n,C,Q.size)}else E=t.arraySetter&&e?t.arraySetter(A,C):t.setter(A,C);return E.location=C,E}for(var E={},C=A.getProgramParameter(B,A.ACTIVE_UNIFORMS),e=0;e<C;++e){var w=A.getActiveUniform(B,e);if(!k(w)){var t=w.name;"[0]"===t.substr(-3)&&(t=t.substr(0,t.length-3));var n=Q(B,w);E[t]=n}}return E}function j(A,B){for(var g={},Q=A.getProgramParameter(B,A.TRANSFORM_FEEDBACK_VARYINGS),E=0;E<Q;++E){var C=A.getTransformFeedbackVarying(B,E);g[C.name]={index:E,type:C.type,size:C.size}}return g}function T(A,B,g){for(var Q in B.transformFeedbackInfo&&(B=B.transformFeedbackInfo),g.attribs&&(g=g.attribs),g){var E=B[Q];if(E){var C=g[Q];C.offset?A.bindBufferRange(A.TRANSFORM_FEEDBACK_BUFFER,E.index,C.buffer,C.offset,C.size):A.bindBufferBase(A.TRANSFORM_FEEDBACK_BUFFER,E.index,C.buffer)}}}function S(A,B){for(var g=A.getProgramParameter(B,A.ACTIVE_UNIFORMS),Q=[],E=[],C=0;C<g;++C){E.push(C),Q.push({});var e=A.getActiveUniform(B,C);if(k(e))break;Q[C].name=e.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(g){var C=g[0],e=g[1];A.getActiveUniforms(B,E,A[C]).forEach(function(A,B){Q[B][e]=A})});for(var w={},t=A.getProgramParameter(B,A.ACTIVE_UNIFORM_BLOCKS),n=0;n<t;++n){var I=A.getActiveUniformBlockName(B,n),i={index:n,usedByVertexShader:A.getActiveUniformBlockParameter(B,n,A.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:A.getActiveUniformBlockParameter(B,n,A.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:A.getActiveUniformBlockParameter(B,n,A.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:A.getActiveUniformBlockParameter(B,n,A.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};i.used=i.usedByVertexSahder||i.usedByFragmentShader,w[I]=i}return{blockSpecs:w,uniformData:Q}}var p=/\[\d+\]\.$/;function x(A,B,g,Q){var E=g.blockSpecs,C=g.uniformData,e=E[Q];if(!e)return t("no uniform block object named:",Q),{name:Q,uniforms:{}};var w=new ArrayBuffer(e.size),n=A.createBuffer(),i=e.index;A.bindBuffer(A.UNIFORM_BUFFER,n),A.uniformBlockBinding(B,e.index,i);var c=Q+".";p.test(c)&&(c=c.replace(p,"."));var Y={};return e.uniformIndices.forEach(function(A){var B=C[A],g=I[B.type],Q=g.Type,E=B.size*g.size,e=B.name;e.substr(0,c.length)===c&&(e=e.substr(c.length)),Y[e]=new Q(w,B.offset,E/Q.BYTES_PER_ELEMENT)}),{name:Q,array:w,asFloat:new Float32Array(w),buffer:n,uniforms:Y}}function z(A,B,g){var Q=(B.uniformBlockSpec||B).blockSpecs[g.name];if(Q){var E=Q.index;return A.bindBufferRange(A.UNIFORM_BUFFER,E,g.buffer,g.offset||0,g.array.byteLength),!0}return!1}function K(A,B){for(var g={},Q=A.getProgramParameter(B,A.ACTIVE_ATTRIBUTES),E=0;E<Q;++E){var C=A.getActiveAttrib(B,E);if(!k(C)){var e=A.getAttribLocation(B,C.name),w=h[C.type],t=w.setter(A,e,w);t.location=e,g[C.name]=t}}return g}function W(A,B){for(var g in B){var Q=A[g];Q&&Q(B[g])}}function L(A,B){var g={program:B,uniformSetters:f(A,B),attribSetters:K(A,B)};return Q.isWebGL2(A)&&(g.uniformBlockSpec=S(A,B),g.transformFeedbackInfo=j(A,B)),g}},function(A,B,g){"use strict";B.__esModule=!0,B.axisRotate=function(A,B,g,Q){Q=Q||new E(16);var C=B[0],e=B[1],w=B[2],t=Math.sqrt(C*C+e*e+w*w),n=(C/=t)*C,I=(e/=t)*e,i=(w/=t)*w,c=Math.cos(g),Y=Math.sin(g),M=1-c,o=n+(1-n)*c,s=C*e*M+w*Y,l=C*w*M-e*Y,r=C*e*M-w*Y,D=I+(1-I)*c,F=e*w*M+C*Y,a=C*w*M+e*Y,h=e*w*M-C*Y,u=i+(1-i)*c,U=A[0],G=A[1],N=A[2],m=A[3],J=A[4],R=A[5],H=A[6],d=A[7],y=A[8],k=A[9],f=A[10],j=A[11];Q[0]=o*U+s*J+l*y,Q[1]=o*G+s*R+l*k,Q[2]=o*N+s*H+l*f,Q[3]=o*m+s*d+l*j,Q[4]=r*U+D*J+F*y,Q[5]=r*G+D*R+F*k,Q[6]=r*N+D*H+F*f,Q[7]=r*m+D*d+F*j,Q[8]=a*U+h*J+u*y,Q[9]=a*G+h*R+u*k,Q[10]=a*N+h*H+u*f,Q[11]=a*m+h*d+u*j,A!==Q&&(Q[12]=A[12],Q[13]=A[13],Q[14]=A[14],Q[15]=A[15]);return Q},B.axisRotation=function(A,B,g){g=g||new E(16);var Q=A[0],C=A[1],e=A[2],w=Math.sqrt(Q*Q+C*C+e*e),t=(Q/=w)*Q,n=(C/=w)*C,I=(e/=w)*e,i=Math.cos(B),c=Math.sin(B),Y=1-i;return g[0]=t+(1-t)*i,g[1]=Q*C*Y+e*c,g[2]=Q*e*Y-C*c,g[3]=0,g[4]=Q*C*Y-e*c,g[5]=n+(1-n)*i,g[6]=C*e*Y+Q*c,g[7]=0,g[8]=Q*e*Y+C*c,g[9]=C*e*Y-Q*c,g[10]=I+(1-I)*i,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g},B.copy=t,B.frustum=function(A,B,g,Q,C,e,w){w=w||new E(16);var t=B-A,n=Q-g,I=C-e;return w[0]=2*C/t,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=2*C/n,w[6]=0,w[7]=0,w[8]=(A+B)/t,w[9]=(Q+g)/n,w[10]=e/I,w[11]=-1,w[12]=0,w[13]=0,w[14]=C*e/I,w[15]=0,w},B.getAxis=function(A,B,g){g=g||Q.create();var E=4*B;return g[0]=A[E+0],g[1]=A[E+1],g[2]=A[E+2],g},B.getTranslation=function(A,B){return(B=B||Q.create())[0]=A[12],B[1]=A[13],B[2]=A[14],B},B.identity=n,B.inverse=I,B.lookAt=function(A,B,g,t){t=t||new E(16);var n=C,I=e,i=w;return Q.normalize(Q.subtract(A,B,i),i),Q.normalize(Q.cross(g,i,n),n),Q.normalize(Q.cross(i,n,I),I),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=I[0],t[5]=I[1],t[6]=I[2],t[7]=0,t[8]=i[0],t[9]=i[1],t[10]=i[2],t[11]=0,t[12]=A[0],t[13]=A[1],t[14]=A[2],t[15]=1,t},B.multiply=function(A,B,g){g=g||new E(16);var Q=A[0],C=A[1],e=A[2],w=A[3],t=A[4],n=A[5],I=A[6],i=A[7],c=A[8],Y=A[9],M=A[10],o=A[11],s=A[12],l=A[13],r=A[14],D=A[15],F=B[0],a=B[1],h=B[2],u=B[3],U=B[4],G=B[5],N=B[6],m=B[7],J=B[8],R=B[9],H=B[10],d=B[11],y=B[12],k=B[13],f=B[14],j=B[15];return g[0]=Q*F+t*a+c*h+s*u,g[1]=C*F+n*a+Y*h+l*u,g[2]=e*F+I*a+M*h+r*u,g[3]=w*F+i*a+o*h+D*u,g[4]=Q*U+t*G+c*N+s*m,g[5]=C*U+n*G+Y*N+l*m,g[6]=e*U+I*G+M*N+r*m,g[7]=w*U+i*G+o*N+D*m,g[8]=Q*J+t*R+c*H+s*d,g[9]=C*J+n*R+Y*H+l*d,g[10]=e*J+I*R+M*H+r*d,g[11]=w*J+i*R+o*H+D*d,g[12]=Q*y+t*k+c*f+s*j,g[13]=C*y+n*k+Y*f+l*j,g[14]=e*y+I*k+M*f+r*j,g[15]=w*y+i*k+o*f+D*j,g},B.negate=function(A,B){return(B=B||new E(16))[0]=-A[0],B[1]=-A[1],B[2]=-A[2],B[3]=-A[3],B[4]=-A[4],B[5]=-A[5],B[6]=-A[6],B[7]=-A[7],B[8]=-A[8],B[9]=-A[9],B[10]=-A[10],B[11]=-A[11],B[12]=-A[12],B[13]=-A[13],B[14]=-A[14],B[15]=-A[15],B},B.ortho=function(A,B,g,Q,C,e,w){return(w=w||new E(16))[0]=2/(B-A),w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=2/(Q-g),w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=2/(C-e),w[11]=0,w[12]=(B+A)/(A-B),w[13]=(Q+g)/(g-Q),w[14]=(e+C)/(C-e),w[15]=1,w},B.perspective=function(A,B,g,Q,C){C=C||new E(16);var e=Math.tan(.5*Math.PI-.5*A),w=1/(g-Q);return C[0]=e/B,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=e,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=(g+Q)*w,C[11]=-1,C[12]=0,C[13]=0,C[14]=g*Q*w*2,C[15]=0,C},B.rotateX=function(A,B,g){g=g||new E(16);var Q=A[4],C=A[5],e=A[6],w=A[7],t=A[8],n=A[9],I=A[10],i=A[11],c=Math.cos(B),Y=Math.sin(B);g[4]=c*Q+Y*t,g[5]=c*C+Y*n,g[6]=c*e+Y*I,g[7]=c*w+Y*i,g[8]=c*t-Y*Q,g[9]=c*n-Y*C,g[10]=c*I-Y*e,g[11]=c*i-Y*w,A!==g&&(g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15]);return g},B.rotateY=function(A,B,g){g=g||new E(16);var Q=A[0],C=A[1],e=A[2],w=A[3],t=A[8],n=A[9],I=A[10],i=A[11],c=Math.cos(B),Y=Math.sin(B);g[0]=c*Q-Y*t,g[1]=c*C-Y*n,g[2]=c*e-Y*I,g[3]=c*w-Y*i,g[8]=c*t+Y*Q,g[9]=c*n+Y*C,g[10]=c*I+Y*e,g[11]=c*i+Y*w,A!==g&&(g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15]);return g},B.rotateZ=function(A,B,g){g=g||new E(16);var Q=A[0],C=A[1],e=A[2],w=A[3],t=A[4],n=A[5],I=A[6],i=A[7],c=Math.cos(B),Y=Math.sin(B);g[0]=c*Q+Y*t,g[1]=c*C+Y*n,g[2]=c*e+Y*I,g[3]=c*w+Y*i,g[4]=c*t-Y*Q,g[5]=c*n-Y*C,g[6]=c*I-Y*e,g[7]=c*i-Y*w,A!==g&&(g[8]=A[8],g[9]=A[9],g[10]=A[10],g[11]=A[11],g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15]);return g},B.rotationX=function(A,B){B=B||new E(16);var g=Math.cos(A),Q=Math.sin(A);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=g,B[6]=Q,B[7]=0,B[8]=0,B[9]=-Q,B[10]=g,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B},B.rotationY=function(A,B){B=B||new E(16);var g=Math.cos(A),Q=Math.sin(A);return B[0]=g,B[1]=0,B[2]=-Q,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=Q,B[9]=0,B[10]=g,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B},B.rotationZ=function(A,B){B=B||new E(16);var g=Math.cos(A),Q=Math.sin(A);return B[0]=g,B[1]=Q,B[2]=0,B[3]=0,B[4]=-Q,B[5]=g,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B},B.scale=function(A,B,g){g=g||new E(16);var Q=B[0],C=B[1],e=B[2];g[0]=Q*A[0],g[1]=Q*A[1],g[2]=Q*A[2],g[3]=Q*A[3],g[4]=C*A[4],g[5]=C*A[5],g[6]=C*A[6],g[7]=C*A[7],g[8]=e*A[8],g[9]=e*A[9],g[10]=e*A[10],g[11]=e*A[11],A!==g&&(g[12]=A[12],g[13]=A[13],g[14]=A[14],g[15]=A[15]);return g},B.scaling=function(A,B){return(B=B||new E(16))[0]=A[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=A[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=A[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B},B.setAxis=function(A,B,g,Q){Q!==A&&(Q=t(A,Q));var E=4*g;return Q[E+0]=B[0],Q[E+1]=B[1],Q[E+2]=B[2],Q},B.setDefaultType=function(A){var B=E;return E=A,B},B.setTranslation=function(A,B,g){g=g||n(),A!==g&&(g[0]=A[0],g[1]=A[1],g[2]=A[2],g[3]=A[3],g[4]=A[4],g[5]=A[5],g[6]=A[6],g[7]=A[7],g[8]=A[8],g[9]=A[9],g[10]=A[10],g[11]=A[11]);return g[12]=B[0],g[13]=B[1],g[14]=B[2],g[15]=1,g},B.transformDirection=function(A,B,g){g=g||Q.create();var E=B[0],C=B[1],e=B[2];return g[0]=E*A[0]+C*A[4]+e*A[8],g[1]=E*A[1]+C*A[5]+e*A[9],g[2]=E*A[2]+C*A[6]+e*A[10],g},B.transformNormal=function(A,B,g){g=g||Q.create();var E=I(A),C=B[0],e=B[1],w=B[2];return g[0]=C*E[0]+e*E[1]+w*E[2],g[1]=C*E[4]+e*E[5]+w*E[6],g[2]=C*E[8]+e*E[9]+w*E[10],g},B.transformPoint=function(A,B,g){g=g||Q.create();var E=B[0],C=B[1],e=B[2],w=E*A[3]+C*A[7]+e*A[11]+A[15];return g[0]=(E*A[0]+C*A[4]+e*A[8]+A[12])/w,g[1]=(E*A[1]+C*A[5]+e*A[9]+A[13])/w,g[2]=(E*A[2]+C*A[6]+e*A[10]+A[14])/w,g},B.translate=function(A,B,g){g=g||new E(16);var Q=B[0],C=B[1],e=B[2],w=A[0],t=A[1],n=A[2],I=A[3],i=A[4],c=A[5],Y=A[6],M=A[7],o=A[8],s=A[9],l=A[10],r=A[11],D=A[12],F=A[13],a=A[14],h=A[15];A!==g&&(g[0]=w,g[1]=t,g[2]=n,g[3]=I,g[4]=i,g[5]=c,g[6]=Y,g[7]=M,g[8]=o,g[9]=s,g[10]=l,g[11]=r);return g[12]=w*Q+i*C+o*e+D,g[13]=t*Q+c*C+s*e+F,g[14]=n*Q+Y*C+l*e+a,g[15]=I*Q+M*C+r*e+h,g},B.translation=function(A,B){return(B=B||new E(16))[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=A[0],B[13]=A[1],B[14]=A[2],B[15]=1,B},B.transpose=function(A,B){if((B=B||new E(16))===A){var g;return g=A[1],A[1]=A[4],A[4]=g,g=A[2],A[2]=A[8],A[8]=g,g=A[3],A[3]=A[12],A[12]=g,g=A[6],A[6]=A[9],A[9]=g,g=A[7],A[7]=A[13],A[13]=g,g=A[11],A[11]=A[14],A[14]=g,B}var Q=A[0],C=A[1],e=A[2],w=A[3],t=A[4],n=A[5],I=A[6],i=A[7],c=A[8],Y=A[9],M=A[10],o=A[11],s=A[12],l=A[13],r=A[14],D=A[15];return B[0]=Q,B[1]=t,B[2]=c,B[3]=s,B[4]=C,B[5]=n,B[6]=Y,B[7]=l,B[8]=e,B[9]=I,B[10]=M,B[11]=r,B[12]=w,B[13]=i,B[14]=o,B[15]=D,B};var Q=function(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}(g(3));var E=Float32Array,C=Q.create(),e=Q.create(),w=Q.create();function t(A,B){return(B=B||new E(16))[0]=A[0],B[1]=A[1],B[2]=A[2],B[3]=A[3],B[4]=A[4],B[5]=A[5],B[6]=A[6],B[7]=A[7],B[8]=A[8],B[9]=A[9],B[10]=A[10],B[11]=A[11],B[12]=A[12],B[13]=A[13],B[14]=A[14],B[15]=A[15],B}function n(A){return(A=A||new E(16))[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function I(A,B){B=B||new E(16);var g=A[0],Q=A[1],C=A[2],e=A[3],w=A[4],t=A[5],n=A[6],I=A[7],i=A[8],c=A[9],Y=A[10],M=A[11],o=A[12],s=A[13],l=A[14],r=A[15],D=Y*r,F=l*M,a=n*r,h=l*I,u=n*M,U=Y*I,G=C*r,N=l*e,m=C*M,J=Y*e,R=C*I,H=n*e,d=i*s,y=o*c,k=w*s,f=o*t,j=w*c,T=i*t,S=g*s,p=o*Q,x=g*c,z=i*Q,K=g*t,W=w*Q,L=D*t+h*c+u*s-(F*t+a*c+U*s),V=F*Q+G*c+J*s-(D*Q+N*c+m*s),b=a*Q+N*t+R*s-(h*Q+G*t+H*s),P=U*Q+m*t+H*c-(u*Q+J*t+R*c),v=1/(g*L+w*V+i*b+o*P);return B[0]=v*L,B[1]=v*V,B[2]=v*b,B[3]=v*P,B[4]=v*(F*w+a*i+U*o-(D*w+h*i+u*o)),B[5]=v*(D*g+N*i+m*o-(F*g+G*i+J*o)),B[6]=v*(h*g+G*w+H*o-(a*g+N*w+R*o)),B[7]=v*(u*g+J*w+R*i-(U*g+m*w+H*i)),B[8]=v*(d*I+f*M+j*r-(y*I+k*M+T*r)),B[9]=v*(y*e+S*M+z*r-(d*e+p*M+x*r)),B[10]=v*(k*e+p*I+K*r-(f*e+S*I+W*r)),B[11]=v*(T*e+x*I+W*M-(j*e+z*I+K*M)),B[12]=v*(k*Y+T*l+y*n-(j*l+d*n+f*Y)),B[13]=v*(x*l+d*C+p*Y-(S*Y+z*l+y*C)),B[14]=v*(S*n+W*l+f*C-(K*l+k*C+p*n)),B[15]=v*(K*Y+j*C+z*n-(x*n+W*Y+T*C)),B}},function(A,B,g){"use strict";B.__esModule=!0,B.createAttribsFromArrays=s,B.createBuffersFromArrays=function(A,B){var g={};Object.keys(B).forEach(function(Q){g[Q]=r(A,B[Q],Q)}),B.indices?(g.numElements=B.indices.length,g.elementType=Q.getGLTypeForTypedArray(o(B.indices),"indices")):g.numElements=function(A){for(var B,g=0;g<l.length&&!((B=l[g])in A);++g);ii===l.length&&(B=Object.keys(A)[0]);var Q=A[B],E=I(Q).length,C=M(Q,B),e=E/C;if(E%C>0)throw"numComponents "+C+" not correct for length "+E;return e}(B);return g},B.createBufferFromArray=r,B.createBufferFromTypedArray=t,B.createBufferInfoFromArrays=function(A,B){var g={attribs:s(A,B)},E=B.indices;if(E){var C=o(E,"indices");g.indices=t(A,C,A.ELEMENT_ARRAY_BUFFER),g.numElements=C.length,g.elementType=Q.getGLTypeForTypedArray(C)}else g.numElements=function(A,B){var g,Q;for(Q=0;Q<l.length&&!((g=l[Q])in B)&&!((g=e.attribPrefix+g)in B);++Q);Q===l.length&&(g=Object.keys(B)[0]);var E=B[g];A.bindBuffer(A.ARRAY_BUFFER,E.buffer);var C=A.getBufferParameter(A.ARRAY_BUFFER,A.BUFFER_SIZE);A.bindBuffer(A.ARRAY_BUFFER,null);var w=function(A,B){return B===A.BYTE?1:B===A.UNSIGNED_BYTE?1:B===A.SHORT?2:B===A.UNSIGNED_SHORT?2:B===A.INT?4:B===A.UNSIGNED_INT?4:B===A.FLOAT?4:0}(A,E.type),t=C/w,n=E.numComponents||E.size,I=t/n;if(I%1!=0)throw"numComponents "+n+" not correct for length "+length;return I}(A,g.attribs);return g},B.setAttribInfoBufferFromArray=function(A,B,g,Q){g=o(g),void 0!==Q?(A.bindBuffer(A.ARRAY_BUFFER,B.buffer),A.bufferSubData(A.ARRAY_BUFFER,Q,g)):w(A,A.ARRAY_BUFFER,B.buffer,g,B.drawType)},B.setAttributePrefix=function(A){e.attribPrefix=A},B.setAttributeDefaults_=function(A){E.copyExistingProperties(A,e)},B.getNumComponents_=M,B.getArray_=I;var Q=C(g(1)),E=C(g(0));function C(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}var e={attribPrefix:""};function w(A,B,g,Q,E){A.bindBuffer(B,g),A.bufferData(B,Q,E||A.STATIC_DRAW)}function t(A,B,g,Q){if(E.isBuffer(A,B))return B;g=g||A.ARRAY_BUFFER;var C=A.createBuffer();return w(A,g,C,B,Q),C}function n(A){return"indices"===A}function I(A){return A.length?A:A.data}var i=/coord|texture/i,c=/color|colour/i;function Y(A,B){var g;if(B%(g=i.test(A)?2:c.test(A)?4:3)>0)throw"Can not guess numComponents for attribute '"+A+"'. Tried "+g+" but "+B+" values is not evenly divisible by "+g+". You should specify it.";return g}function M(A,B){return A.numComponents||A.size||Y(B,I(A).length)}function o(A,B){if(Q.isArrayBuffer(A))return A;if(Q.isArrayBuffer(A.data))return A.data;Array.isArray(A)&&(A={data:A});var g=A.type;return g||(g=n(B)?Uint16Array:Float32Array),new g(A.data)}function s(A,B){var g={};return Object.keys(B).forEach(function(E){if(!n(E)){var C,w,I,i,c,s=B[E],l=s.attrib||s.name||s.attribName||e.attribPrefix+E;if("number"==typeof s||"number"==typeof s.data){c=s.data||s;var r=s.type||Float32Array,D=c*r.BYTES_PER_ELEMENT;w=Q.getGLTypeForTypedArrayType(r),I=void 0!==s.normalize?s.normalize:function(A){return A===Int8Array||A===Uint8Array}(r),i=s.numComponents||s.size||Y(E,c),C=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,C),A.bufferData(A.ARRAY_BUFFER,D,s.drawType||A.STATIC_DRAW)}else{var F=o(s,E);C=t(A,F,void 0,s.drawType),w=Q.getGLTypeForTypedArray(F),I=void 0!==s.normalize?s.normalize:function(A){return A instanceof Int8Array||A instanceof Uint8Array}(F),i=M(s,E),c=F.length}g[l]={buffer:C,numComponents:i,type:w,normalize:I,stride:s.stride||0,offset:s.offset||0,divisor:void 0===s.divisor?void 0:s.divisor,drawType:s.drawType}}}),A.bindBuffer(A.ARRAY_BUFFER,null),g}var l=["position","positions","a_position"];function r(A,B,g){var Q="indices"===g?A.ELEMENT_ARRAY_BUFFER:A.ARRAY_BUFFER;return t(A,o(B,g),Q)}},function(A,B,g){"use strict";B.__esModule=!0,B.setTextureDefaults_=function(A){C.copyExistingProperties(A,t),A.textureColor&&h(A.textureColor)},B.createSampler=d,B.createSamplers=function(A,B){var g={};return Object.keys(B).forEach(function(Q){g[Q]=d(A,B[Q])}),g},B.setSamplerParameters=H,B.createTexture=P,B.setEmptyTexture=b,B.setTextureFromArray=V,B.loadTextureFromUrl=K,B.setTextureFromElement=T,B.setTextureFilteringForSize=y,B.setTextureParameters=R,B.setDefaultTextureColor=h,B.createTextures=function(A,B,g){g=g||S;var Q=0,E=[],C={},e={};function w(){0===Q&&setTimeout(function(){g(E.length?E:void 0,C,e)},0)}return Object.keys(B).forEach(function(g){var t,n=B[g];(function(A){return"string"==typeof A||Array.isArray(A)&&"string"==typeof A[0]})(n.src)&&(t=function(A,B,C){e[g]=C,--Q,A&&E.push(A),w()},++Q),C[g]=P(A,n,t)}),w(),C},B.resizeTexture=function(A,B,g,Q,E){Q=Q||g.width,E=E||g.height;var C=g.target||A.TEXTURE_2D;A.bindTexture(C,B);var e,w=g.level||0,t=g.internalFormat||g.format||A.RGBA,I=r(t),i=g.format||I.format,c=g.src;e=c&&(n(c)||Array.isArray(c)&&"number"==typeof c[0])?g.type||F(A,c,I.type):g.type||I.type;if(C===A.TEXTURE_CUBE_MAP)for(var Y=0;Y<6;++Y)A.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+Y,w,t,Q,E,0,i,e,null);else A.texImage2D(C,w,t,Q,E,0,i,e,null)},B.getNumComponentsForFormat=function(A){var B=Y[A];if(!B)throw"unknown format: "+A;return B.numColorComponents},B.getBytesPerElementForInternalFormat=l;var Q=w(g(4)),E=w(g(1)),C=w(g(0)),e=function(A){return A&&A.__esModule?A:{default:A}}(g(2));function w(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}var t={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},n=E.isArrayBuffer,I=e.default.document&&e.default.document.createElement?e.default.document.createElement("canvas").getContext("2d"):null,i=6407,c=33319,Y={},M=Y;M[6406]={numColorComponents:1},M[6409]={numColorComponents:1},M[6410]={numColorComponents:2},M[i]={numColorComponents:3},M[6408]={numColorComponents:4},M[6403]={numColorComponents:1},M[36244]={numColorComponents:1},M[c]={numColorComponents:2},M[33320]={numColorComponents:2},M[i]={numColorComponents:3},M[36248]={numColorComponents:3},M[6408]={numColorComponents:4},M[36249]={numColorComponents:4},M[6402]={numColorComponents:1},M[34041]={numColorComponents:2};var o={},s=o;function l(A,B){var g=o[A];if(!g)throw"unknown internal format";var Q=g.bytesPerElementMap[B];if(void 0===Q)throw"unknown internal format";return Q}function r(A){var B=o[A];if(!B)throw"unknown internal format";return{format:B.textureFormat,type:Array.isArray(B.type)?B.type[0]:B.type}}function D(A){return 0==(A&A-1)}function F(A,B,g){return n(B)?E.getGLTypeForTypedArray(B):g||A.UNSIGNED_BYTE}function a(A,B,g,Q,E){if(E%1!=0)throw"can't guess dimensions";if(g||Q){if(Q){if(!g&&(g=E/Q)%1)throw"can't guess dimensions"}else if((Q=E/g)%1)throw"can't guess dimensions"}else{var C=Math.sqrt(E/(B===A.TEXTURE_CUBE_MAP?6:1));C%1==0?(g=C,Q=C):(g=E,Q=1)}return{width:g,height:Q}}function h(A){t.textureColor=new Uint8Array([255*A[0],255*A[1],255*A[2],255*A[3]])}s[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},s[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},s[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},s[i]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},s[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},s[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:1,type:5121},s[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:1,type:5120},s[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},s[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:4,type:5126},s[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5121},s[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5120},s[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5123},s[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5122},s[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},s[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5124},s[33323]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:2,type:5121},s[36757]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:2,type:5120},s[33327]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},s[33328]={textureFormat:c,colorRenderable:!1,textureFilterable:!1,bytesPerElement:8,type:5126},s[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5121},s[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5120},s[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5123},s[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5122},s[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5125},s[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5124},s[32849]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:3,type:5121},s[35905]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5121},s[36194]={textureFormat:i,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},s[36758]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5120},s[35898]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},s[35901]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},s[34843]={textureFormat:i,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},s[34837]={textureFormat:i,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5126},s[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5121},s[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5120},s[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5123},s[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5122},s[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5125},s[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5124},s[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},s[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},s[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:4,type:5120},s[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},s[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},s[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:33640},s[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},s[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:16,type:5126},s[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5121},s[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5120},s[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:33640},s[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5123},s[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5122},s[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5124},s[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5125},s[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},s[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},s[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5126},s[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:34042},s[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:36269},Object.keys(s).forEach(function(A){var B=s[A];if(B.bytesPerElementMap={},Array.isArray(B.bytesPerElement))B.bytesPerElement.forEach(function(A,g){var Q=B.type[g];B.bytesPerElementMap[Q]=A});else{var g=B.type;B.bytesPerElementMap[g]=B.bytesPerElement}});var u={};function U(A,B){void 0!==B.colorspaceConversion&&(u.colorspaceConversion=A.getParameter(A.UNPACK_COLORSPACE_CONVERSION_WEBGL),A.pixelStorei(A.UNPACK_COLORSPACE_CONVERSION_WEBGL,B.colorspaceConversion)),void 0!==B.premultiplyAlpha&&(u.premultiplyAlpha=A.getParameter(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha)),void 0!==B.flipY&&(u.flipY=A.getParameter(A.UNPACK_FLIP_Y_WEBGL),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,B.flipY))}function G(A,B){void 0!==B.colorspaceConversion&&A.pixelStorei(A.UNPACK_COLORSPACE_CONVERSION_WEBGL,u.colorspaceConversion),void 0!==B.premultiplyAlpha&&A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha),void 0!==B.flipY&&A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,u.flipY)}function N(A){u.unpackAlignment=A.getParameter(A.UNPACK_ALIGNMENT),Q.isWebGL2(A)&&(u.unpackRowLength=A.getParameter(A.UNPACK_ROW_LENGTH),u.unpackImageHeight=A.getParameter(A.UNPACK_IMAGE_HEIGHT),u.unpackSkipPixels=A.getParameter(A.UNPACK_SKIP_PIXELS),u.unpackSkipRows=A.getParameter(A.UNPACK_SKIP_ROWS),u.unpackSkipImages=A.getParameter(A.UNPACK_SKIP_IMAGES))}function m(A){A.pixelStorei(A.UNPACK_ALIGNMENT,u.unpackAlignment),Q.isWebGL2(A)&&(A.pixelStorei(A.UNPACK_ROW_LENGTH,u.unpackRowLength),A.pixelStorei(A.UNPACK_IMAGE_HEIGHT,u.unpackImageHeight),A.pixelStorei(A.UNPACK_SKIP_PIXELS,u.unpackSkipPixels),A.pixelStorei(A.UNPACK_SKIP_ROWS,u.unpackSkipRows),A.pixelStorei(A.UNPACK_SKIP_IMAGES,u.unpackSkipImages))}function J(A,B,g,Q){Q.minMag&&(g.call(A,B,A.TEXTURE_MIN_FILTER,Q.minMag),g.call(A,B,A.TEXTURE_MAG_FILTER,Q.minMag)),Q.min&&g.call(A,B,A.TEXTURE_MIN_FILTER,Q.min),Q.mag&&g.call(A,B,A.TEXTURE_MAG_FILTER,Q.mag),Q.wrap&&(g.call(A,B,A.TEXTURE_WRAP_S,Q.wrap),g.call(A,B,A.TEXTURE_WRAP_T,Q.wrap),(B===A.TEXTURE_3D||C.isSampler(A,B))&&g.call(A,B,A.TEXTURE_WRAP_R,Q.wrap)),Q.wrapR&&g.call(A,B,A.TEXTURE_WRAP_R,Q.wrapR),Q.wrapS&&g.call(A,B,A.TEXTURE_WRAP_S,Q.wrapS),Q.wrapT&&g.call(A,B,A.TEXTURE_WRAP_T,Q.wrapT),Q.minLod&&g.call(A,B,A.TEXTURE_MIN_LOD,Q.minLod),Q.maxLod&&g.call(A,B,A.TEXTURE_MAX_LOD,Q.maxLod),Q.baseLevel&&g.call(A,B,A.TEXTURE_BASE_LEVEL,Q.baseLevel),Q.maxLevel&&g.call(A,B,A.TEXTURE_MAX_LEVEL,Q.maxLevel)}function R(A,B,g){var Q=g.target||A.TEXTURE_2D;A.bindTexture(Q,B),J(A,Q,A.texParameteri,g)}function H(A,B,g){J(A,B,A.samplerParameteri,g)}function d(A,B){var g=A.createSampler();return H(A,g,B),g}function y(A,B,g,E,C,e,w){g=g||t.textureOptions,e=e||A.RGBA,w=w||A.UNSIGNED_BYTE;var n=g.target||A.TEXTURE_2D;if(E=E||g.width,C=C||g.height,A.bindTexture(n,B),function(A,B,g,E){if(!Q.isWebGL2(A))return D(B)&&D(g);var C=o[E];if(!C)throw"unknown internal format";return C.colorRenderable&&C.textureFilterable}(A,E,C,e))A.generateMipmap(n);else{var I=function(A){var B=o[A];if(!B)throw"unknown internal format";return B.textureFilterable}(e)?A.LINEAR:A.NEAREST;A.texParameteri(n,A.TEXTURE_MIN_FILTER,I),A.texParameteri(n,A.TEXTURE_MAG_FILTER,I),A.texParameteri(n,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(n,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE)}}function k(A){return!0===A.auto||void 0===A.auto&&void 0===A.level}function f(A,B){return(B=B||{}).cubeFaceOrder||[A.TEXTURE_CUBE_MAP_POSITIVE_X,A.TEXTURE_CUBE_MAP_NEGATIVE_X,A.TEXTURE_CUBE_MAP_POSITIVE_Y,A.TEXTURE_CUBE_MAP_NEGATIVE_Y,A.TEXTURE_CUBE_MAP_POSITIVE_Z,A.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function j(A,B){var g=f(A,B).map(function(A,B){return{face:A,ndx:B}});return g.sort(function(A,B){return A.face-B.face}),g}function T(A,B,g,Q){var E=(Q=Q||t.textureOptions).target||A.TEXTURE_2D,C=Q.level||0,w=g.width,n=g.height,i=Q.internalFormat||Q.format||A.RGBA,c=r(i),Y=Q.format||c.format,M=Q.type||c.type;if(U(A,Q),A.bindTexture(E,B),E===A.TEXTURE_CUBE_MAP){var o,s,l=g.width,D=g.height;if(l/6===D)o=D,s=[0,0,1,0,2,0,3,0,4,0,5,0];else if(D/6===l)o=l,s=[0,0,0,1,0,2,0,3,0,4,0,5];else if(l/3==D/2)o=l/3,s=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(l/2!=D/3)throw"can't figure out cube map from element: "+(g.src?g.src:g.nodeName);o=l/2,s=[0,0,1,0,0,1,1,1,0,2,1,2]}I?(I.canvas.width=o,I.canvas.height=o,w=o,n=o,j(A,Q).forEach(function(B){var Q=s[2*B.ndx+0]*o,E=s[2*B.ndx+1]*o;I.drawImage(g,Q,E,o,o,0,0,o,o),A.texImage2D(B.face,C,i,Y,M,I.canvas)}),I.canvas.width=1,I.canvas.height=1):e.default.createImageBitmap&&(w=o,n=o,j(A,Q).forEach(function(t){var I=s[2*t.ndx+0]*o,c=s[2*t.ndx+1]*o;A.texImage2D(t.face,C,i,o,o,0,Y,M,null),e.default.createImageBitmap(g,I,c,o,o,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(g){U(A,Q),A.bindTexture(E,B),A.texImage2D(t.face,C,i,Y,M,g),G(A,Q),k(Q)&&y(A,B,Q,w,n,i,M)})}))}else if(E===A.TEXTURE_3D||E===A.TEXTURE_2D_ARRAY){var F=Math.min(g.width,g.height),a=Math.max(g.width,g.height),h=a/F;if(h%1!=0)throw"can not compute 3D dimensions of element";var u=g.width===a?1:0,J=g.height===a?1:0;N(A),A.pixelStorei(A.UNPACK_ALIGNMENT,1),A.pixelStorei(A.UNPACK_ROW_LENGTH,g.width),A.pixelStorei(A.UNPACK_IMAGE_HEIGHT,0),A.pixelStorei(A.UNPACK_SKIP_IMAGES,0),A.texImage3D(E,C,i,F,F,F,0,Y,M,null);for(var H=0;H<h;++H){var d=H*F*u,f=H*F*J;A.pixelStorei(A.UNPACK_SKIP_PIXELS,d),A.pixelStorei(A.UNPACK_SKIP_ROWS,f),A.texSubImage3D(E,C,0,0,H,F,F,1,Y,M,g)}m(A)}else A.texImage2D(E,C,i,Y,M,g);G(A,Q),k(Q)&&y(A,B,Q,w,n,i,M),R(A,B,Q)}function S(){}function p(A){return e.default.ImageBitmap&&A instanceof e.default.ImageBitmap||e.default.ImageData&&A instanceof e.default.ImageData||e.default.HTMLElement&&A instanceof e.default.HTMLElement}function x(A,B,g){return p(A)?(setTimeout(function(){g(null,A)}),A):function(A,B,g){var Q;if(g=g||S,e.default.Image){Q=new e.default.Image,void 0!==(B=void 0!==B?B:t.crossOrigin)&&(Q.crossOrigin=B);var E=function(){Q.removeEventListener("error",w),Q.removeEventListener("load",n),Q=null},w=function(){var B="couldn't load image: "+A;C.error(B),g(B,Q),E()},n=function(){g(null,Q),E()};return Q.addEventListener("error",w),Q.addEventListener("load",n),Q.src=A,Q}if(e.default.ImageBitmap){var I,i,c=function(){g(I,i)},Y={};B&&(Y.mode="cors"),fetch(A,Y).then(function(A){if(!A.ok)throw A;return A.blob()}).then(function(A){return e.default.createImageBitmap(A,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(A){i=A,setTimeout(c)}).catch(function(A){I=A,setTimeout(c)}),Q=null}return Q}(A,B,g)}function z(A,B,g){var Q=(g=g||t.textureOptions).target||A.TEXTURE_2D;if(A.bindTexture(Q,B),!1!==g.color){var E=function(A){return A=A||t.textureColor,n(A)?A:new Uint8Array([255*A[0],255*A[1],255*A[2],255*A[3]])}(g.color);if(Q===A.TEXTURE_CUBE_MAP)for(var C=0;C<6;++C)A.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,A.RGBA,1,1,0,A.RGBA,A.UNSIGNED_BYTE,E);else Q===A.TEXTURE_3D||Q===A.TEXTURE_2D_ARRAY?A.texImage3D(Q,0,A.RGBA,1,1,1,0,A.RGBA,A.UNSIGNED_BYTE,E):A.texImage2D(Q,0,A.RGBA,1,1,0,A.RGBA,A.UNSIGNED_BYTE,E)}}function K(A,B,g,Q){return Q=Q||S,g=g||t.textureOptions,z(A,B,g),x((g=Object.assign({},g)).src,g.crossOrigin,function(E,C){E?Q(E,B,C):(T(A,B,C,g),Q(null,B,C))})}function W(A,B,g,Q){Q=Q||S;var E=g.src;if(6!==E.length)throw"there must be 6 urls for a cubemap";var C=g.level||0,e=g.internalFormat||g.format||A.RGBA,w=r(e),t=g.format||w.format,n=g.type||A.UNSIGNED_BYTE,I=g.target||A.TEXTURE_2D;if(I!==A.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";z(A,B,g),g=Object.assign({},g);var i,c=6,Y=[],M=f(A,g);i=E.map(function(E,w){return x(E,g.crossOrigin,function(E){return function(w,M){--c,w?Y.push(w):M.width!==M.height?Y.push("cubemap face img is not a square: "+M.src):(U(A,g),A.bindTexture(I,B),5===c?f(A).forEach(function(B){A.texImage2D(B,C,e,t,n,M)}):A.texImage2D(E,C,e,t,n,M),G(A,g),k(g)&&A.generateMipmap(I)),0===c&&Q(Y.length?Y:void 0,B,i)}}(M[w]))})}function L(A,B,g,Q){Q=Q||S;var E=g.src,C=g.internalFormat||g.format||A.RGBA,e=r(C),w=g.format||e.format,t=g.type||A.UNSIGNED_BYTE,n=g.target||A.TEXTURE_2D_ARRAY;if(n!==A.TEXTURE_3D&&n!==A.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";z(A,B,g),g=Object.assign({},g);var i,c=E.length,Y=[],M=g.level||0,o=g.width,s=g.height,l=E.length,D=!0;i=E.map(function(E,e){return x(E,g.crossOrigin,function(E){return function(e,r){if(--c,e)Y.push(e);else{if(U(A,g),A.bindTexture(n,B),D){D=!1,o=g.width||r.width,s=g.height||r.height,A.texImage3D(n,M,C,o,s,l,0,w,t,null);for(var F=0;F<l;++F)A.texSubImage3D(n,M,0,0,F,o,s,1,w,t,r)}else{var a=r;r.width===o&&r.height===s||(a=I.canvas,I.canvas.width=o,I.canvas.height=s,I.drawImage(r,0,0,o,s)),A.texSubImage3D(n,M,0,0,E,o,s,1,w,t,a),a===I.canvas&&(I.canvas.width=0,I.canvas.height=0)}G(A,g),k(g)&&A.generateMipmap(n)}0===c&&Q(Y.length?Y:void 0,B,i)}}(e))})}function V(A,B,g,C){var e=(C=C||t.textureOptions).target||A.TEXTURE_2D;A.bindTexture(e,B);var w=C.width,I=C.height,i=C.depth,c=C.level||0,Y=C.internalFormat||C.format||A.RGBA,M=r(Y),o=C.format||M.format,s=C.type||F(A,g,M.type);if(n(g))g instanceof Uint8ClampedArray&&(g=new Uint8Array(g.buffer));else{var D=E.getTypedArrayTypeForGLType(s);g=new D(g)}var h,u=l(Y,s),J=g.byteLength/u;if(J%1)throw"length wrong size for format: "+Q.glEnumToString(A,o);if(e===A.TEXTURE_3D)if(w||I||i)!w||I&&i?!I||w&&i?(h=a(A,e,w,I,J/i),w=h.width,I=h.height):(h=a(A,e,w,i,J/I),w=h.width,i=h.height):(h=a(A,e,I,i,J/w),I=h.width,i=h.height);else{var R=Math.cbrt(J);if(R%1!=0)throw"can't guess cube size of array of numElements: "+J;w=R,I=R,i=R}else h=a(A,e,w,I,J),w=h.width,I=h.height;if(N(A),A.pixelStorei(A.UNPACK_ALIGNMENT,C.unpackAlignment||1),U(A,C),e===A.TEXTURE_CUBE_MAP){var H=J/6*(u/g.BYTES_PER_ELEMENT);j(A,C).forEach(function(B){var Q=H*B.ndx,E=g.subarray(Q,Q+H);A.texImage2D(B.face,c,Y,w,I,0,o,s,E)})}else e===A.TEXTURE_3D?A.texImage3D(e,c,Y,w,I,i,0,o,s,g):A.texImage2D(e,c,Y,w,I,0,o,s,g);return G(A,C),m(A),{width:w,height:I,depth:i,type:s}}function b(A,B,g){var Q=g.target||A.TEXTURE_2D;A.bindTexture(Q,B);var E=g.level||0,C=g.internalFormat||g.format||A.RGBA,e=r(C),w=g.format||e.format,t=g.type||e.type;if(U(A,g),Q===A.TEXTURE_CUBE_MAP)for(var n=0;n<6;++n)A.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+n,E,C,g.width,g.height,0,w,t,null);else Q===A.TEXTURE_3D?A.texImage3D(Q,E,C,g.width,g.height,g.depth,0,w,t,null):A.texImage2D(Q,E,C,g.width,g.height,0,w,t,null);G(A,g)}function P(A,B,g){g=g||S,B=B||t.textureOptions;var Q=A.createTexture(),E=B.target||A.TEXTURE_2D,C=B.width||1,e=B.height||1,w=B.internalFormat||A.RGBA,I=r(w),i=B.type||I.type;A.bindTexture(E,Q),E===A.TEXTURE_CUBE_MAP&&(A.texParameteri(E,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(E,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE));var c=B.src;if(c)if("function"==typeof c&&(c=c(A,B)),"string"==typeof c)K(A,Q,B,g);else if(n(c)||Array.isArray(c)&&("number"==typeof c[0]||Array.isArray(c[0])||n(c[0]))){var Y=V(A,Q,c,B);C=Y.width,e=Y.height,i=Y.type}else if(Array.isArray(c)&&("string"==typeof c[0]||p(c[0])))E===A.TEXTURE_CUBE_MAP?W(A,Q,B,g):L(A,Q,B,g);else{if(!p(c))throw"unsupported src type";T(A,Q,c,B),C=c.width,e=c.height}else b(A,Q,B);return k(B)&&y(A,Q,B,C,e,w,i),R(A,Q,B),Q}},function(A,B,g){"use strict";B.__esModule=!0;var Q={m4:!0,v3:!0,primitives:!0};B.primitives=B.v3=B.m4=void 0;var E=t(g(6));B.m4=E;var C=t(g(3));B.v3=C;var e=t(g(10));B.primitives=e;var w=g(11);function t(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}Object.keys(w).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=w[A]))})},function(A,B,g){"use strict";B.__esModule=!0,B.create3DFVertices=m,B.createAugmentedTypedArray=c,B.createCubeVertices=U,B.createPlaneVertices=a,B.createSphereVertices=h,B.createTruncatedConeVertices=G,B.createXYQuadVertices=F,B.createCresentVertices=J,B.createCylinderVertices=R,B.createTorusVertices=H,B.createDiscVertices=d,B.deindexVertices=function(A){var B=A.indices,g={},Q=B.length;return Object.keys(A).filter(Y).forEach(function(E){for(var C=A[E],e=C.numComponents,w=c(e,Q,C.constructor),t=0;t<Q;++t)for(var n=B[t],I=n*e,i=0;i<e;++i)w.push(C[I+i]);g[E]=w}),g},B.flattenNormals=function(A){if(A.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var B=A.normal,g=B.length,Q=0;Q<g;Q+=9){var E=B[Q+0],C=B[Q+1],e=B[Q+2],w=B[Q+3],t=B[Q+4],n=B[Q+5],I=B[Q+6],i=B[Q+7],c=B[Q+8],Y=E+w+I,M=C+t+i,o=e+n+c,s=Math.sqrt(Y*Y+M*M+o*o);Y/=s,M/=s,o/=s,B[Q+0]=Y,B[Q+1]=M,B[Q+2]=o,B[Q+3]=Y,B[Q+4]=M,B[Q+5]=o,B[Q+6]=Y,B[Q+7]=M,B[Q+8]=o}return A},B.makeRandomVertexColors=function(A,B){B=B||{};var g=A.position.numElements,Q=c(4,g,Uint8Array),E=B.rand||function(A,B){return B<3?function(A){return Math.random()*A|0}(256):255};if(A.color=Q,A.indices)for(var C=0;C<g;++C)Q.push(E(C,0),E(C,1),E(C,2),E(C,3));else for(var e=B.vertsPerColor||3,w=g/e,t=0;t<w;++t)for(var n=[E(t,0),E(t,1),E(t,2),E(t,3)],I=0;I<e;++I)Q.push(n);return A},B.reorientDirections=s,B.reorientNormals=l,B.reorientPositions=r,B.reorientVertices=D,B.concatVertices=function(A){for(var B,g={},Q=function(Q){var E=A[Q];Object.keys(E).forEach(function(A){g[A]||(g[A]=[]),B||"indices"===A||(B=A);var Q=E[A],C=I(Q,A),e=n(Q),w=e.length/C;g[A].push(w)})},E=0;E<A.length;++E)Q(E);var C=g[B],e={};return Object.keys(g).forEach(function(B){var g=function(B){for(var g,Q=0,E=0;E<A.length;++E){var C=A[E],e=C[B],w=n(e);Q+=w.length,g&&!e.data||(g=e)}return{length:Q,spec:g}}(B),Q=T(g.spec,g.length);!function(B,g,Q){for(var E=0,C=0,e=0;e<A.length;++e){var w=A[e],t=w[B],I=n(t);"indices"===B?(j(I,Q,C,E),E+=g[e]):j(I,Q,C),C+=I.length}}(B,C,n(Q)),e[B]=Q}),e},B.duplicateVertices=function(A){var B={};return Object.keys(A).forEach(function(g){var Q=A[g],E=n(Q),C=T(Q,E.length);j(E,n(C),0),B[g]=C}),B},B.createDiscBuffers=B.createDiscBufferInfo=B.createTorusBuffers=B.createTorusBufferInfo=B.createCylinderBuffers=B.createCylinderBufferInfo=B.createCresentBuffers=B.createCresentBufferInfo=B.createXYQuadBuffers=B.createXYQuadBufferInfo=B.createTruncatedConeBuffers=B.createTruncatedConeBufferInfo=B.createSphereBuffers=B.createSphereBufferInfo=B.createPlaneBuffers=B.createPlaneBufferInfo=B.createCubeBuffers=B.createCubeBufferInfo=B.create3DFBuffers=B.create3DFBufferInfo=void 0;var Q=t(g(7)),E=t(g(0)),C=t(g(1)),e=t(g(6)),w=t(g(3));function t(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}var n=Q.getArray_,I=Q.getNumComponents_;function i(A,B){var g=0;return A.push=function(){for(var B=0;B<arguments.length;++B){var Q=arguments[B];if(Q instanceof Array||C.isArrayBuffer(Q))for(var E=0;E<Q.length;++E)A[g++]=Q[E];else A[g++]=Q}},A.reset=function(A){g=A||0},A.numComponents=B,Object.defineProperty(A,"numElements",{get:function(){return this.length/this.numComponents|0}}),A}function c(A,B,g){return i(new(g||Float32Array)(A*B),A)}function Y(A){return"indices"!==A}function M(A,B,g){for(var Q=A.length,E=new Float32Array(3),C=0;C<Q;C+=3)g(B,[A[C],A[C+1],A[C+2]],E),A[C]=E[0],A[C+1]=E[1],A[C+2]=E[2]}function o(A,B,g){g=g||w.create();var Q=B[0],E=B[1],C=B[2];return g[0]=Q*A[0]+E*A[1]+C*A[2],g[1]=Q*A[4]+E*A[5]+C*A[6],g[2]=Q*A[8]+E*A[9]+C*A[10],g}function s(A,B){return M(A,B,e.transformDirection),A}function l(A,B){return M(A,e.inverse(B),o),A}function r(A,B){return M(A,B,e.transformPoint),A}function D(A,B){return Object.keys(A).forEach(function(g){var Q=A[g];g.indexOf("pos")>=0?r(Q,B):g.indexOf("tan")>=0||g.indexOf("binorm")>=0?s(Q,B):g.indexOf("norm")>=0&&l(Q,B)}),A}function F(A,B,g){return A=A||2,{position:{numComponents:2,data:[(B=B||0)+-1*(A*=.5),(g=g||0)+-1*A,B+1*A,g+-1*A,B+-1*A,g+1*A,B+1*A,g+1*A]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function a(A,B,g,Q,E){A=A||1,B=B||1,g=g||1,Q=Q||1,E=E||e.identity();for(var C=(g+1)*(Q+1),w=c(3,C),t=c(3,C),n=c(2,C),I=0;I<=Q;I++)for(var i=0;i<=g;i++){var Y=i/g,M=I/Q;w.push(A*Y-.5*A,0,B*M-.5*B),t.push(0,1,0),n.push(Y,M)}for(var o=g+1,s=c(3,g*Q*2,Uint16Array),l=0;l<Q;l++)for(var r=0;r<g;r++)s.push((l+0)*o+r,(l+1)*o+r,(l+0)*o+r+1),s.push((l+1)*o+r,(l+1)*o+r+1,(l+0)*o+r+1);return D({position:w,normal:t,texcoord:n,indices:s},E)}function h(A,B,g,Q,E,C,e){if(B<=0||g<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");Q=Q||0,E=E||Math.PI,C=C||0;for(var w=E-Q,t=(e=e||2*Math.PI)-C,n=(B+1)*(g+1),I=c(3,n),i=c(3,n),Y=c(2,n),M=0;M<=g;M++)for(var o=0;o<=B;o++){var s=o/B,l=M/g,r=t*s,D=w*l,F=Math.sin(r),a=Math.cos(r),h=Math.sin(D),u=a*h,U=Math.cos(D),G=F*h;I.push(A*u,A*U,A*G),i.push(u,U,G),Y.push(1-s,l)}for(var N=B+1,m=c(3,B*g*2,Uint16Array),J=0;J<B;J++)for(var R=0;R<g;R++)m.push((R+0)*N+J,(R+0)*N+J+1,(R+1)*N+J),m.push((R+1)*N+J,(R+0)*N+J+1,(R+1)*N+J+1);return{position:I,normal:i,texcoord:Y,indices:m}}var u=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function U(A){for(var B=(A=A||1)/2,g=[[-B,-B,-B],[+B,-B,-B],[-B,+B,-B],[+B,+B,-B],[-B,-B,+B],[+B,-B,+B],[-B,+B,+B],[+B,+B,+B]],Q=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],E=[[1,0],[0,0],[0,1],[1,1]],C=c(3,24),e=c(3,24),w=c(2,24),t=c(3,12,Uint16Array),n=0;n<6;++n){for(var I=u[n],i=0;i<4;++i){var Y=g[I[i]],M=Q[n],o=E[i];C.push(Y),e.push(M),w.push(o)}var s=4*n;t.push(s+0,s+1,s+2),t.push(s+0,s+2,s+3)}return{position:C,normal:e,texcoord:w,indices:t}}function G(A,B,g,Q,E,C,e){if(Q<3)throw Error("radialSubdivisions must be 3 or greater");if(E<1)throw Error("verticalSubdivisions must be 1 or greater");for(var w=void 0===C||C,t=void 0===e||e,n=(w?2:0)+(t?2:0),I=(Q+1)*(E+1+n),i=c(3,I),Y=c(3,I),M=c(2,I),o=c(3,Q*(E+n)*2,Uint16Array),s=Q+1,l=Math.atan2(A-B,g),r=Math.cos(l),D=Math.sin(l),F=E+(t?2:0),a=w?-2:0;a<=F;++a){var h=a/E,u=g*h,U=void 0;a<0?(u=0,h=1,U=A):a>E?(u=g,h=1,U=B):U=A+a/E*(B-A),-2!==a&&a!==E+2||(U=0,h=0),u-=g/2;for(var G=0;G<s;++G){var N=Math.sin(G*Math.PI*2/Q),m=Math.cos(G*Math.PI*2/Q);i.push(N*U,u,m*U),Y.push(a<0||a>E?0:N*r,a<0?-1:a>E?1:D,a<0||a>E?0:m*r),M.push(G/Q,1-h)}}for(var J=0;J<E+n;++J)for(var R=0;R<Q;++R)o.push(s*(J+0)+0+R,s*(J+0)+1+R,s*(J+1)+1+R),o.push(s*(J+0)+0+R,s*(J+1)+1+R,s*(J+1)+0+R);return{position:i,normal:Y,texcoord:M,indices:o}}function N(A,B){B=B||[];for(var g=[],Q=0;Q<A.length;Q+=4){var E=A[Q],C=A.slice(Q+1,Q+4);C.push.apply(C,B);for(var e=0;e<E;++e)g.push.apply(g,C)}return g}function m(){var A=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],B=N([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),g=N([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),Q=A.length/3,E={position:c(3,Q),texcoord:c(2,Q),normal:c(3,Q),color:c(4,Q,Uint8Array),indices:c(3,Q/3,Uint16Array)};E.position.push(A),E.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),E.normal.push(B),E.color.push(g);for(var C=0;C<Q;++C)E.indices.push(C);return E}function J(A,B,g,Q,E,C,e){if(E<=0)throw Error("subdivisionDown must be > 0");C=C||0;var t=2,n=(e=e||1)-C,I=2*(E+1)*(2+t),i=c(3,I),Y=c(3,I),M=c(2,I);function o(A,B,g){return A+(B-A)*g}function s(B,g,e,I,c,s){for(var l=0;l<=E;l++){var r=g/(t-1),D=l/E,F=2*(r-.5),a=(C+D*n)*Math.PI,h=Math.sin(a),u=Math.cos(a),U=o(A,B,h),G=F*Q,N=u*A,m=h*U;i.push(G,N,m);var J=w.add(w.multiply([0,h,u],e),I);Y.push(J),M.push(r*c+s,D)}}for(var l=0;l<t;l++){var r=2*(l/(t-1)-.5);s(B,l,[1,1,1],[0,0,0],1,0),s(B,l,[0,0,0],[r,0,0],0,0),s(g,l,[1,1,1],[0,0,0],1,0),s(g,l,[0,0,0],[r,0,0],0,1)}var D=c(3,2*E*(2+t),Uint16Array);function F(A,B){for(var g=0;g<E;++g)D.push(A+g+0,A+g+1,B+g+0),D.push(A+g+1,B+g+1,B+g+0)}var a=E+1;return F(0*a,4*a),F(5*a,7*a),F(6*a,2*a),F(3*a,1*a),{position:i,normal:Y,texcoord:M,indices:D}}function R(A,B,g,Q,E,C){return G(A,A,B,g,Q,E,C)}function H(A,B,g,Q,E,C){if(g<3)throw Error("radialSubdivisions must be 3 or greater");if(Q<3)throw Error("verticalSubdivisions must be 3 or greater");E=E||0;for(var e=(C=C||2*Math.PI)-E,w=g+1,t=Q+1,n=w*t,I=c(3,n),i=c(3,n),Y=c(2,n),M=c(3,g*Q*2,Uint16Array),o=0;o<t;++o)for(var s=o/Q,l=s*Math.PI*2,r=Math.sin(l),D=A+r*B,F=Math.cos(l),a=F*B,h=0;h<w;++h){var u=h/g,U=E+u*e,G=Math.sin(U),N=Math.cos(U),m=G*D,J=N*D,R=G*r,H=N*r;I.push(m,a,J),i.push(R,F,H),Y.push(u,1-s)}for(var d=0;d<Q;++d)for(var y=0;y<g;++y){var k=1+y,f=1+d;M.push(w*d+y,w*f+y,w*d+k),M.push(w*f+y,w*f+k,w*d+k)}return{position:I,normal:i,texcoord:Y,indices:M}}function d(A,B,g,Q,E){if(B<3)throw Error("divisions must be at least 3");g=g||1,E=E||1,Q=Q||0;for(var C=(B+1)*(g+1),e=c(3,C),w=c(3,C),t=c(2,C),n=c(3,g*B*2,Uint16Array),I=0,i=A-Q,Y=B+1,M=0;M<=g;++M){for(var o=Q+i*Math.pow(M/g,E),s=0;s<=B;++s){var l=2*Math.PI*s/B,r=o*Math.cos(l),D=o*Math.sin(l);if(e.push(r,0,D),w.push(0,1,0),t.push(1-s/B,M/g),M>0&&s!==B){var F=I+(s+1),a=I+s,h=I+s-Y,u=I+(s+1)-Y;n.push(F,a,h),n.push(F,h,u)}}I+=B+1}return{position:e,normal:w,texcoord:t,indices:n}}function y(A){return function(B){var g=A.apply(this,Array.prototype.slice.call(arguments,1));return Q.createBuffersFromArrays(B,g)}}function k(A){return function(B){var g=A.apply(null,Array.prototype.slice.call(arguments,1));return Q.createBufferInfoFromArrays(B,g)}}var f=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function j(A,B,g,Q){Q=Q||0;for(var E=A.length,C=0;C<E;++C)B[g+C]=A[C]+Q}function T(A,B){var g=n(A),Q=new g.constructor(B),C=Q;return g.numComponents&&g.numElements&&i(Q,g.numComponents),A.data&&(C={data:Q},E.copyNamedProperties(f,A,C)),C}var S=k(m);B.create3DFBufferInfo=S;var p=y(m);B.create3DFBuffers=p;var x=k(U);B.createCubeBufferInfo=x;var z=y(U);B.createCubeBuffers=z;var K=k(a);B.createPlaneBufferInfo=K;var W=y(a);B.createPlaneBuffers=W;var L=k(h);B.createSphereBufferInfo=L;var V=y(h);B.createSphereBuffers=V;var b=k(G);B.createTruncatedConeBufferInfo=b;var P=y(G);B.createTruncatedConeBuffers=P;var v=k(F);B.createXYQuadBufferInfo=v;var O=y(F);B.createXYQuadBuffers=O;var Z=k(J);B.createCresentBufferInfo=Z;var X=y(J);B.createCresentBuffers=X;var q=k(R);B.createCylinderBufferInfo=q;var _=y(R);B.createCylinderBuffers=_;var $=k(H);B.createTorusBufferInfo=$;var AA=y(H);B.createTorusBuffers=AA;var BA=k(d);B.createDiscBufferInfo=BA;var gA=y(d);B.createDiscBuffers=gA},function(A,B,g){"use strict";B.__esModule=!0;var Q={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};B.addExtensionsToContext=r,B.getContext=function(A,B){return function(A,B){for(var g=["webgl2","webgl","experimental-webgl"],Q=null,E=0;E<g.length;++E)if(Q=A.getContext(g[E],B)){M.addExtensionsToContext&&r(Q);break}return Q}(A,B)},B.getWebGLContext=function(A,B){return function(A,B){for(var g=["webgl","experimental-webgl"],Q=null,E=0;E<g.length;++E)if(Q=A.getContext(g[E],B)){M.addExtensionsToContext&&r(Q);break}return Q}(A,B)},B.resizeCanvasToDisplaySize=function(A,B){B=B||1,B=Math.max(0,B);var g=A.clientWidth*B|0,Q=A.clientHeight*B|0;if(A.width!==g||A.height!==Q)return A.width=g,A.height=Q,!0;return!1},B.setDefaults=function(A){e.copyExistingProperties(A,M),E.setAttributeDefaults_(A),C.setTextureDefaults_(A)};var E=Y(g(7));Object.keys(E).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=E[A]))});var C=Y(g(8));Object.keys(C).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=C[A]))});var e=Y(g(0)),w=Y(g(4));Object.keys(w).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=w[A]))});var t=g(12);Object.keys(t).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=t[A]))});var n=g(13);Object.keys(n).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=n[A]))});var I=g(5);Object.keys(I).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=I[A]))});var i=g(1);Object.keys(i).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=i[A]))});var c=g(14);function Y(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}Object.keys(c).forEach(function(A){"default"!==A&&"__esModule"!==A&&(Object.prototype.hasOwnProperty.call(Q,A)||(B[A]=c[A]))});var M={addExtensionsToContext:!0};var o=/^(.*?)_/;function s(A,B){w.glEnumToString(A,0);var g=A.getExtension(B);if(g){var Q={},E=o.exec(B)[1],C="_"+E;for(var t in g){var n=g[t],I="function"==typeof n,i=I?E:C,c=t;t.endsWith(i)&&(c=t.substring(0,t.length-i.length)),void 0!==A[c]?I||A[c]===n||e.warn(c,A[c],n,t):I?A[c]=function(A){return function(){return A.apply(g,arguments)}}(n):(A[c]=n,Q[c]=n)}Q.constructor={name:g.constructor.name},w.glEnumToString(Q,0)}return g}var l=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function r(A){for(var B=0;B<l.length;++B)s(A,l[B])}},function(A,B,g){"use strict";B.__esModule=!0,B.drawBufferInfo=E,B.drawObjectList=function(A,B){var g=null,C=null;B.forEach(function(B){if(!1!==B.active){var e=B.programInfo,w=B.vertexArrayInfo||B.bufferInfo,t=!1,n=void 0===B.type?A.TRIANGLES:B.type;e!==g&&(g=e,A.useProgram(e.program),t=!0),(t||w!==C)&&(C&&C.vertexArrayObject&&!w.vertexArrayObject&&A.bindVertexArray(null),C=w,Q.setBuffersAndAttributes(A,e,w)),Q.setUniforms(e,B.uniforms),E(A,w,n,B.count,B.offset,B.instanceCount)}}),C.vertexArrayObject&&A.bindVertexArray(null)};var Q=function(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}(g(5));function E(A,B,g,Q,E,C){g=void 0===g?A.TRIANGLES:g;var e=B.indices,w=B.elementType,t=void 0===Q?B.numElements:Q;E=void 0===E?0:E,w||e?void 0!==C?A.drawElementsInstanced(g,t,void 0===w?A.UNSIGNED_SHORT:B.elementType,E,C):A.drawElements(g,t,void 0===w?A.UNSIGNED_SHORT:B.elementType,E):void 0!==C?A.drawArraysInstanced(g,E,t,C):A.drawArrays(g,E,t)}},function(A,B,g){"use strict";B.__esModule=!0,B.bindFramebufferInfo=function(A,B,g){g=g||A.FRAMEBUFFER,B?(A.bindFramebuffer(g,B.framebuffer),A.viewport(0,0,B.width,B.height)):(A.bindFramebuffer(g,null),A.viewport(0,0,A.drawingBufferWidth,A.drawingBufferHeight))},B.createFramebufferInfo=function(A,B,g,C){var I=A.FRAMEBUFFER,i=A.createFramebuffer();A.bindFramebuffer(I,i),g=g||A.drawingBufferWidth,C=C||A.drawingBufferHeight;var c=0,Y={framebuffer:i,attachments:[],width:g,height:C};return(B=B||w).forEach(function(B){var w=B.attachment,i=B.format,M=function(A){return t[A]}(i);if(M||(M=e+c++),!w)if(function(A){return n[A]}(i))w=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,w),A.renderbufferStorage(A.RENDERBUFFER,i,g,C);else{var o=Object.assign({},B);o.width=g,o.height=C,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||A.LINEAR,o.mag=o.mag||o.minMag||A.LINEAR,o.wrapS=o.wrapS||o.wrap||A.CLAMP_TO_EDGE,o.wrapT=o.wrapT||o.wrap||A.CLAMP_TO_EDGE),w=Q.createTexture(A,o)}if(E.isRenderbuffer(A,w))A.framebufferRenderbuffer(I,M,A.RENDERBUFFER,w);else{if(!E.isTexture(A,w))throw"unknown attachment type";A.framebufferTexture2D(I,M,B.texTarget||A.TEXTURE_2D,w,B.level||0)}Y.attachments.push(w)}),Y},B.resizeFramebufferInfo=function(A,B,g,C,e){C=C||A.drawingBufferWidth,e=e||A.drawingBufferHeight,B.width=C,B.height=e,(g=g||w).forEach(function(g,w){var t=B.attachments[w],n=g.format;if(E.isRenderbuffer(A,t))A.bindRenderbuffer(A.RENDERBUFFER,t),A.renderbufferStorage(A.RENDERBUFFER,n,C,e);else{if(!E.isTexture(A,t))throw"unknown attachment type";Q.resizeTexture(A,t,g,C,e)}})};var Q=C(g(8)),E=C(g(0));function C(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}var e=36064,w=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],t={};t[34041]=33306,t[6401]=36128,t[36168]=36128,t[6402]=36096,t[33189]=36096;var n={};n[32854]=!0,n[32855]=!0,n[36194]=!0,n[34041]=!0,n[33189]=!0,n[6401]=!0,n[36168]=!0},function(A,B,g){"use strict";B.__esModule=!0,B.createVertexArrayInfo=function(A,B,g){var E=A.createVertexArray();A.bindVertexArray(E),B.length||(B=[B]);return B.forEach(function(B){Q.setBuffersAndAttributes(A,B,g)}),A.bindVertexArray(null),{numElements:g.numElements,elementType:g.elementType,vertexArrayObject:E}},B.createVAOAndSetAttributes=E,B.createVAOFromBufferInfo=function(A,B,g){return E(A,B.attribSetters||B,g.attribs,g.indices)};var Q=function(A){if(A&&A.__esModule)return A;var B={};if(null!=A)for(var g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var Q=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(A,g):{};Q.get||Q.set?Object.defineProperty(B,g,Q):B[g]=A[g]}return B.default=A,B}(g(5));function E(A,B,g,E){var C=A.createVertexArray();return A.bindVertexArray(C),Q.setAttributes(B,g),E&&A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,E),A.bindVertexArray(null),C}}])})},function(A,B,g){function Q(){}g(165).mixin(Q),Q.prototype.write=function(A,B,g){this.emit("item",A,B,g)},Q.prototype.end=function(){this.emit("end"),this.removeAllListeners()},Q.prototype.pipe=function(A){var B=this;function g(){A.write.apply(A,Array.prototype.slice.call(arguments))}function Q(){!A._isStdio&&A.end()}return B.emit("unpipe",A),A.emit("pipe",B),B.on("item",g),B.on("end",Q),B.when("unpipe",function(E){var C=E===A||void 0===E;return C&&(B.removeListener("item",g),B.removeListener("end",Q),A.emit("unpipe")),C}),A},Q.prototype.unpipe=function(A){return this.emit("unpipe",A),this},Q.prototype.format=function(A){throw new Error(["Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:","var Minilog = require('minilog');","Minilog","  .pipe(Minilog.backends.console.formatClean)","  .pipe(Minilog.backends.console);"].join("\n"))},Q.mixin=function(A){var B,g=Q.prototype;for(B in g)g.hasOwnProperty(B)&&(A.prototype[B]=g[B])},A.exports=Q},function(A,B){function g(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var Q=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,Q){B&&g(A.prototype,B),Q&&g(A,Q)}(A,null,[{key:"simple",value:function(A){return JSON.parse(JSON.stringify(A))}}]),A}();A.exports=Q},function(A,B,g){function Q(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var E=g(13),C=g(45),e=function(){function A(B,g,Q,C){switch(function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A),this.id=B||E(),this.name=g,this.type=Q,this.isCloud=C,this.type){case A.SCALAR_TYPE:this.value=0;break;case A.LIST_TYPE:this.value=[];break;case A.BROADCAST_MESSAGE_TYPE:this.value=this.name;break;default:throw new Error("Invalid variable type: ".concat(this.type))}}return function(A,B,g){B&&Q(A.prototype,B),g&&Q(A,g)}(A,[{key:"toXML",value:function(A){return A=!0===A,'<variable type="'.concat(this.type,'" id="').concat(this.id,'" islocal="').concat(A,'" iscloud="').concat(this.isCloud,'">').concat(C(this.name),"</variable>")}}],[{key:"SCALAR_TYPE",get:function(){return""}},{key:"LIST_TYPE",get:function(){return"list"}},{key:"BROADCAST_MESSAGE_TYPE",get:function(){return"broadcast_msg"}}]),A}();A.exports=e},function(A,B){function g(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var Q=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,Q){B&&g(A.prototype,B),Q&&g(A,Q)}(A,null,[{key:"BACKGROUND_LAYER",get:function(){return"background"}},{key:"VIDEO_LAYER",get:function(){return"video"}},{key:"PEN_LAYER",get:function(){return"pen"}},{key:"SPRITE_LAYER",get:function(){return"sprite"}},{key:"LAYER_GROUPS",get:function(){return[A.BACKGROUND_LAYER,A.VIDEO_LAYER,A.PEN_LAYER,A.SPRITE_LAYER]}}]),A}();A.exports=Q},function(A,B,g){function Q(){}g(340).mixin(Q),Q.prototype.write=function(A,B,g){this.emit("item",A,B,g)},Q.prototype.end=function(){this.emit("end"),this.removeAllListeners()},Q.prototype.pipe=function(A){var B=this;function g(){A.write.apply(A,Array.prototype.slice.call(arguments))}function Q(){!A._isStdio&&A.end()}return B.emit("unpipe",A),A.emit("pipe",B),B.on("item",g),B.on("end",Q),B.when("unpipe",function(E){var C=E===A||void 0===E;return C&&(B.removeListener("item",g),B.removeListener("end",Q),A.emit("unpipe")),C}),A},Q.prototype.unpipe=function(A){return this.emit("unpipe",A),this},Q.prototype.format=function(A){throw new Error(["Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:","var Minilog = require('minilog');","Minilog","  .pipe(Minilog.backends.console.formatClean)","  .pipe(Minilog.backends.console);"].join("\n"))},Q.mixin=function(A){var B,g=Q.prototype;for(B in g)g.hasOwnProperty(B)&&(A.prototype[B]=g[B])},A.exports=Q},function(A,B,g){"use strict";(function(A){if(B.base64=!0,B.array=!0,B.string=!0,B.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,B.nodebuffer=void 0!==A,B.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)B.blob=!1;else{var Q=new ArrayBuffer(0);try{B.blob=0===new Blob([Q],{type:"application/zip"}).size}catch(A){try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);E.append(Q),B.blob=0===E.getBlob("application/zip").size}catch(A){B.blob=!1}}}try{B.nodestream=!!g(117).Readable}catch(A){B.nodestream=!1}}).call(this,g(4).Buffer)},function(A,B,g){"use strict";var Q="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function E(A,B){return Object.prototype.hasOwnProperty.call(A,B)}B.assign=function(A){for(var B=Array.prototype.slice.call(arguments,1);B.length;){var g=B.shift();if(g){if("object"!=typeof g)throw new TypeError(g+"must be non-object");for(var Q in g)E(g,Q)&&(A[Q]=g[Q])}}return A},B.shrinkBuf=function(A,B){return A.length===B?A:A.subarray?A.subarray(0,B):(A.length=B,A)};var C={arraySet:function(A,B,g,Q,E){if(B.subarray&&A.subarray)A.set(B.subarray(g,g+Q),E);else for(var C=0;C<Q;C++)A[E+C]=B[g+C]},flattenChunks:function(A){var B,g,Q,E,C,e;for(Q=0,B=0,g=A.length;B<g;B++)Q+=A[B].length;for(e=new Uint8Array(Q),E=0,B=0,g=A.length;B<g;B++)C=A[B],e.set(C,E),E+=C.length;return e}},e={arraySet:function(A,B,g,Q,E){for(var C=0;C<Q;C++)A[E+C]=B[g+C]},flattenChunks:function(A){return[].concat.apply([],A)}};B.setTyped=function(A){A?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,C)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,e))},B.setTyped(Q)},function(A,B,g){function Q(A,B){var g;if("undefined"==typeof Symbol||null==A[Symbol.iterator]){if(Array.isArray(A)||(g=function(A,B){if(!A)return;if("string"==typeof A)return E(A,B);var g=Object.prototype.toString.call(A).slice(8,-1);"Object"===g&&A.constructor&&(g=A.constructor.name);if("Map"===g||"Set"===g)return Array.from(A);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return E(A,B)}(A))||B&&A&&"number"==typeof A.length){g&&(A=g);var Q=0,C=function(){};return{s:C,n:function(){return Q>=A.length?{done:!0}:{done:!1,value:A[Q++]}},e:function(A){throw A},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,w=!0,t=!1;return{s:function(){g=A[Symbol.iterator]()},n:function(){var A=g.next();return w=A.done,A},e:function(A){t=!0,e=A},f:function(){try{w||null==g.return||g.return()}finally{if(t)throw e}}}}function E(A,B){(null==B||B>A.length)&&(B=A.length);for(var g=0,Q=new Array(B);g<B;g++)Q[g]=A[g];return Q}function C(A){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function e(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var w=g(208),t=g(92),n=g(45),I=g(60),i=g(18),c=g(35).Map,Y=g(99),M=g(100),o=g(1),s=g(19),l=g(61),r=function(){function A(B,g){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A),this.runtime=B,this._blocks={},this._scripts=[],Object.defineProperty(this,"_cache",{writable:!0,enumerable:!1}),this._cache={inputs:{},procedureParamNames:{},procedureDefinitions:{},_executeCached:{},_monitored:null,scripts:{}},this.forceNoGlow=g||!1}return function(A,B,g){B&&e(A.prototype,B),g&&e(A,g)}(A,[{key:"getBlock",value:function(A){return this._blocks[A]}},{key:"getScripts",value:function(){return this._scripts}},{key:"getNextBlock",value:function(A){var B=this._blocks[A];return void 0===B?null:B.next}},{key:"getBranch",value:function(B,g){var Q=this._blocks[B];if(void 0===Q)return null;g||(g=1);var E=A.BRANCH_INPUT_PREFIX;g>1&&(E+=g);var C=Q.inputs[E];return void 0===C?null:C.block}},{key:"getOpcode",value:function(A){return void 0===A?null:A.opcode}},{key:"getFields",value:function(A){return void 0===A?null:A.fields}},{key:"getInputs",value:function(B){if(void 0===B)return null;var g=this._cache.inputs[B.id];if(void 0!==g)return g;for(var Q in g={},B.inputs)Q.substring(0,A.BRANCH_INPUT_PREFIX.length)!==A.BRANCH_INPUT_PREFIX&&(g[Q]=B.inputs[Q]);return this._cache.inputs[B.id]=g,g}},{key:"getMutation",value:function(A){return void 0===A?null:A.mutation}},{key:"getTopLevelScript",value:function(A){var B=this._blocks[A];if(void 0===B)return null;for(;null!==B.parent;)B=this._blocks[B.parent];return B.id}},{key:"getProcedureDefinition",value:function(A){var B=this._cache.procedureDefinitions[A];if(void 0!==B)return B;for(var g in this._blocks)if(this._blocks.hasOwnProperty(g)){var Q=this._blocks[g];if("procedures_definition"===Q.opcode){var E=this._getCustomBlockInternal(Q);if(E&&E.mutation.proccode===A)return this._cache.procedureDefinitions[A]=g,g}}return this._cache.procedureDefinitions[A]=null,null}},{key:"getProcedureParamNamesAndIds",value:function(A){return this.getProcedureParamNamesIdsAndDefaults(A).slice(0,2)}},{key:"getProcedureParamNamesIdsAndDefaults",value:function(A){var B=this._cache.procedureParamNames[A];if(void 0!==B)return B;for(var g in this._blocks)if(this._blocks.hasOwnProperty(g)){var Q=this._blocks[g];if("procedures_prototype"===Q.opcode&&Q.mutation.proccode===A){var E=JSON.parse(Q.mutation.argumentnames),C=JSON.parse(Q.mutation.argumentids),e=JSON.parse(Q.mutation.argumentdefaults);return this._cache.procedureParamNames[A]=[E,C,e],this._cache.procedureParamNames[A]}}return this._cache.procedureParamNames[A]=null,null}},{key:"duplicate",value:function(){var B=new A(this.runtime,this.forceNoGlow);return B._blocks=i.simple(this._blocks),B._scripts=i.simple(this._scripts),B}},{key:"blocklyListen",value:function(A){if("object"===C(A)&&("string"==typeof A.blockId||"string"==typeof A.varId||"string"==typeof A.commentId)){var B=this.runtime.getTargetForStage(),g=this.runtime.getEditingTarget();if("stackclick"!==A.element)switch(A.type){case"create":for(var E=w(A),e=0;e<E.length;e++)this.createBlock(E[e]);break;case"change":this.changeBlock({id:A.blockId,element:A.element,name:A.name,value:A.newValue});break;case"move":this.moveBlock({id:A.blockId,oldParent:A.oldParentId,oldInput:A.oldInputName,newParent:A.newParentId,newInput:A.newInputName,newCoordinate:A.newCoordinate});break;case"dragOutside":this.runtime.emitBlockDragUpdate(A.isOutside);break;case"endDrag":if(this.runtime.emitBlockDragUpdate(!1),A.isOutside){var t=w(A);this.runtime.emitBlockEndDrag(t,A.blockId)}break;case"delete":if(!this._blocks.hasOwnProperty(A.blockId)||this._blocks[A.blockId].shadow)return;this._blocks[A.blockId].topLevel&&this.runtime.quietGlow(A.blockId),this.deleteBlock(A.blockId);break;case"var_create":if(A.isLocal&&g&&!g.isStage&&!A.isCloud)g.lookupVariableById(A.varId)||(g.createVariable(A.varId,A.varName,A.varType),this.emitProjectChanged());else{if(B.lookupVariableById(A.varId))return;var n,I=Q(this.runtime.targets.filter(function(A){return A.isOriginal}));try{for(I.s();!(n=I.n()).done;){if(n.value.lookupVariableByNameAndType(A.varName,A.varType,!0))return}}catch(A){I.e(A)}finally{I.f()}B.createVariable(A.varId,A.varName,A.varType,A.isCloud),this.emitProjectChanged()}break;case"var_rename":if(g&&g.variables.hasOwnProperty(A.varId))g.renameVariable(A.varId,A.newName),g.blocks.updateBlocksAfterVarRename(A.varId,A.newName);else{B.renameVariable(A.varId,A.newName);for(var i=this.runtime.targets,c=0;c<i.length;c++){i[c].blocks.updateBlocksAfterVarRename(A.varId,A.newName)}}this.emitProjectChanged();break;case"var_delete":(g&&g.variables.hasOwnProperty(A.varId)?g:B).deleteVariable(A.varId),this.emitProjectChanged();break;case"comment_create":if(this.runtime.getEditingTarget()){var Y=this.runtime.getEditingTarget();Y.createComment(A.commentId,A.blockId,A.text,A.xy.x,A.xy.y,A.width,A.height,A.minimized),null===Y.comments[A.commentId].x&&null===Y.comments[A.commentId].y&&(Y.comments[A.commentId].x=A.xy.x,Y.comments[A.commentId].y=A.xy.y)}this.emitProjectChanged();break;case"comment_change":if(this.runtime.getEditingTarget()){var M=this.runtime.getEditingTarget();if(!M.comments.hasOwnProperty(A.commentId))return void o.warn("Cannot change comment with id ".concat(A.commentId," because it does not exist."));var s=M.comments[A.commentId],l=A.newContents_;l.hasOwnProperty("minimized")&&(s.minimized=l.minimized),l.hasOwnProperty("width")&&l.hasOwnProperty("height")&&(s.width=l.width,s.height=l.height),l.hasOwnProperty("text")&&(s.text=l.text),this.emitProjectChanged()}break;case"comment_move":if(this.runtime.getEditingTarget()){var r=this.runtime.getEditingTarget();if(r&&!r.comments.hasOwnProperty(A.commentId))return void o.warn("Cannot change comment with id ".concat(A.commentId," because it does not exist."));var D=r.comments[A.commentId],F=A.newCoordinate_;D.x=F.x,D.y=F.y,this.emitProjectChanged()}break;case"comment_delete":if(this.runtime.getEditingTarget()){var a=this.runtime.getEditingTarget();if(!a.comments.hasOwnProperty(A.commentId))return;if(delete a.comments[A.commentId],A.blockId){var h=a.blocks.getBlock(A.blockId);if(!h)return void o.warn("Could not find block referenced by comment with id: ".concat(A.commentId));delete h.comment}this.emitProjectChanged()}}else this.runtime.toggleScript(A.blockId,{stackClick:!0})}}},{key:"resetCache",value:function(){this._cache.inputs={},this._cache.procedureParamNames={},this._cache.procedureDefinitions={},this._cache._executeCached={},this._cache._monitored=null,this._cache.scripts={}}},{key:"emitProjectChanged",value:function(){this.forceNoGlow||this.runtime.emitProjectChanged()}},{key:"createBlock",value:function(A){this._blocks.hasOwnProperty(A.id)||(this._blocks[A.id]=A,A.topLevel&&this._addScript(A.id),this.resetCache(),this.emitProjectChanged())}},{key:"changeBlock",value:function(A){if(-1!==["field","mutation","checkbox"].indexOf(A.element)){var B=this._blocks[A.id];if(void 0!==B){switch(A.element){case"field":if(!B.fields[A.name])return;if("VARIABLE"===A.name||"LIST"===A.name||"BROADCAST_OPTION"===A.name){var g=this.runtime.getEditingTarget().lookupVariableById(A.value);g&&(B.fields[A.name].value=g.name,B.fields[A.name].id=A.value)}else{B.fields[A.name].value=A.value,"sensing_of_object_menu"===B.opcode&&("_stage_"===B.fields.OBJECT.value?this._blocks[B.parent].fields.PROPERTY.value="backdrop #":this._blocks[B.parent].fields.PROPERTY.value="x position",this.runtime.requestBlocksUpdate());var Q=B.shadow&&B.parent?this._blocks[B.parent]:B;Q.isMonitored&&this.runtime.requestUpdateMonitor(c({id:Q.id,params:this._getBlockParams(Q)}))}break;case"mutation":B.mutation=t(A.value);break;case"checkbox":if(B.fields&&Object.keys(B.fields).length>0&&"data_variable"!==B.opcode&&"data_listcontents"!==B.opcode){var E=l(B.id,B.fields),C=this.runtime.monitorBlocks.getBlock(E);C||((C=JSON.parse(JSON.stringify(B))).id=E,this.runtime.monitorBlocks.createBlock(C)),B=C}var e=B.isMonitored;B.isMonitored=A.value;var w=!1;"data_variable"===B.opcode?w=!this.runtime.getTargetForStage().variables[B.fields.VARIABLE.id]:"data_listcontents"===B.opcode&&(w=!this.runtime.getTargetForStage().variables[B.fields.LIST.id]);var n=w||this.runtime.monitorBlockInfo.hasOwnProperty(B.opcode)&&this.runtime.monitorBlockInfo[B.opcode].isSpriteSpecific;B.targetId=n?B.targetId||this.runtime.getEditingTarget().id:null,e&&!B.isMonitored?this.runtime.requestHideMonitor(B.id):!e&&B.isMonitored&&(this.runtime.requestShowMonitor(B.id)||this.runtime.requestAddMonitor(I({id:B.id,targetId:B.targetId,spriteName:B.targetId?this.runtime.getTargetById(B.targetId).getName():null,opcode:B.opcode,params:this._getBlockParams(B),value:"",mode:"data_listcontents"===B.opcode?"list":"default"})))}this.emitProjectChanged(),this.resetCache()}}}},{key:"moveBlock",value:function(A){if(this._blocks.hasOwnProperty(A.id)){var B=this._blocks[A.id],g=!1;if(A.newCoordinate&&(g=B.x!==A.newCoordinate.x||B.y!==A.newCoordinate.y,B.x=A.newCoordinate.x,B.y=A.newCoordinate.y),void 0!==A.oldParent){var Q=this._blocks[A.oldParent];void 0!==A.oldInput&&Q.inputs[A.oldInput].block===A.id?Q.inputs[A.oldInput].block=null:Q.next===A.id&&(Q.next=null),this._blocks[A.id].parent=null,g=!0}if(void 0===A.newParent)this._addScript(A.id);else{if(this._deleteScript(A.id),void 0===A.newInput)this._blocks[A.newParent].next=A.id;else{var E=null;this._blocks[A.newParent].inputs.hasOwnProperty(A.newInput)&&(E=this._blocks[A.newParent].inputs[A.newInput].shadow),this._blocks[A.id].shadow&&(E=A.id),this._blocks[A.newParent].inputs[A.newInput]={name:A.newInput,block:A.id,shadow:E}}this._blocks[A.id].parent=A.newParent,g=!0}this.resetCache(),g&&this.emitProjectChanged()}}},{key:"runAllMonitored",value:function(A){var B=this;null===this._cache._monitored&&(this._cache._monitored=Object.keys(this._blocks).filter(function(A){return B.getBlock(A).isMonitored}).map(function(g){var Q=B.getBlock(g).targetId;return{blockId:g,target:Q?A.getTargetById(Q):null}}));for(var g=this._cache._monitored,Q=0;Q<g.length;Q++){var E=g[Q],C=E.blockId,e=E.target;A.addMonitorScript(C,e)}}},{key:"deleteBlock",value:function(A){var B=this._blocks[A];if(B){for(var g in null!==B.next&&this.deleteBlock(B.next),B.inputs)null!==B.inputs[g].block&&this.deleteBlock(B.inputs[g].block),null!==B.inputs[g].shadow&&B.inputs[g].shadow!==B.inputs[g].block&&this.deleteBlock(B.inputs[g].shadow);this._deleteScript(A),delete this._blocks[A],this.resetCache(),this.emitProjectChanged()}}},{key:"getAllVariableAndListReferences",value:function(A,B){var g=A||this._blocks,Q=Object.create(null);for(var E in g){var C=null,e=null;if(g[E].fields.VARIABLE?(C=g[E].fields.VARIABLE,e=s.SCALAR_TYPE):g[E].fields.LIST?(C=g[E].fields.LIST,e=s.LIST_TYPE):B&&g[E].fields.BROADCAST_OPTION&&(C=g[E].fields.BROADCAST_OPTION,e=s.BROADCAST_MESSAGE_TYPE),C){var w=C.id;Q[w]?Q[w].push({referencingField:C,type:e}):Q[w]=[{referencingField:C,type:e}]}}return Q}},{key:"updateBlocksAfterVarRename",value:function(A,B){var g=this._blocks;for(var Q in g){var E=null;if(g[Q].fields.VARIABLE?E=g[Q].fields.VARIABLE:g[Q].fields.LIST&&(E=g[Q].fields.LIST),E)A===E.id&&(E.value=B)}}},{key:"updateTargetSpecificBlocks",value:function(A){var B=this._blocks;for(var g in B)A&&"event_whenthisspriteclicked"===B[g].opcode?B[g].opcode="event_whenstageclicked":A||"event_whenstageclicked"!==B[g].opcode||(B[g].opcode="event_whenthisspriteclicked")}},{key:"updateAssetName",value:function(A,B,g){var Q;if("costume"===g)Q=this._getCostumeField.bind(this);else if("sound"===g)Q=this._getSoundField.bind(this);else if("backdrop"===g)Q=this._getBackdropField.bind(this);else{if("sprite"!==g)return;Q=this._getSpriteField.bind(this)}var E=this._blocks;for(var C in E){var e=Q(C);e&&e.value===A&&(e.value=B)}}},{key:"updateSensingOfReference",value:function(A,B,g){var Q=this._blocks,E=!1;for(var C in Q){var e=Q[C];if("sensing_of"===e.opcode&&e.fields.PROPERTY.value===A&&e.inputs.OBJECT.block===e.inputs.OBJECT.shadow)this.getBlock(e.inputs.OBJECT.block).fields.OBJECT.value===g&&(e.fields.PROPERTY.value=B,E=!0)}return E&&this.resetCache(),E}},{key:"_getCostumeField",value:function(A){var B=this.getBlock(A);return B&&B.fields.hasOwnProperty("COSTUME")?B.fields.COSTUME:null}},{key:"_getSoundField",value:function(A){var B=this.getBlock(A);return B&&B.fields.hasOwnProperty("SOUND_MENU")?B.fields.SOUND_MENU:null}},{key:"_getBackdropField",value:function(A){var B=this.getBlock(A);return B&&B.fields.hasOwnProperty("BACKDROP")?B.fields.BACKDROP:null}},{key:"_getSpriteField",value:function(A){var B=this.getBlock(A);if(!B)return null;for(var g=["TOWARDS","TO","OBJECT","VIDEOONMENU2","DISTANCETOMENU","TOUCHINGOBJECTMENU","CLONE_OPTION"],Q=0;Q<g.length;Q++){var E=g[Q];if(B.fields.hasOwnProperty(E))return B.fields[E]}return null}},{key:"toXML",value:function(A){var B=this;return this._scripts.map(function(g){return B.blockToXML(g,A)}).join()}},{key:"blockToXML",value:function(A,B){var g=this._blocks[A];if(g){var Q=g.shadow?"shadow":"block",E="<".concat(Q,'\n                id="').concat(g.id,'"\n                type="').concat(g.opcode,'"\n                ').concat(g.topLevel?'x="'.concat(g.x,'" y="').concat(g.y,'"'):"","\n            >"),C=g.comment;for(var e in C&&(B?B.hasOwnProperty(C)?E+=B[C].toXML():o.warn("Could not find comment with id: ".concat(C," in provided comment descriptions.")):o.warn("Cannot serialize comment with id: ".concat(C,"; no comment descriptions provided."))),g.mutation&&(E+=this.mutationToXML(g.mutation)),g.inputs)if(g.inputs.hasOwnProperty(e)){var w=g.inputs[e];(w.block||w.shadow)&&(E+='<value name="'.concat(w.name,'">'),w.block&&(E+=this.blockToXML(w.block,B)),w.shadow&&w.shadow!==w.block&&(E+=this.blockToXML(w.shadow,B)),E+="</value>")}for(var t in g.fields)if(g.fields.hasOwnProperty(t)){var I=g.fields[t];E+='<field name="'.concat(I.name,'"');var i=I.id;i&&(E+=' id="'.concat(i,'"'));var c=I.variableType;"string"==typeof c&&(E+=' variabletype="'.concat(c,'"'));var Y=I.value;"string"==typeof Y&&(Y=n(I.value)),E+=">".concat(Y,"</field>")}return g.next&&(E+="<next>".concat(this.blockToXML(g.next,B),"</next>")),E+="</".concat(Q,">")}}},{key:"mutationToXML",value:function(A){var B="<".concat(A.tagName);for(var g in A)if("children"!==g&&"tagName"!==g){var Q="string"==typeof A[g]?n(A[g]):A[g];"blockInfo"===g&&(Q=n(JSON.stringify(A[g]))),B+=" ".concat(g,'="').concat(Q,'"')}B+=">";for(var E=0;E<A.children.length;E++)B+=this.mutationToXML(A.children[E]);return B+="</".concat(A.tagName,">")}},{key:"_getBlockParams",value:function(A){var B={};for(var g in A.fields)B[g]=A.fields[g].value;for(var Q in A.inputs){var E=this._blocks[A.inputs[Q].block];for(var C in E.fields)B[C]=E.fields[C].value}return B}},{key:"_getCustomBlockInternal",value:function(A){if(A.inputs&&A.inputs.custom_block)return this._blocks[A.inputs.custom_block.block]}},{key:"_addScript",value:function(A){this._scripts.indexOf(A)>-1||(this._scripts.push(A),this._blocks[A].topLevel=!0)}},{key:"_deleteScript",value:function(A){var B=this._scripts.indexOf(A);B>-1&&this._scripts.splice(B,1),this._blocks[A]&&(this._blocks[A].topLevel=!1)}}],[{key:"BRANCH_INPUT_PREFIX",get:function(){return"SUBSTACK"}}]),A}();Y.getCached=function(A,B,g){var Q=A._cache._executeCached[B];if(void 0!==Q)return Q;var E=A.getBlock(B);return void 0===E?null:(Q=void 0===g?{id:B,opcode:A.getOpcode(E),fields:A.getFields(E),inputs:A.getInputs(E),mutation:A.getMutation(E)}:new g(A,{id:B,opcode:A.getOpcode(E),fields:A.getFields(E),inputs:A.getInputs(E),mutation:A.getMutation(E)}),A._cache._executeCached[B]=Q,Q)};var D=M._RuntimeScriptCache;M.getScripts=function(A,B){var g=A._cache.scripts[B];if(!g){g=A._cache.scripts[B]=[];for(var Q=A._scripts,E=0;E<Q.length;E++){var C=Q[E];A.getBlock(C).opcode===B&&g.push(new D(A,C))}}return g},A.exports=r},function(A,B,g){(function(B){function g(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var Q=function(){function A(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.nowObj;!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A),this.startTime=0,this.nowObj=B}return function(A,B,Q){B&&g(A.prototype,B),Q&&g(A,Q)}(A,[{key:"time",value:function(){return this.nowObj.now()}},{key:"relativeTime",value:function(){return this.nowObj.now()}},{key:"start",value:function(){this.startTime=this.nowObj.now()}},{key:"timeElapsed",value:function(){return this.nowObj.now()-this.startTime}},{key:"setTimeout",value:function(A,g){return B.setTimeout(A,g)}},{key:"clearTimeout",value:function(A){B.clearTimeout(A)}}],[{key:"USE_PERFORMANCE",get:function(){return!1}},{key:"legacyDateCode",get:function(){return{now:function(){return(new Date).getTime()}}}},{key:"nowObj",get:function(){return A.USE_PERFORMANCE&&"undefined"!=typeof self&&self.performance&&"now"in self.performance?self.performance:Date.now?Date:A.legacyDateCode}}]),A}();A.exports=Q}).call(this,g(9))},function(A,B,g){"use strict";var Q=Object.keys||function(A){var B=[];for(var g in A)B.push(g);return B};A.exports=i;var E=g(66),C=g(37);C.inherits=g(12);var e=g(118),w=g(67);C.inherits(i,e);for(var t=Q(w.prototype),n=0;n<t.length;n++){var I=t[n];i.prototype[I]||(i.prototype[I]=w.prototype[I])}function i(A){if(!(this instanceof i))return new i(A);e.call(this,A),w.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||E(Y,this)}function Y(A){A.end()}},function(A,B){var g,Q,E=A.exports={};function C(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function w(A){if(g===setTimeout)return setTimeout(A,0);if((g===C||!g)&&setTimeout)return g=setTimeout,setTimeout(A,0);try{return g(A,0)}catch(B){try{return g.call(null,A,0)}catch(B){return g.call(this,A,0)}}}!function(){try{g="function"==typeof setTimeout?setTimeout:C}catch(A){g=C}try{Q="function"==typeof clearTimeout?clearTimeout:e}catch(A){Q=e}}();var t,n=[],I=!1,i=-1;function c(){I&&t&&(I=!1,t.length?n=t.concat(n):i=-1,n.length&&Y())}function Y(){if(!I){var A=w(c);I=!0;for(var B=n.length;B;){for(t=n,n=[];++i<B;)t&&t[i].run();i=-1,B=n.length}t=null,I=!1,function(A){if(Q===clearTimeout)return clearTimeout(A);if((Q===e||!Q)&&clearTimeout)return Q=clearTimeout,clearTimeout(A);try{Q(A)}catch(B){try{return Q.call(null,A)}catch(B){return Q.call(this,A)}}}(A)}}function M(A,B){this.fun=A,this.array=B}function o(){}E.nextTick=function(A){var B=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)B[g-1]=arguments[g];n.push(new M(A,B)),1!==n.length||I||w(Y)},M.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=o,E.addListener=o,E.once=o,E.off=o,E.removeListener=o,E.removeAllListeners=o,E.emit=o,E.prependListener=o,E.prependOnceListener=o,E.listeners=function(A){return[]},E.binding=function(A){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(A){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},function(A,B,g){var Q=g(93),E=g(210);function C(B,g){return delete A.exports[B],A.exports[B]=g,g}A.exports={Parser:Q,Tokenizer:g(94),ElementType:g(34),DomHandler:E,get FeedHandler(){return C("FeedHandler",g(212))},get Stream(){return C("Stream",g(213))},get WritableStream(){return C("WritableStream",g(98))},get ProxyHandler(){return C("ProxyHandler",g(215))},get DomUtils(){return C("DomUtils",g(216))},get CollectingHandler(){return C("CollectingHandler",g(228))},DefaultHandler:E,get RssHandler(){return C("RssHandler",this.FeedHandler)},parseDOM:function(A,B){var g=new E(B);return new Q(g,B).end(A),g.dom},parseFeed:function(B,g){var E=new A.exports.FeedHandler(g);return new Q(E,g).end(B),E.dom},createDomStream:function(A,B,g){var C=new E(A,B,g);return new Q(C,B)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(A,B,g){"use strict";for(var Q=g(2),E=g(22),C=g(50),e=g(10),w=new Array(256),t=0;t<256;t++)w[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;w[254]=w[254]=1;function n(){e.call(this,"utf-8 decode"),this.leftOver=null}function I(){e.call(this,"utf-8 encode")}B.utf8encode=function(A){return E.nodebuffer?C.newBufferFrom(A,"utf-8"):function(A){var B,g,Q,C,e,w=A.length,t=0;for(C=0;C<w;C++)55296==(64512&(g=A.charCodeAt(C)))&&C+1<w&&56320==(64512&(Q=A.charCodeAt(C+1)))&&(g=65536+(g-55296<<10)+(Q-56320),C++),t+=g<128?1:g<2048?2:g<65536?3:4;for(B=E.uint8array?new Uint8Array(t):new Array(t),e=0,C=0;e<t;C++)55296==(64512&(g=A.charCodeAt(C)))&&C+1<w&&56320==(64512&(Q=A.charCodeAt(C+1)))&&(g=65536+(g-55296<<10)+(Q-56320),C++),g<128?B[e++]=g:g<2048?(B[e++]=192|g>>>6,B[e++]=128|63&g):g<65536?(B[e++]=224|g>>>12,B[e++]=128|g>>>6&63,B[e++]=128|63&g):(B[e++]=240|g>>>18,B[e++]=128|g>>>12&63,B[e++]=128|g>>>6&63,B[e++]=128|63&g);return B}(A)},B.utf8decode=function(A){return E.nodebuffer?Q.transformTo("nodebuffer",A).toString("utf-8"):function(A){var B,g,E,C,e=A.length,t=new Array(2*e);for(g=0,B=0;B<e;)if((E=A[B++])<128)t[g++]=E;else if((C=w[E])>4)t[g++]=65533,B+=C-1;else{for(E&=2===C?31:3===C?15:7;C>1&&B<e;)E=E<<6|63&A[B++],C--;C>1?t[g++]=65533:E<65536?t[g++]=E:(E-=65536,t[g++]=55296|E>>10&1023,t[g++]=56320|1023&E)}return t.length!==g&&(t.subarray?t=t.subarray(0,g):t.length=g),Q.applyFromCharCode(t)}(A=Q.transformTo(E.uint8array?"uint8array":"array",A))},Q.inherits(n,e),n.prototype.processChunk=function(A){var g=Q.transformTo(E.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(E.uint8array){var C=g;(g=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),g.set(C,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var e=function(A,B){var g;for((B=B||A.length)>A.length&&(B=A.length),g=B-1;g>=0&&128==(192&A[g]);)g--;return g<0?B:0===g?B:g+w[A[g]]>B?g:B}(g),t=g;e!==g.length&&(E.uint8array?(t=g.subarray(0,e),this.leftOver=g.subarray(e,g.length)):(t=g.slice(0,e),this.leftOver=g.slice(e,g.length))),this.push({data:B.utf8decode(t),meta:A.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:B.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},B.Utf8DecodeWorker=n,Q.inherits(I,e),I.prototype.processChunk=function(A){this.push({data:B.utf8encode(A.data),meta:A.meta})},B.Utf8EncodeWorker=I},function(A,B,g){"use strict";function Q(A,B,g){var Q=g?" !== ":" === ",E=g?" || ":" && ",C=g?"!":"",e=g?"":"!";switch(A){case"null":return B+Q+"null";case"array":return C+"Array.isArray("+B+")";case"object":return"("+C+B+E+"typeof "+B+Q+'"object"'+E+e+"Array.isArray("+B+"))";case"integer":return"(typeof "+B+Q+'"number"'+E+e+"("+B+" % 1)"+E+B+Q+B+")";default:return"typeof "+B+Q+'"'+A+'"'}}A.exports={copy:function(A,B){for(var g in B=B||{},A)B[g]=A[g];return B},checkDataType:Q,checkDataTypes:function(A,B){switch(A.length){case 1:return Q(A[0],B,!0);default:var g="",E=C(A);for(var e in E.array&&E.object&&(g=E.null?"(":"(!"+B+" || ",g+="typeof "+B+' !== "object")',delete E.null,delete E.array,delete E.object),E.number&&delete E.integer,E)g+=(g?" && ":"")+Q(e,B,!0);return g}},coerceToTypes:function(A,B){if(Array.isArray(B)){for(var g=[],Q=0;Q<B.length;Q++){var C=B[Q];E[C]?g[g.length]=C:"array"===A&&"array"===C&&(g[g.length]=C)}if(g.length)return g}else{if(E[B])return[B];if("array"===A&&"array"===B)return["array"]}},toHash:C,getProperty:t,escapeQuotes:n,equal:g(74),ucs2length:g(421),varOccurences:function(A,B){B+="[^0-9]";var g=A.match(new RegExp(B,"g"));return g?g.length:0},varReplace:function(A,B,g){return B+="([^0-9])",g=g.replace(/\$/g,"$$$$"),A.replace(new RegExp(B,"g"),g+"$1")},cleanUpCode:function(A){return A.replace(I,"").replace(i,"").replace(c,"if (!($1))")},finalCleanUpCode:function(A,B){var g=A.match(Y);g&&2==g.length&&(A=B?A.replace(o,"").replace(r,D):A.replace(M,"").replace(s,l));return(g=A.match(F))&&3===g.length?A.replace(a,""):A},schemaHasRules:function(A,B){if("boolean"==typeof A)return!A;for(var g in A)if(B[g])return!0},schemaHasRulesExcept:function(A,B,g){if("boolean"==typeof A)return!A&&"not"!=g;for(var Q in A)if(Q!=g&&B[Q])return!0},toQuotedString:h,getPathExpr:function(A,B,g,Q){return G(A,g?"'/' + "+B+(Q?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):Q?"'[' + "+B+" + ']'":"'[\\'' + "+B+" + '\\']'")},getPath:function(A,B,g){var Q=h(g?"/"+N(B):t(B));return G(A,Q)},getData:function(A,B,g){var Q,E,C,e;if(""===A)return"rootData";if("/"==A[0]){if(!u.test(A))throw new Error("Invalid JSON-pointer: "+A);E=A,C="rootData"}else{if(!(e=A.match(U)))throw new Error("Invalid JSON-pointer: "+A);if(Q=+e[1],"#"==(E=e[2])){if(Q>=B)throw new Error("Cannot access property/index "+Q+" levels up, current level is "+B);return g[B-Q]}if(Q>B)throw new Error("Cannot access data "+Q+" levels up, current level is "+B);if(C="data"+(B-Q||""),!E)return C}for(var w=C,n=E.split("/"),I=0;I<n.length;I++){var i=n[I];i&&(C+=t(m(i)),w+=" && "+C)}return w},unescapeFragment:function(A){return m(decodeURIComponent(A))},unescapeJsonPointer:m,escapeFragment:function(A){return encodeURIComponent(N(A))},escapeJsonPointer:N};var E=C(["string","number","integer","boolean","null"]);function C(A){for(var B={},g=0;g<A.length;g++)B[A[g]]=!0;return B}var e=/^[a-z$_][a-z$_0-9]*$/i,w=/'|\\/g;function t(A){return"number"==typeof A?"["+A+"]":e.test(A)?"."+A:"['"+n(A)+"']"}function n(A){return A.replace(w,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var I=/else\s*{\s*}/g,i=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,c=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var Y=/[^v.]errors/g,M=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,o=/var errors = 0;|var vErrors = null;/g,s="return errors === 0;",l="validate.errors = null; return true;",r=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,D="return data;",F=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,a=/if \(rootData === undefined\) rootData = data;/;function h(A){return"'"+n(A)+"'"}var u=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function G(A,B){return'""'==A?B:(A+" + "+B).replace(/' \+ '/g,"")}function N(A){return A.replace(/~/g,"~0").replace(/\//g,"~1")}function m(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(175),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(A){return"[object Array]"===Object.prototype.toString.call(A)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(A){return"object"==typeof A&&A.buffer&&A.buffer.constructor===ArrayBuffer});var createOutputMethod=function(A){return function(B){return new Md5(!0).update(B)[A]()}},createMethod=function(){var A=createOutputMethod("hex");NODE_JS&&(A=nodeWrap(A)),A.create=function(){return new Md5},A.update=function(B){return A.create().update(B)};for(var B=0;B<OUTPUT_TYPES.length;++B){var g=OUTPUT_TYPES[B];A[g]=createOutputMethod(g)}return A},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(A){if("string"==typeof A)return crypto.createHash("md5").update(A,"utf8").digest("hex");if(null===A||void 0===A)throw ERROR;return A.constructor===ArrayBuffer&&(A=new Uint8Array(A)),Array.isArray(A)||ArrayBuffer.isView(A)||A.constructor===Buffer?crypto.createHash("md5").update(new Buffer(A)).digest("hex"):method(A)};return nodeMethod};function Md5(A){if(A)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var B=new ArrayBuffer(68);this.buffer8=new Uint8Array(B),this.blocks=new Uint32Array(B)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(A){if(!this.finalized){var B,g=typeof A;if("string"!==g){if("object"!==g)throw ERROR;if(null===A)throw ERROR;if(ARRAY_BUFFER&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!(Array.isArray(A)||ARRAY_BUFFER&&ArrayBuffer.isView(A)))throw ERROR;B=!0}for(var Q,E,C=0,e=A.length,w=this.blocks,t=this.buffer8;C<e;){if(this.hashed&&(this.hashed=!1,w[0]=w[16],w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),B)if(ARRAY_BUFFER)for(E=this.start;C<e&&E<64;++C)t[E++]=A[C];else for(E=this.start;C<e&&E<64;++C)w[E>>2]|=A[C]<<SHIFT[3&E++];else if(ARRAY_BUFFER)for(E=this.start;C<e&&E<64;++C)(Q=A.charCodeAt(C))<128?t[E++]=Q:Q<2048?(t[E++]=192|Q>>6,t[E++]=128|63&Q):Q<55296||Q>=57344?(t[E++]=224|Q>>12,t[E++]=128|Q>>6&63,t[E++]=128|63&Q):(Q=65536+((1023&Q)<<10|1023&A.charCodeAt(++C)),t[E++]=240|Q>>18,t[E++]=128|Q>>12&63,t[E++]=128|Q>>6&63,t[E++]=128|63&Q);else for(E=this.start;C<e&&E<64;++C)(Q=A.charCodeAt(C))<128?w[E>>2]|=Q<<SHIFT[3&E++]:Q<2048?(w[E>>2]|=(192|Q>>6)<<SHIFT[3&E++],w[E>>2]|=(128|63&Q)<<SHIFT[3&E++]):Q<55296||Q>=57344?(w[E>>2]|=(224|Q>>12)<<SHIFT[3&E++],w[E>>2]|=(128|Q>>6&63)<<SHIFT[3&E++],w[E>>2]|=(128|63&Q)<<SHIFT[3&E++]):(Q=65536+((1023&Q)<<10|1023&A.charCodeAt(++C)),w[E>>2]|=(240|Q>>18)<<SHIFT[3&E++],w[E>>2]|=(128|Q>>12&63)<<SHIFT[3&E++],w[E>>2]|=(128|Q>>6&63)<<SHIFT[3&E++],w[E>>2]|=(128|63&Q)<<SHIFT[3&E++]);this.lastByteIndex=E,this.bytes+=E-this.start,E>=64?(this.start=E-64,this.hash(),this.hashed=!0):this.start=E}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,B=this.lastByteIndex;A[B>>2]|=EXTRA[3&B],B>=56&&(this.hashed||this.hash(),A[0]=A[16],A[16]=A[1]=A[2]=A[3]=A[4]=A[5]=A[6]=A[7]=A[8]=A[9]=A[10]=A[11]=A[12]=A[13]=A[14]=A[15]=0),A[14]=this.bytes<<3,A[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var A,B,g,Q,E,C,e=this.blocks;this.first?B=((B=((A=((A=e[0]-680876937)<<7|A>>>25)-271733879<<0)^(g=((g=(-271733879^(Q=((Q=(-1732584194^2004318071&A)+e[1]-117830708)<<12|Q>>>20)+A<<0)&(-271733879^A))+e[2]-1126478375)<<17|g>>>15)+Q<<0)&(Q^A))+e[3]-1316259209)<<22|B>>>10)+g<<0:(A=this.h0,B=this.h1,g=this.h2,B=((B+=((A=((A+=((Q=this.h3)^B&(g^Q))+e[0]-680876936)<<7|A>>>25)+B<<0)^(g=((g+=(B^(Q=((Q+=(g^A&(B^g))+e[1]-389564586)<<12|Q>>>20)+A<<0)&(A^B))+e[2]+606105819)<<17|g>>>15)+Q<<0)&(Q^A))+e[3]-1044525330)<<22|B>>>10)+g<<0),B=((B+=((A=((A+=(Q^B&(g^Q))+e[4]-176418897)<<7|A>>>25)+B<<0)^(g=((g+=(B^(Q=((Q+=(g^A&(B^g))+e[5]+1200080426)<<12|Q>>>20)+A<<0)&(A^B))+e[6]-1473231341)<<17|g>>>15)+Q<<0)&(Q^A))+e[7]-45705983)<<22|B>>>10)+g<<0,B=((B+=((A=((A+=(Q^B&(g^Q))+e[8]+1770035416)<<7|A>>>25)+B<<0)^(g=((g+=(B^(Q=((Q+=(g^A&(B^g))+e[9]-1958414417)<<12|Q>>>20)+A<<0)&(A^B))+e[10]-42063)<<17|g>>>15)+Q<<0)&(Q^A))+e[11]-1990404162)<<22|B>>>10)+g<<0,B=((B+=((A=((A+=(Q^B&(g^Q))+e[12]+1804603682)<<7|A>>>25)+B<<0)^(g=((g+=(B^(Q=((Q+=(g^A&(B^g))+e[13]-40341101)<<12|Q>>>20)+A<<0)&(A^B))+e[14]-1502002290)<<17|g>>>15)+Q<<0)&(Q^A))+e[15]+1236535329)<<22|B>>>10)+g<<0,B=((B+=((Q=((Q+=(B^g&((A=((A+=(g^Q&(B^g))+e[1]-165796510)<<5|A>>>27)+B<<0)^B))+e[6]-1069501632)<<9|Q>>>23)+A<<0)^A&((g=((g+=(A^B&(Q^A))+e[11]+643717713)<<14|g>>>18)+Q<<0)^Q))+e[0]-373897302)<<20|B>>>12)+g<<0,B=((B+=((Q=((Q+=(B^g&((A=((A+=(g^Q&(B^g))+e[5]-701558691)<<5|A>>>27)+B<<0)^B))+e[10]+38016083)<<9|Q>>>23)+A<<0)^A&((g=((g+=(A^B&(Q^A))+e[15]-660478335)<<14|g>>>18)+Q<<0)^Q))+e[4]-405537848)<<20|B>>>12)+g<<0,B=((B+=((Q=((Q+=(B^g&((A=((A+=(g^Q&(B^g))+e[9]+568446438)<<5|A>>>27)+B<<0)^B))+e[14]-1019803690)<<9|Q>>>23)+A<<0)^A&((g=((g+=(A^B&(Q^A))+e[3]-187363961)<<14|g>>>18)+Q<<0)^Q))+e[8]+1163531501)<<20|B>>>12)+g<<0,B=((B+=((Q=((Q+=(B^g&((A=((A+=(g^Q&(B^g))+e[13]-1444681467)<<5|A>>>27)+B<<0)^B))+e[2]-51403784)<<9|Q>>>23)+A<<0)^A&((g=((g+=(A^B&(Q^A))+e[7]+1735328473)<<14|g>>>18)+Q<<0)^Q))+e[12]-1926607734)<<20|B>>>12)+g<<0,B=((B+=((C=(Q=((Q+=((E=B^g)^(A=((A+=(E^Q)+e[5]-378558)<<4|A>>>28)+B<<0))+e[8]-2022574463)<<11|Q>>>21)+A<<0)^A)^(g=((g+=(C^B)+e[11]+1839030562)<<16|g>>>16)+Q<<0))+e[14]-35309556)<<23|B>>>9)+g<<0,B=((B+=((C=(Q=((Q+=((E=B^g)^(A=((A+=(E^Q)+e[1]-1530992060)<<4|A>>>28)+B<<0))+e[4]+1272893353)<<11|Q>>>21)+A<<0)^A)^(g=((g+=(C^B)+e[7]-155497632)<<16|g>>>16)+Q<<0))+e[10]-1094730640)<<23|B>>>9)+g<<0,B=((B+=((C=(Q=((Q+=((E=B^g)^(A=((A+=(E^Q)+e[13]+681279174)<<4|A>>>28)+B<<0))+e[0]-358537222)<<11|Q>>>21)+A<<0)^A)^(g=((g+=(C^B)+e[3]-722521979)<<16|g>>>16)+Q<<0))+e[6]+76029189)<<23|B>>>9)+g<<0,B=((B+=((C=(Q=((Q+=((E=B^g)^(A=((A+=(E^Q)+e[9]-640364487)<<4|A>>>28)+B<<0))+e[12]-421815835)<<11|Q>>>21)+A<<0)^A)^(g=((g+=(C^B)+e[15]+530742520)<<16|g>>>16)+Q<<0))+e[2]-995338651)<<23|B>>>9)+g<<0,B=((B+=((Q=((Q+=(B^((A=((A+=(g^(B|~Q))+e[0]-198630844)<<6|A>>>26)+B<<0)|~g))+e[7]+1126891415)<<10|Q>>>22)+A<<0)^((g=((g+=(A^(Q|~B))+e[14]-1416354905)<<15|g>>>17)+Q<<0)|~A))+e[5]-57434055)<<21|B>>>11)+g<<0,B=((B+=((Q=((Q+=(B^((A=((A+=(g^(B|~Q))+e[12]+1700485571)<<6|A>>>26)+B<<0)|~g))+e[3]-1894986606)<<10|Q>>>22)+A<<0)^((g=((g+=(A^(Q|~B))+e[10]-1051523)<<15|g>>>17)+Q<<0)|~A))+e[1]-2054922799)<<21|B>>>11)+g<<0,B=((B+=((Q=((Q+=(B^((A=((A+=(g^(B|~Q))+e[8]+1873313359)<<6|A>>>26)+B<<0)|~g))+e[15]-30611744)<<10|Q>>>22)+A<<0)^((g=((g+=(A^(Q|~B))+e[6]-1560198380)<<15|g>>>17)+Q<<0)|~A))+e[13]+1309151649)<<21|B>>>11)+g<<0,B=((B+=((Q=((Q+=(B^((A=((A+=(g^(B|~Q))+e[4]-145523070)<<6|A>>>26)+B<<0)|~g))+e[11]-1120210379)<<10|Q>>>22)+A<<0)^((g=((g+=(A^(Q|~B))+e[2]+718787259)<<15|g>>>17)+Q<<0)|~A))+e[9]-343485551)<<21|B>>>11)+g<<0,this.first?(this.h0=A+1732584193<<0,this.h1=B-271733879<<0,this.h2=g-1732584194<<0,this.h3=Q+271733878<<0,this.first=!1):(this.h0=this.h0+A<<0,this.h1=this.h1+B<<0,this.h2=this.h2+g<<0,this.h3=this.h3+Q<<0)},Md5.prototype.hex=function(){this.finalize();var A=this.h0,B=this.h1,g=this.h2,Q=this.h3;return HEX_CHARS[A>>4&15]+HEX_CHARS[15&A]+HEX_CHARS[A>>12&15]+HEX_CHARS[A>>8&15]+HEX_CHARS[A>>20&15]+HEX_CHARS[A>>16&15]+HEX_CHARS[A>>28&15]+HEX_CHARS[A>>24&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[15&B]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[15&g]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[Q>>4&15]+HEX_CHARS[15&Q]+HEX_CHARS[Q>>12&15]+HEX_CHARS[Q>>8&15]+HEX_CHARS[Q>>20&15]+HEX_CHARS[Q>>16&15]+HEX_CHARS[Q>>28&15]+HEX_CHARS[Q>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var A=this.h0,B=this.h1,g=this.h2,Q=this.h3;return[255&A,A>>8&255,A>>16&255,A>>24&255,255&B,B>>8&255,B>>16&255,B>>24&255,255&g,g>>8&255,g>>16&255,g>>24&255,255&Q,Q>>8&255,Q>>16&255,Q>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var A=new ArrayBuffer(16),B=new Uint32Array(A);return B[0]=this.h0,B[1]=this.h1,B[2]=this.h2,B[3]=this.h3,A},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var A,B,g,Q="",E=this.array(),C=0;C<15;)A=E[C++],B=E[C++],g=E[C++],Q+=BASE64_ENCODE_CHAR[A>>>2]+BASE64_ENCODE_CHAR[63&(A<<4|B>>>4)]+BASE64_ENCODE_CHAR[63&(B<<2|g>>>6)]+BASE64_ENCODE_CHAR[63&g];return A=E[C],Q+=BASE64_ENCODE_CHAR[A>>>2]+BASE64_ENCODE_CHAR[A<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(27),__webpack_require__(9))},function(A,B,g){var Q=g(164),E=Q.enable,C=Q.disable,e="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),w=g(167);if(Q.defaultBackend=e?w.minilog:w,"undefined"!=typeof window){try{Q.enable(JSON.parse(window.localStorage.minilogSettings))}catch(A){}if(window.location&&window.location.search){var t=RegExp("[?&]minilog=([^&]*)").exec(window.location.search);t&&Q.enable(decodeURIComponent(t[1]))}}Q.enable=function(){E.call(Q,!0);try{window.localStorage.minilogSettings=JSON.stringify(!0)}catch(A){}return this},Q.disable=function(){C.call(Q);try{delete window.localStorage.minilogSettings}catch(A){}return this},(A.exports=Q).backends={array:g(170),browser:Q.defaultBackend,localStorage:g(171),jQuery:g(172)}},function(A,B){function g(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var Q=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,Q){B&&g(A.prototype,B),Q&&g(A,Q)}(A,null,[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(A){A<0&&(A+=16777216);var B=Number(A).toString(16);return B="#".concat("000000".substr(0,6-B.length)).concat(B)}},{key:"decimalToRgb",value:function(A){var B=A>>24&255;return{r:A>>16&255,g:A>>8&255,b:255&A,a:B>0?B:255}}},{key:"hexToRgb",value:function(A){A=A.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(A,B,g,Q){return B+B+g+g+Q+Q});var B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(A);return B?{r:parseInt(B[1],16),g:parseInt(B[2],16),b:parseInt(B[3],16)}:null}},{key:"rgbToHex",value:function(B){return A.decimalToHex(A.rgbToDecimal(B))}},{key:"rgbToDecimal",value:function(A){return(A.r<<16)+(A.g<<8)+A.b}},{key:"hexToDecimal",value:function(B){return A.rgbToDecimal(A.hexToRgb(B))}},{key:"hsvToRgb",value:function(A){var B=A.h%360;B<0&&(B+=360);var g,Q,E,C=Math.max(0,Math.min(A.s,1)),e=Math.max(0,Math.min(A.v,1)),w=Math.floor(B/60),t=B/60-w,n=e*(1-C),I=e*(1-C*t),i=e*(1-C*(1-t));switch(w){default:case 0:g=e,Q=i,E=n;break;case 1:g=I,Q=e,E=n;break;case 2:g=n,Q=e,E=i;break;case 3:g=n,Q=I,E=e;break;case 4:g=i,Q=n,E=e;break;case 5:g=e,Q=n,E=I}return{r:Math.floor(255*g),g:Math.floor(255*Q),b:Math.floor(255*E)}}},{key:"rgbToHsv",value:function(A){var B=A.r/255,g=A.g/255,Q=A.b/255,E=Math.min(Math.min(B,g),Q),C=Math.max(Math.max(B,g),Q),e=0,w=0;E!==C&&(e=60*((B===E?3:g===E?5:1)-(B===E?g-Q:g===E?Q-B:B-g)/(C-E))%360,w=(C-E)/C);return{h:e,s:w,v:C}}},{key:"mixRgb",value:function(A,B,g){if(g<=0)return A;if(g>=1)return B;var Q=1-g;return{r:Q*A.r+g*B.r,g:Q*A.g+g*B.g,b:Q*A.b+g*B.b}}}]),A}();A.exports=Q},function(A,B){A.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(A){return"tag"===A.type||"script"===A.type||"style"===A.type}}},function(A,B,g){A.exports=function(){"use strict";var A=Array.prototype.slice;function B(A,B){B&&(A.prototype=Object.create(B.prototype)),A.prototype.constructor=A}function g(A){return e(A)?A:P(A)}function Q(A){return w(A)?A:v(A)}function E(A){return t(A)?A:O(A)}function C(A){return e(A)&&!n(A)?A:Z(A)}function e(A){return!(!A||!A[i])}function w(A){return!(!A||!A[c])}function t(A){return!(!A||!A[Y])}function n(A){return w(A)||t(A)}function I(A){return!(!A||!A[M])}B(Q,g),B(E,g),B(C,g),g.isIterable=e,g.isKeyed=w,g.isIndexed=t,g.isAssociative=n,g.isOrdered=I,g.Keyed=Q,g.Indexed=E,g.Set=C;var i="@@__IMMUTABLE_ITERABLE__@@",c="@@__IMMUTABLE_KEYED__@@",Y="@@__IMMUTABLE_INDEXED__@@",M="@@__IMMUTABLE_ORDERED__@@",o=5,s=1<<o,l=s-1,r={},D={value:!1},F={value:!1};function a(A){return A.value=!1,A}function h(A){A&&(A.value=!0)}function u(){}function U(A,B){B=B||0;for(var g=Math.max(0,A.length-B),Q=new Array(g),E=0;E<g;E++)Q[E]=A[E+B];return Q}function G(A){return void 0===A.size&&(A.size=A.__iterate(m)),A.size}function N(A,B){if("number"!=typeof B){var g=B>>>0;if(""+g!==B||4294967295===g)return NaN;B=g}return B<0?G(A)+B:B}function m(){return!0}function J(A,B,g){return(0===A||void 0!==g&&A<=-g)&&(void 0===B||void 0!==g&&B>=g)}function R(A,B){return d(A,B,0)}function H(A,B){return d(A,B,B)}function d(A,B,g){return void 0===A?g:A<0?Math.max(0,B+A):void 0===B?A:Math.min(B,A)}var y=0,k=1,f=2,j="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",S=j||T;function p(A){this.next=A}function x(A,B,g,Q){var E=0===A?B:1===A?g:[B,g];return Q?Q.value=E:Q={value:E,done:!1},Q}function z(){return{value:void 0,done:!0}}function K(A){return!!V(A)}function W(A){return A&&"function"==typeof A.next}function L(A){var B=V(A);return B&&B.call(A)}function V(A){var B=A&&(j&&A[j]||A[T]);if("function"==typeof B)return B}function b(A){return A&&"number"==typeof A.length}function P(A){return null===A||void 0===A?CA():e(A)?A.toSeq():function(A){var B=tA(A)||"object"==typeof A&&new BA(A);if(!B)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+A);return B}(A)}function v(A){return null===A||void 0===A?CA().toKeyedSeq():e(A)?w(A)?A.toSeq():A.fromEntrySeq():eA(A)}function O(A){return null===A||void 0===A?CA():e(A)?w(A)?A.entrySeq():A.toIndexedSeq():wA(A)}function Z(A){return(null===A||void 0===A?CA():e(A)?w(A)?A.entrySeq():A:wA(A)).toSetSeq()}p.prototype.toString=function(){return"[Iterator]"},p.KEYS=y,p.VALUES=k,p.ENTRIES=f,p.prototype.inspect=p.prototype.toSource=function(){return this.toString()},p.prototype[S]=function(){return this},B(P,g),P.of=function(){return P(arguments)},P.prototype.toSeq=function(){return this},P.prototype.toString=function(){return this.__toString("Seq {","}")},P.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},P.prototype.__iterate=function(A,B){return nA(this,A,B,!0)},P.prototype.__iterator=function(A,B){return IA(this,A,B,!0)},B(v,P),v.prototype.toKeyedSeq=function(){return this},B(O,P),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(A,B){return nA(this,A,B,!1)},O.prototype.__iterator=function(A,B){return IA(this,A,B,!1)},B(Z,P),Z.of=function(){return Z(arguments)},Z.prototype.toSetSeq=function(){return this},P.isSeq=EA,P.Keyed=v,P.Set=Z,P.Indexed=O;var X,q,_,$="@@__IMMUTABLE_SEQ__@@";function AA(A){this._array=A,this.size=A.length}function BA(A){var B=Object.keys(A);this._object=A,this._keys=B,this.size=B.length}function gA(A){this._iterable=A,this.size=A.length||A.size}function QA(A){this._iterator=A,this._iteratorCache=[]}function EA(A){return!(!A||!A[$])}function CA(){return X||(X=new AA([]))}function eA(A){var B=Array.isArray(A)?new AA(A).fromEntrySeq():W(A)?new QA(A).fromEntrySeq():K(A)?new gA(A).fromEntrySeq():"object"==typeof A?new BA(A):void 0;if(!B)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+A);return B}function wA(A){var B=tA(A);if(!B)throw new TypeError("Expected Array or iterable object of values: "+A);return B}function tA(A){return b(A)?new AA(A):W(A)?new QA(A):K(A)?new gA(A):void 0}function nA(A,B,g,Q){var E=A._cache;if(E){for(var C=E.length-1,e=0;e<=C;e++){var w=E[g?C-e:e];if(!1===B(w[1],Q?w[0]:e,A))return e+1}return e}return A.__iterateUncached(B,g)}function IA(A,B,g,Q){var E=A._cache;if(E){var C=E.length-1,e=0;return new p(function(){var A=E[g?C-e:e];return e++>C?{value:void 0,done:!0}:x(B,Q?A[0]:e-1,A[1])})}return A.__iteratorUncached(B,g)}function iA(A,B){return B?function A(B,g,Q,E){return Array.isArray(g)?B.call(E,Q,O(g).map(function(Q,E){return A(B,Q,E,g)})):YA(g)?B.call(E,Q,v(g).map(function(Q,E){return A(B,Q,E,g)})):g}(B,A,"",{"":A}):cA(A)}function cA(A){return Array.isArray(A)?O(A).map(cA).toList():YA(A)?v(A).map(cA).toMap():A}function YA(A){return A&&(A.constructor===Object||void 0===A.constructor)}function MA(A,B){if(A===B||A!=A&&B!=B)return!0;if(!A||!B)return!1;if("function"==typeof A.valueOf&&"function"==typeof B.valueOf){if(A=A.valueOf(),B=B.valueOf(),A===B||A!=A&&B!=B)return!0;if(!A||!B)return!1}return!("function"!=typeof A.equals||"function"!=typeof B.equals||!A.equals(B))}function oA(A,B){if(A===B)return!0;if(!e(B)||void 0!==A.size&&void 0!==B.size&&A.size!==B.size||void 0!==A.__hash&&void 0!==B.__hash&&A.__hash!==B.__hash||w(A)!==w(B)||t(A)!==t(B)||I(A)!==I(B))return!1;if(0===A.size&&0===B.size)return!0;var g=!n(A);if(I(A)){var Q=A.entries();return B.every(function(A,B){var E=Q.next().value;return E&&MA(E[1],A)&&(g||MA(E[0],B))})&&Q.next().done}var E=!1;if(void 0===A.size)if(void 0===B.size)"function"==typeof A.cacheResult&&A.cacheResult();else{E=!0;var C=A;A=B,B=C}var i=!0,c=B.__iterate(function(B,Q){if(g?!A.has(B):E?!MA(B,A.get(Q,r)):!MA(A.get(Q,r),B))return i=!1,!1});return i&&A.size===c}function sA(A,B){if(!(this instanceof sA))return new sA(A,B);if(this._value=A,this.size=void 0===B?1/0:Math.max(0,B),0===this.size){if(q)return q;q=this}}function lA(A,B){if(!A)throw new Error(B)}function rA(A,B,g){if(!(this instanceof rA))return new rA(A,B,g);if(lA(0!==g,"Cannot step a Range by 0"),A=A||0,void 0===B&&(B=1/0),g=void 0===g?1:Math.abs(g),B<A&&(g=-g),this._start=A,this._end=B,this._step=g,this.size=Math.max(0,Math.ceil((B-A)/g-1)+1),0===this.size){if(_)return _;_=this}}function DA(){throw TypeError("Abstract")}function FA(){}function aA(){}function hA(){}P.prototype[$]=!0,B(AA,O),AA.prototype.get=function(A,B){return this.has(A)?this._array[N(this,A)]:B},AA.prototype.__iterate=function(A,B){for(var g=this._array,Q=g.length-1,E=0;E<=Q;E++)if(!1===A(g[B?Q-E:E],E,this))return E+1;return E},AA.prototype.__iterator=function(A,B){var g=this._array,Q=g.length-1,E=0;return new p(function(){return E>Q?{value:void 0,done:!0}:x(A,E,g[B?Q-E++:E++])})},B(BA,v),BA.prototype.get=function(A,B){return void 0===B||this.has(A)?this._object[A]:B},BA.prototype.has=function(A){return this._object.hasOwnProperty(A)},BA.prototype.__iterate=function(A,B){for(var g=this._object,Q=this._keys,E=Q.length-1,C=0;C<=E;C++){var e=Q[B?E-C:C];if(!1===A(g[e],e,this))return C+1}return C},BA.prototype.__iterator=function(A,B){var g=this._object,Q=this._keys,E=Q.length-1,C=0;return new p(function(){var e=Q[B?E-C:C];return C++>E?{value:void 0,done:!0}:x(A,e,g[e])})},BA.prototype[M]=!0,B(gA,O),gA.prototype.__iterateUncached=function(A,B){if(B)return this.cacheResult().__iterate(A,B);var g=this._iterable,Q=L(g),E=0;if(W(Q))for(var C;!(C=Q.next()).done&&!1!==A(C.value,E++,this););return E},gA.prototype.__iteratorUncached=function(A,B){if(B)return this.cacheResult().__iterator(A,B);var g=this._iterable,Q=L(g);if(!W(Q))return new p(z);var E=0;return new p(function(){var B=Q.next();return B.done?B:x(A,E++,B.value)})},B(QA,O),QA.prototype.__iterateUncached=function(A,B){if(B)return this.cacheResult().__iterate(A,B);for(var g,Q=this._iterator,E=this._iteratorCache,C=0;C<E.length;)if(!1===A(E[C],C++,this))return C;for(;!(g=Q.next()).done;){var e=g.value;if(E[C]=e,!1===A(e,C++,this))break}return C},QA.prototype.__iteratorUncached=function(A,B){if(B)return this.cacheResult().__iterator(A,B);var g=this._iterator,Q=this._iteratorCache,E=0;return new p(function(){if(E>=Q.length){var B=g.next();if(B.done)return B;Q[E]=B.value}return x(A,E,Q[E++])})},B(sA,O),sA.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},sA.prototype.get=function(A,B){return this.has(A)?this._value:B},sA.prototype.includes=function(A){return MA(this._value,A)},sA.prototype.slice=function(A,B){var g=this.size;return J(A,B,g)?this:new sA(this._value,H(B,g)-R(A,g))},sA.prototype.reverse=function(){return this},sA.prototype.indexOf=function(A){return MA(this._value,A)?0:-1},sA.prototype.lastIndexOf=function(A){return MA(this._value,A)?this.size:-1},sA.prototype.__iterate=function(A,B){for(var g=0;g<this.size;g++)if(!1===A(this._value,g,this))return g+1;return g},sA.prototype.__iterator=function(A,B){var g=this,Q=0;return new p(function(){return Q<g.size?x(A,Q++,g._value):{value:void 0,done:!0}})},sA.prototype.equals=function(A){return A instanceof sA?MA(this._value,A._value):oA(A)},B(rA,O),rA.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},rA.prototype.get=function(A,B){return this.has(A)?this._start+N(this,A)*this._step:B},rA.prototype.includes=function(A){var B=(A-this._start)/this._step;return B>=0&&B<this.size&&B===Math.floor(B)},rA.prototype.slice=function(A,B){return J(A,B,this.size)?this:(A=R(A,this.size),(B=H(B,this.size))<=A?new rA(0,0):new rA(this.get(A,this._end),this.get(B,this._end),this._step))},rA.prototype.indexOf=function(A){var B=A-this._start;if(B%this._step==0){var g=B/this._step;if(g>=0&&g<this.size)return g}return-1},rA.prototype.lastIndexOf=function(A){return this.indexOf(A)},rA.prototype.__iterate=function(A,B){for(var g=this.size-1,Q=this._step,E=B?this._start+g*Q:this._start,C=0;C<=g;C++){if(!1===A(E,C,this))return C+1;E+=B?-Q:Q}return C},rA.prototype.__iterator=function(A,B){var g=this.size-1,Q=this._step,E=B?this._start+g*Q:this._start,C=0;return new p(function(){var e=E;return E+=B?-Q:Q,C>g?{value:void 0,done:!0}:x(A,C++,e)})},rA.prototype.equals=function(A){return A instanceof rA?this._start===A._start&&this._end===A._end&&this._step===A._step:oA(this,A)},B(DA,g),B(FA,DA),B(aA,DA),B(hA,DA),DA.Keyed=FA,DA.Indexed=aA,DA.Set=hA;var uA="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(A,B){var g=65535&(A|=0),Q=65535&(B|=0);return g*Q+((A>>>16)*Q+g*(B>>>16)<<16>>>0)|0};function UA(A){return A>>>1&1073741824|3221225471&A}function GA(A){if(!1===A||null===A||void 0===A)return 0;if("function"==typeof A.valueOf&&(!1===(A=A.valueOf())||null===A||void 0===A))return 0;if(!0===A)return 1;var B=typeof A;if("number"===B){if(A!=A||A===1/0)return 0;var g=0|A;for(g!==A&&(g^=4294967295*A);A>4294967295;)g^=A/=4294967295;return UA(g)}if("string"===B)return A.length>kA?function(A){var B=TA[A];return void 0===B&&(B=NA(A),jA===fA&&(jA=0,TA={}),jA++,TA[A]=B),B}(A):NA(A);if("function"==typeof A.hashCode)return A.hashCode();if("object"===B)return function(A){var B;if(HA&&void 0!==(B=mA.get(A)))return B;if(void 0!==(B=A[yA]))return B;if(!RA){if(void 0!==(B=A.propertyIsEnumerable&&A.propertyIsEnumerable[yA]))return B;if(void 0!==(B=function(A){if(A&&A.nodeType>0)switch(A.nodeType){case 1:return A.uniqueID;case 9:return A.documentElement&&A.documentElement.uniqueID}}(A)))return B}if(B=++dA,1073741824&dA&&(dA=0),HA)mA.set(A,B);else{if(void 0!==JA&&!1===JA(A))throw new Error("Non-extensible objects are not allowed as keys.");if(RA)Object.defineProperty(A,yA,{enumerable:!1,configurable:!1,writable:!1,value:B});else if(void 0!==A.propertyIsEnumerable&&A.propertyIsEnumerable===A.constructor.prototype.propertyIsEnumerable)A.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},A.propertyIsEnumerable[yA]=B;else{if(void 0===A.nodeType)throw new Error("Unable to set a non-enumerable property on object.");A[yA]=B}}return B}(A);if("function"==typeof A.toString)return NA(A.toString());throw new Error("Value type "+B+" cannot be hashed.")}function NA(A){for(var B=0,g=0;g<A.length;g++)B=31*B+A.charCodeAt(g)|0;return UA(B)}var mA,JA=Object.isExtensible,RA=function(){try{return Object.defineProperty({},"@",{}),!0}catch(A){return!1}}(),HA="function"==typeof WeakMap;HA&&(mA=new WeakMap);var dA=0,yA="__immutablehash__";"function"==typeof Symbol&&(yA=Symbol(yA));var kA=16,fA=255,jA=0,TA={};function SA(A){lA(A!==1/0,"Cannot perform this action with an infinite size.")}function pA(A){return null===A||void 0===A?_A():xA(A)&&!I(A)?A:_A().withMutations(function(B){var g=Q(A);SA(g.size),g.forEach(function(A,g){return B.set(g,A)})})}function xA(A){return!(!A||!A[KA])}B(pA,FA),pA.of=function(){var B=A.call(arguments,0);return _A().withMutations(function(A){for(var g=0;g<B.length;g+=2){if(g+1>=B.length)throw new Error("Missing value for key: "+B[g]);A.set(B[g],B[g+1])}})},pA.prototype.toString=function(){return this.__toString("Map {","}")},pA.prototype.get=function(A,B){return this._root?this._root.get(0,void 0,A,B):B},pA.prototype.set=function(A,B){return $A(this,A,B)},pA.prototype.setIn=function(A,B){return this.updateIn(A,r,function(){return B})},pA.prototype.remove=function(A){return $A(this,A,r)},pA.prototype.deleteIn=function(A){return this.updateIn(A,function(){return r})},pA.prototype.update=function(A,B,g){return 1===arguments.length?A(this):this.updateIn([A],B,g)},pA.prototype.updateIn=function(A,B,g){g||(g=B,B=void 0);var Q=function A(B,g,Q,E){var C=B===r,e=g.next();if(e.done){var w=C?Q:B,t=E(w);return t===w?B:t}lA(C||B&&B.set,"invalid keyPath");var n=e.value,I=C?r:B.get(n,r),i=A(I,g,Q,E);return i===I?B:i===r?B.remove(n):(C?_A():B).set(n,i)}(this,gg(A),B,g);return Q===r?void 0:Q},pA.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):_A()},pA.prototype.merge=function(){return QB(this,void 0,arguments)},pA.prototype.mergeWith=function(B){var g=A.call(arguments,1);return QB(this,B,g)},pA.prototype.mergeIn=function(B){var g=A.call(arguments,1);return this.updateIn(B,_A(),function(A){return"function"==typeof A.merge?A.merge.apply(A,g):g[g.length-1]})},pA.prototype.mergeDeep=function(){return QB(this,EB,arguments)},pA.prototype.mergeDeepWith=function(B){var g=A.call(arguments,1);return QB(this,CB(B),g)},pA.prototype.mergeDeepIn=function(B){var g=A.call(arguments,1);return this.updateIn(B,_A(),function(A){return"function"==typeof A.mergeDeep?A.mergeDeep.apply(A,g):g[g.length-1]})},pA.prototype.sort=function(A){return RB(bB(this,A))},pA.prototype.sortBy=function(A,B){return RB(bB(this,B,A))},pA.prototype.withMutations=function(A){var B=this.asMutable();return A(B),B.wasAltered()?B.__ensureOwner(this.__ownerID):this},pA.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new u)},pA.prototype.asImmutable=function(){return this.__ensureOwner()},pA.prototype.wasAltered=function(){return this.__altered},pA.prototype.__iterator=function(A,B){return new OA(this,A,B)},pA.prototype.__iterate=function(A,B){var g=this,Q=0;return this._root&&this._root.iterate(function(B){return Q++,A(B[1],B[0],g)},B),Q},pA.prototype.__ensureOwner=function(A){return A===this.__ownerID?this:A?qA(this.size,this._root,A,this.__hash):(this.__ownerID=A,this.__altered=!1,this)},pA.isMap=xA;var zA,KA="@@__IMMUTABLE_MAP__@@",WA=pA.prototype;function LA(A,B){this.ownerID=A,this.entries=B}function VA(A,B,g){this.ownerID=A,this.bitmap=B,this.nodes=g}function bA(A,B,g){this.ownerID=A,this.count=B,this.nodes=g}function PA(A,B,g){this.ownerID=A,this.keyHash=B,this.entries=g}function vA(A,B,g){this.ownerID=A,this.keyHash=B,this.entry=g}function OA(A,B,g){this._type=B,this._reverse=g,this._stack=A._root&&XA(A._root)}function ZA(A,B){return x(A,B[0],B[1])}function XA(A,B){return{node:A,index:0,__prev:B}}function qA(A,B,g,Q){var E=Object.create(WA);return E.size=A,E._root=B,E.__ownerID=g,E.__hash=Q,E.__altered=!1,E}function _A(){return zA||(zA=qA(0))}function $A(A,B,g){var Q,E;if(A._root){var C=a(D),e=a(F);if(Q=AB(A._root,A.__ownerID,0,void 0,B,g,C,e),!e.value)return A;E=A.size+(C.value?g===r?-1:1:0)}else{if(g===r)return A;E=1,Q=new LA(A.__ownerID,[[B,g]])}return A.__ownerID?(A.size=E,A._root=Q,A.__hash=void 0,A.__altered=!0,A):Q?qA(E,Q):_A()}function AB(A,B,g,Q,E,C,e,w){return A?A.update(B,g,Q,E,C,e,w):C===r?A:(h(w),h(e),new vA(B,Q,[E,C]))}function BB(A){return A.constructor===vA||A.constructor===PA}function gB(A,B,g,Q,E){if(A.keyHash===Q)return new PA(B,Q,[A.entry,E]);var C,e=(0===g?A.keyHash:A.keyHash>>>g)&l,w=(0===g?Q:Q>>>g)&l,t=e===w?[gB(A,B,g+o,Q,E)]:(C=new vA(B,Q,E),e<w?[A,C]:[C,A]);return new VA(B,1<<e|1<<w,t)}function QB(A,B,g){for(var E=[],C=0;C<g.length;C++){var w=g[C],t=Q(w);e(w)||(t=t.map(function(A){return iA(A)})),E.push(t)}return eB(A,B,E)}function EB(A,B,g){return A&&A.mergeDeep&&e(B)?A.mergeDeep(B):MA(A,B)?A:B}function CB(A){return function(B,g,Q){if(B&&B.mergeDeepWith&&e(g))return B.mergeDeepWith(A,g);var E=A(B,g,Q);return MA(B,E)?B:E}}function eB(A,B,g){return 0===(g=g.filter(function(A){return 0!==A.size})).length?A:0!==A.size||A.__ownerID||1!==g.length?A.withMutations(function(A){for(var Q=B?function(g,Q){A.update(Q,r,function(A){return A===r?g:B(A,g,Q)})}:function(B,g){A.set(g,B)},E=0;E<g.length;E++)g[E].forEach(Q)}):A.constructor(g[0])}function wB(A){return A=(A=(858993459&(A-=A>>1&1431655765))+(A>>2&858993459))+(A>>4)&252645135,A+=A>>8,127&(A+=A>>16)}function tB(A,B,g,Q){var E=Q?A:U(A);return E[B]=g,E}WA[KA]=!0,WA.delete=WA.remove,WA.removeIn=WA.deleteIn,LA.prototype.get=function(A,B,g,Q){for(var E=this.entries,C=0,e=E.length;C<e;C++)if(MA(g,E[C][0]))return E[C][1];return Q},LA.prototype.update=function(A,B,g,Q,E,C,e){for(var w=E===r,t=this.entries,n=0,I=t.length;n<I&&!MA(Q,t[n][0]);n++);var i=n<I;if(i?t[n][1]===E:w)return this;if(h(e),(w||!i)&&h(C),!w||1!==t.length){if(!i&&!w&&t.length>=nB)return function(A,B,g,Q){A||(A=new u);for(var E=new vA(A,GA(g),[g,Q]),C=0;C<B.length;C++){var e=B[C];E=E.update(A,0,void 0,e[0],e[1])}return E}(A,t,Q,E);var c=A&&A===this.ownerID,Y=c?t:U(t);return i?w?n===I-1?Y.pop():Y[n]=Y.pop():Y[n]=[Q,E]:Y.push([Q,E]),c?(this.entries=Y,this):new LA(A,Y)}},VA.prototype.get=function(A,B,g,Q){void 0===B&&(B=GA(g));var E=1<<((0===A?B:B>>>A)&l),C=this.bitmap;return 0==(C&E)?Q:this.nodes[wB(C&E-1)].get(A+o,B,g,Q)},VA.prototype.update=function(A,B,g,Q,E,C,e){void 0===g&&(g=GA(Q));var w=(0===B?g:g>>>B)&l,t=1<<w,n=this.bitmap,I=0!=(n&t);if(!I&&E===r)return this;var i=wB(n&t-1),c=this.nodes,Y=I?c[i]:void 0,M=AB(Y,A,B+o,g,Q,E,C,e);if(M===Y)return this;if(!I&&M&&c.length>=IB)return function(A,B,g,Q,E){for(var C=0,e=new Array(s),w=0;0!==g;w++,g>>>=1)e[w]=1&g?B[C++]:void 0;return e[Q]=E,new bA(A,C+1,e)}(A,c,n,w,M);if(I&&!M&&2===c.length&&BB(c[1^i]))return c[1^i];if(I&&M&&1===c.length&&BB(M))return M;var D=A&&A===this.ownerID,F=I?M?n:n^t:n|t,a=I?M?tB(c,i,M,D):function(A,B,g){var Q=A.length-1;if(g&&B===Q)return A.pop(),A;for(var E=new Array(Q),C=0,e=0;e<Q;e++)e===B&&(C=1),E[e]=A[e+C];return E}(c,i,D):function(A,B,g,Q){var E=A.length+1;if(Q&&B+1===E)return A[B]=g,A;for(var C=new Array(E),e=0,w=0;w<E;w++)w===B?(C[w]=g,e=-1):C[w]=A[w+e];return C}(c,i,M,D);return D?(this.bitmap=F,this.nodes=a,this):new VA(A,F,a)},bA.prototype.get=function(A,B,g,Q){void 0===B&&(B=GA(g));var E=(0===A?B:B>>>A)&l,C=this.nodes[E];return C?C.get(A+o,B,g,Q):Q},bA.prototype.update=function(A,B,g,Q,E,C,e){void 0===g&&(g=GA(Q));var w=(0===B?g:g>>>B)&l,t=E===r,n=this.nodes,I=n[w];if(t&&!I)return this;var i=AB(I,A,B+o,g,Q,E,C,e);if(i===I)return this;var c=this.count;if(I){if(!i&&--c<iB)return function(A,B,g,Q){for(var E=0,C=0,e=new Array(g),w=0,t=1,n=B.length;w<n;w++,t<<=1){var I=B[w];void 0!==I&&w!==Q&&(E|=t,e[C++]=I)}return new VA(A,E,e)}(A,n,c,w)}else c++;var Y=A&&A===this.ownerID,M=tB(n,w,i,Y);return Y?(this.count=c,this.nodes=M,this):new bA(A,c,M)},PA.prototype.get=function(A,B,g,Q){for(var E=this.entries,C=0,e=E.length;C<e;C++)if(MA(g,E[C][0]))return E[C][1];return Q},PA.prototype.update=function(A,B,g,Q,E,C,e){void 0===g&&(g=GA(Q));var w=E===r;if(g!==this.keyHash)return w?this:(h(e),h(C),gB(this,A,B,g,[Q,E]));for(var t=this.entries,n=0,I=t.length;n<I&&!MA(Q,t[n][0]);n++);var i=n<I;if(i?t[n][1]===E:w)return this;if(h(e),(w||!i)&&h(C),w&&2===I)return new vA(A,this.keyHash,t[1^n]);var c=A&&A===this.ownerID,Y=c?t:U(t);return i?w?n===I-1?Y.pop():Y[n]=Y.pop():Y[n]=[Q,E]:Y.push([Q,E]),c?(this.entries=Y,this):new PA(A,this.keyHash,Y)},vA.prototype.get=function(A,B,g,Q){return MA(g,this.entry[0])?this.entry[1]:Q},vA.prototype.update=function(A,B,g,Q,E,C,e){var w=E===r,t=MA(Q,this.entry[0]);return(t?E===this.entry[1]:w)?this:(h(e),w?void h(C):t?A&&A===this.ownerID?(this.entry[1]=E,this):new vA(A,this.keyHash,[Q,E]):(h(C),gB(this,A,B,GA(Q),[Q,E])))},LA.prototype.iterate=PA.prototype.iterate=function(A,B){for(var g=this.entries,Q=0,E=g.length-1;Q<=E;Q++)if(!1===A(g[B?E-Q:Q]))return!1},VA.prototype.iterate=bA.prototype.iterate=function(A,B){for(var g=this.nodes,Q=0,E=g.length-1;Q<=E;Q++){var C=g[B?E-Q:Q];if(C&&!1===C.iterate(A,B))return!1}},vA.prototype.iterate=function(A,B){return A(this.entry)},B(OA,p),OA.prototype.next=function(){for(var A=this._type,B=this._stack;B;){var g,Q=B.node,E=B.index++;if(Q.entry){if(0===E)return ZA(A,Q.entry)}else if(Q.entries){if(g=Q.entries.length-1,E<=g)return ZA(A,Q.entries[this._reverse?g-E:E])}else if(g=Q.nodes.length-1,E<=g){var C=Q.nodes[this._reverse?g-E:E];if(C){if(C.entry)return ZA(A,C.entry);B=this._stack=XA(C,B)}continue}B=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var nB=s/4,IB=s/2,iB=s/4;function cB(A){var B=hB();if(null===A||void 0===A)return B;if(YB(A))return A;var g=E(A),Q=g.size;return 0===Q?B:(SA(Q),Q>0&&Q<s?aB(0,Q,o,null,new sB(g.toArray())):B.withMutations(function(A){A.setSize(Q),g.forEach(function(B,g){return A.set(g,B)})}))}function YB(A){return!(!A||!A[MB])}B(cB,aA),cB.of=function(){return this(arguments)},cB.prototype.toString=function(){return this.__toString("List [","]")},cB.prototype.get=function(A,B){if((A=N(this,A))>=0&&A<this.size){var g=GB(this,A+=this._origin);return g&&g.array[A&l]}return B},cB.prototype.set=function(A,B){return function(A,B,g){if((B=N(A,B))!=B)return A;if(B>=A.size||B<0)return A.withMutations(function(A){B<0?NB(A,B).set(0,g):NB(A,0,B+1).set(B,g)});B+=A._origin;var Q=A._tail,E=A._root,C=a(F);return B>=JB(A._capacity)?Q=uB(Q,A.__ownerID,0,B,g,C):E=uB(E,A.__ownerID,A._level,B,g,C),C.value?A.__ownerID?(A._root=E,A._tail=Q,A.__hash=void 0,A.__altered=!0,A):aB(A._origin,A._capacity,A._level,E,Q):A}(this,A,B)},cB.prototype.remove=function(A){return this.has(A)?0===A?this.shift():A===this.size-1?this.pop():this.splice(A,1):this},cB.prototype.insert=function(A,B){return this.splice(A,0,B)},cB.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=o,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):hB()},cB.prototype.push=function(){var A=arguments,B=this.size;return this.withMutations(function(g){NB(g,0,B+A.length);for(var Q=0;Q<A.length;Q++)g.set(B+Q,A[Q])})},cB.prototype.pop=function(){return NB(this,0,-1)},cB.prototype.unshift=function(){var A=arguments;return this.withMutations(function(B){NB(B,-A.length);for(var g=0;g<A.length;g++)B.set(g,A[g])})},cB.prototype.shift=function(){return NB(this,1)},cB.prototype.merge=function(){return mB(this,void 0,arguments)},cB.prototype.mergeWith=function(B){var g=A.call(arguments,1);return mB(this,B,g)},cB.prototype.mergeDeep=function(){return mB(this,EB,arguments)},cB.prototype.mergeDeepWith=function(B){var g=A.call(arguments,1);return mB(this,CB(B),g)},cB.prototype.setSize=function(A){return NB(this,0,A)},cB.prototype.slice=function(A,B){var g=this.size;return J(A,B,g)?this:NB(this,R(A,g),H(B,g))},cB.prototype.__iterator=function(A,B){var g=0,Q=FB(this,B);return new p(function(){var B=Q();return B===DB?{value:void 0,done:!0}:x(A,g++,B)})},cB.prototype.__iterate=function(A,B){for(var g,Q=0,E=FB(this,B);(g=E())!==DB&&!1!==A(g,Q++,this););return Q},cB.prototype.__ensureOwner=function(A){return A===this.__ownerID?this:A?aB(this._origin,this._capacity,this._level,this._root,this._tail,A,this.__hash):(this.__ownerID=A,this)},cB.isList=YB;var MB="@@__IMMUTABLE_LIST__@@",oB=cB.prototype;function sB(A,B){this.array=A,this.ownerID=B}oB[MB]=!0,oB.delete=oB.remove,oB.setIn=WA.setIn,oB.deleteIn=oB.removeIn=WA.removeIn,oB.update=WA.update,oB.updateIn=WA.updateIn,oB.mergeIn=WA.mergeIn,oB.mergeDeepIn=WA.mergeDeepIn,oB.withMutations=WA.withMutations,oB.asMutable=WA.asMutable,oB.asImmutable=WA.asImmutable,oB.wasAltered=WA.wasAltered,sB.prototype.removeBefore=function(A,B,g){if(g===B?1<<B:0===this.array.length)return this;var Q=g>>>B&l;if(Q>=this.array.length)return new sB([],A);var E,C=0===Q;if(B>0){var e=this.array[Q];if((E=e&&e.removeBefore(A,B-o,g))===e&&C)return this}if(C&&!E)return this;var w=UB(this,A);if(!C)for(var t=0;t<Q;t++)w.array[t]=void 0;return E&&(w.array[Q]=E),w},sB.prototype.removeAfter=function(A,B,g){if(g===(B?1<<B:0)||0===this.array.length)return this;var Q,E=g-1>>>B&l;if(E>=this.array.length)return this;if(B>0){var C=this.array[E];if((Q=C&&C.removeAfter(A,B-o,g))===C&&E===this.array.length-1)return this}var e=UB(this,A);return e.array.splice(E+1),Q&&(e.array[E]=Q),e};var lB,rB,DB={};function FB(A,B){var g=A._origin,Q=A._capacity,E=JB(Q),C=A._tail;return e(A._root,A._level,0);function e(A,w,t){return 0===w?function(A,e){var w=e===E?C&&C.array:A&&A.array,t=e>g?0:g-e,n=Q-e;return n>s&&(n=s),function(){if(t===n)return DB;var A=B?--n:t++;return w&&w[A]}}(A,t):function(A,E,C){var w,t=A&&A.array,n=C>g?0:g-C>>E,I=1+(Q-C>>E);return I>s&&(I=s),function(){for(;;){if(w){var A=w();if(A!==DB)return A;w=null}if(n===I)return DB;var g=B?--I:n++;w=e(t&&t[g],E-o,C+(g<<E))}}}(A,w,t)}}function aB(A,B,g,Q,E,C,e){var w=Object.create(oB);return w.size=B-A,w._origin=A,w._capacity=B,w._level=g,w._root=Q,w._tail=E,w.__ownerID=C,w.__hash=e,w.__altered=!1,w}function hB(){return lB||(lB=aB(0,0,o))}function uB(A,B,g,Q,E,C){var e,w=Q>>>g&l,t=A&&w<A.array.length;if(!t&&void 0===E)return A;if(g>0){var n=A&&A.array[w],I=uB(n,B,g-o,Q,E,C);return I===n?A:((e=UB(A,B)).array[w]=I,e)}return t&&A.array[w]===E?A:(h(C),e=UB(A,B),void 0===E&&w===e.array.length-1?e.array.pop():e.array[w]=E,e)}function UB(A,B){return B&&A&&B===A.ownerID?A:new sB(A?A.array.slice():[],B)}function GB(A,B){if(B>=JB(A._capacity))return A._tail;if(B<1<<A._level+o){for(var g=A._root,Q=A._level;g&&Q>0;)g=g.array[B>>>Q&l],Q-=o;return g}}function NB(A,B,g){void 0!==B&&(B|=0),void 0!==g&&(g|=0);var Q=A.__ownerID||new u,E=A._origin,C=A._capacity,e=E+B,w=void 0===g?C:g<0?C+g:E+g;if(e===E&&w===C)return A;if(e>=w)return A.clear();for(var t=A._level,n=A._root,I=0;e+I<0;)n=new sB(n&&n.array.length?[void 0,n]:[],Q),I+=1<<(t+=o);I&&(e+=I,E+=I,w+=I,C+=I);for(var i=JB(C),c=JB(w);c>=1<<t+o;)n=new sB(n&&n.array.length?[n]:[],Q),t+=o;var Y=A._tail,M=c<i?GB(A,w-1):c>i?new sB([],Q):Y;if(Y&&c>i&&e<C&&Y.array.length){for(var s=n=UB(n,Q),r=t;r>o;r-=o){var D=i>>>r&l;s=s.array[D]=UB(s.array[D],Q)}s.array[i>>>o&l]=Y}if(w<C&&(M=M&&M.removeAfter(Q,0,w)),e>=c)e-=c,w-=c,t=o,n=null,M=M&&M.removeBefore(Q,0,e);else if(e>E||c<i){for(I=0;n;){var F=e>>>t&l;if(F!==c>>>t&l)break;F&&(I+=(1<<t)*F),t-=o,n=n.array[F]}n&&e>E&&(n=n.removeBefore(Q,t,e-I)),n&&c<i&&(n=n.removeAfter(Q,t,c-I)),I&&(e-=I,w-=I)}return A.__ownerID?(A.size=w-e,A._origin=e,A._capacity=w,A._level=t,A._root=n,A._tail=M,A.__hash=void 0,A.__altered=!0,A):aB(e,w,t,n,M)}function mB(A,B,g){for(var Q=[],C=0,w=0;w<g.length;w++){var t=g[w],n=E(t);n.size>C&&(C=n.size),e(t)||(n=n.map(function(A){return iA(A)})),Q.push(n)}return C>A.size&&(A=A.setSize(C)),eB(A,B,Q)}function JB(A){return A<s?0:A-1>>>o<<o}function RB(A){return null===A||void 0===A?yB():HB(A)?A:yB().withMutations(function(B){var g=Q(A);SA(g.size),g.forEach(function(A,g){return B.set(g,A)})})}function HB(A){return xA(A)&&I(A)}function dB(A,B,g,Q){var E=Object.create(RB.prototype);return E.size=A?A.size:0,E._map=A,E._list=B,E.__ownerID=g,E.__hash=Q,E}function yB(){return rB||(rB=dB(_A(),hB()))}function kB(A,B,g){var Q,E,C=A._map,e=A._list,w=C.get(B),t=void 0!==w;if(g===r){if(!t)return A;e.size>=s&&e.size>=2*C.size?(E=e.filter(function(A,B){return void 0!==A&&w!==B}),Q=E.toKeyedSeq().map(function(A){return A[0]}).flip().toMap(),A.__ownerID&&(Q.__ownerID=E.__ownerID=A.__ownerID)):(Q=C.remove(B),E=w===e.size-1?e.pop():e.set(w,void 0))}else if(t){if(g===e.get(w)[1])return A;Q=C,E=e.set(w,[B,g])}else Q=C.set(B,e.size),E=e.set(e.size,[B,g]);return A.__ownerID?(A.size=Q.size,A._map=Q,A._list=E,A.__hash=void 0,A):dB(Q,E)}function fB(A,B){this._iter=A,this._useKeys=B,this.size=A.size}function jB(A){this._iter=A,this.size=A.size}function TB(A){this._iter=A,this.size=A.size}function SB(A){this._iter=A,this.size=A.size}function pB(A){var B=$B(A);return B._iter=A,B.size=A.size,B.flip=function(){return A},B.reverse=function(){var B=A.reverse.apply(this);return B.flip=function(){return A.reverse()},B},B.has=function(B){return A.includes(B)},B.includes=function(B){return A.has(B)},B.cacheResult=Ag,B.__iterateUncached=function(B,g){var Q=this;return A.__iterate(function(A,g){return!1!==B(g,A,Q)},g)},B.__iteratorUncached=function(B,g){if(B===f){var Q=A.__iterator(B,g);return new p(function(){var A=Q.next();if(!A.done){var B=A.value[0];A.value[0]=A.value[1],A.value[1]=B}return A})}return A.__iterator(B===k?y:k,g)},B}function xB(A,B,g){var Q=$B(A);return Q.size=A.size,Q.has=function(B){return A.has(B)},Q.get=function(Q,E){var C=A.get(Q,r);return C===r?E:B.call(g,C,Q,A)},Q.__iterateUncached=function(Q,E){var C=this;return A.__iterate(function(A,E,e){return!1!==Q(B.call(g,A,E,e),E,C)},E)},Q.__iteratorUncached=function(Q,E){var C=A.__iterator(f,E);return new p(function(){var E=C.next();if(E.done)return E;var e=E.value,w=e[0];return x(Q,w,B.call(g,e[1],w,A),E)})},Q}function zB(A,B){var g=$B(A);return g._iter=A,g.size=A.size,g.reverse=function(){return A},A.flip&&(g.flip=function(){var B=pB(A);return B.reverse=function(){return A.flip()},B}),g.get=function(g,Q){return A.get(B?g:-1-g,Q)},g.has=function(g){return A.has(B?g:-1-g)},g.includes=function(B){return A.includes(B)},g.cacheResult=Ag,g.__iterate=function(B,g){var Q=this;return A.__iterate(function(A,g){return B(A,g,Q)},!g)},g.__iterator=function(B,g){return A.__iterator(B,!g)},g}function KB(A,B,g,Q){var E=$B(A);return Q&&(E.has=function(Q){var E=A.get(Q,r);return E!==r&&!!B.call(g,E,Q,A)},E.get=function(Q,E){var C=A.get(Q,r);return C!==r&&B.call(g,C,Q,A)?C:E}),E.__iterateUncached=function(E,C){var e=this,w=0;return A.__iterate(function(A,C,t){if(B.call(g,A,C,t))return w++,E(A,Q?C:w-1,e)},C),w},E.__iteratorUncached=function(E,C){var e=A.__iterator(f,C),w=0;return new p(function(){for(;;){var C=e.next();if(C.done)return C;var t=C.value,n=t[0],I=t[1];if(B.call(g,I,n,A))return x(E,Q?n:w++,I,C)}})},E}function WB(A,B,g,Q){var E=A.size;if(void 0!==B&&(B|=0),void 0!==g&&(g===1/0?g=E:g|=0),J(B,g,E))return A;var C=R(B,E),e=H(g,E);if(C!=C||e!=e)return WB(A.toSeq().cacheResult(),B,g,Q);var w,t=e-C;t==t&&(w=t<0?0:t);var n=$B(A);return n.size=0===w?w:A.size&&w||void 0,!Q&&EA(A)&&w>=0&&(n.get=function(B,g){return(B=N(this,B))>=0&&B<w?A.get(B+C,g):g}),n.__iterateUncached=function(B,g){var E=this;if(0===w)return 0;if(g)return this.cacheResult().__iterate(B,g);var e=0,t=!0,n=0;return A.__iterate(function(A,g){if(!t||!(t=e++<C))return n++,!1!==B(A,Q?g:n-1,E)&&n!==w}),n},n.__iteratorUncached=function(B,g){if(0!==w&&g)return this.cacheResult().__iterator(B,g);var E=0!==w&&A.__iterator(B,g),e=0,t=0;return new p(function(){for(;e++<C;)E.next();if(++t>w)return{value:void 0,done:!0};var A=E.next();return Q||B===k?A:x(B,t-1,B===y?void 0:A.value[1],A)})},n}function LB(A,B,g,Q){var E=$B(A);return E.__iterateUncached=function(E,C){var e=this;if(C)return this.cacheResult().__iterate(E,C);var w=!0,t=0;return A.__iterate(function(A,C,n){if(!w||!(w=B.call(g,A,C,n)))return t++,E(A,Q?C:t-1,e)}),t},E.__iteratorUncached=function(E,C){var e=this;if(C)return this.cacheResult().__iterator(E,C);var w=A.__iterator(f,C),t=!0,n=0;return new p(function(){var A,C,I;do{if((A=w.next()).done)return Q||E===k?A:x(E,n++,E===y?void 0:A.value[1],A);var i=A.value;C=i[0],I=i[1],t&&(t=B.call(g,I,C,e))}while(t);return E===f?A:x(E,C,I,A)})},E}function VB(A,B,g){var Q=$B(A);return Q.__iterateUncached=function(Q,E){var C=0,w=!1;return function A(t,n){var I=this;t.__iterate(function(E,t){return(!B||n<B)&&e(E)?A(E,n+1):!1===Q(E,g?t:C++,I)&&(w=!0),!w},E)}(A,0),C},Q.__iteratorUncached=function(Q,E){var C=A.__iterator(Q,E),w=[],t=0;return new p(function(){for(;C;){var A=C.next();if(!1===A.done){var n=A.value;if(Q===f&&(n=n[1]),B&&!(w.length<B)||!e(n))return g?A:x(Q,t++,n,A);w.push(C),C=n.__iterator(Q,E)}else C=w.pop()}return{value:void 0,done:!0}})},Q}function bB(A,B,g){B||(B=Bg);var Q=w(A),E=0,C=A.toSeq().map(function(B,Q){return[Q,B,E++,g?g(B,Q,A):B]}).toArray();return C.sort(function(A,g){return B(A[3],g[3])||A[2]-g[2]}).forEach(Q?function(A,B){C[B].length=2}:function(A,B){C[B]=A[1]}),Q?v(C):t(A)?O(C):Z(C)}function PB(A,B,g){if(B||(B=Bg),g){var Q=A.toSeq().map(function(B,Q){return[B,g(B,Q,A)]}).reduce(function(A,g){return vB(B,A[1],g[1])?g:A});return Q&&Q[0]}return A.reduce(function(A,g){return vB(B,A,g)?g:A})}function vB(A,B,g){var Q=A(g,B);return 0===Q&&g!==B&&(void 0===g||null===g||g!=g)||Q>0}function OB(A,B,Q){var E=$B(A);return E.size=new AA(Q).map(function(A){return A.size}).min(),E.__iterate=function(A,B){for(var g,Q=this.__iterator(k,B),E=0;!(g=Q.next()).done&&!1!==A(g.value,E++,this););return E},E.__iteratorUncached=function(A,E){var C=Q.map(function(A){return A=g(A),L(E?A.reverse():A)}),e=0,w=!1;return new p(function(){var g;return w||(g=C.map(function(A){return A.next()}),w=g.some(function(A){return A.done})),w?{value:void 0,done:!0}:x(A,e++,B.apply(null,g.map(function(A){return A.value})))})},E}function ZB(A,B){return EA(A)?B:A.constructor(B)}function XB(A){if(A!==Object(A))throw new TypeError("Expected [K, V] tuple: "+A)}function qB(A){return SA(A.size),G(A)}function _B(A){return w(A)?Q:t(A)?E:C}function $B(A){return Object.create((w(A)?v:t(A)?O:Z).prototype)}function Ag(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):P.prototype.cacheResult.call(this)}function Bg(A,B){return A>B?1:A<B?-1:0}function gg(A){var B=L(A);if(!B){if(!b(A))throw new TypeError("Expected iterable or array-like: "+A);B=L(g(A))}return B}function Qg(A,B){var g,Q=function(C){if(C instanceof Q)return C;if(!(this instanceof Q))return new Q(C);if(!g){g=!0;var e=Object.keys(A);!function(A,B){try{B.forEach(function(A,B){Object.defineProperty(A,B,{get:function(){return this.get(B)},set:function(A){lA(this.__ownerID,"Cannot set on an immutable record."),this.set(B,A)}})}.bind(void 0,A))}catch(A){}}(E,e),E.size=e.length,E._name=B,E._keys=e,E._defaultValues=A}this._map=pA(C)},E=Q.prototype=Object.create(Eg);return E.constructor=Q,Q}B(RB,pA),RB.of=function(){return this(arguments)},RB.prototype.toString=function(){return this.__toString("OrderedMap {","}")},RB.prototype.get=function(A,B){var g=this._map.get(A);return void 0!==g?this._list.get(g)[1]:B},RB.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):yB()},RB.prototype.set=function(A,B){return kB(this,A,B)},RB.prototype.remove=function(A){return kB(this,A,r)},RB.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},RB.prototype.__iterate=function(A,B){var g=this;return this._list.__iterate(function(B){return B&&A(B[1],B[0],g)},B)},RB.prototype.__iterator=function(A,B){return this._list.fromEntrySeq().__iterator(A,B)},RB.prototype.__ensureOwner=function(A){if(A===this.__ownerID)return this;var B=this._map.__ensureOwner(A),g=this._list.__ensureOwner(A);return A?dB(B,g,A,this.__hash):(this.__ownerID=A,this._map=B,this._list=g,this)},RB.isOrderedMap=HB,RB.prototype[M]=!0,RB.prototype.delete=RB.prototype.remove,B(fB,v),fB.prototype.get=function(A,B){return this._iter.get(A,B)},fB.prototype.has=function(A){return this._iter.has(A)},fB.prototype.valueSeq=function(){return this._iter.valueSeq()},fB.prototype.reverse=function(){var A=this,B=zB(this,!0);return this._useKeys||(B.valueSeq=function(){return A._iter.toSeq().reverse()}),B},fB.prototype.map=function(A,B){var g=this,Q=xB(this,A,B);return this._useKeys||(Q.valueSeq=function(){return g._iter.toSeq().map(A,B)}),Q},fB.prototype.__iterate=function(A,B){var g,Q=this;return this._iter.__iterate(this._useKeys?function(B,g){return A(B,g,Q)}:(g=B?qB(this):0,function(E){return A(E,B?--g:g++,Q)}),B)},fB.prototype.__iterator=function(A,B){if(this._useKeys)return this._iter.__iterator(A,B);var g=this._iter.__iterator(k,B),Q=B?qB(this):0;return new p(function(){var E=g.next();return E.done?E:x(A,B?--Q:Q++,E.value,E)})},fB.prototype[M]=!0,B(jB,O),jB.prototype.includes=function(A){return this._iter.includes(A)},jB.prototype.__iterate=function(A,B){var g=this,Q=0;return this._iter.__iterate(function(B){return A(B,Q++,g)},B)},jB.prototype.__iterator=function(A,B){var g=this._iter.__iterator(k,B),Q=0;return new p(function(){var B=g.next();return B.done?B:x(A,Q++,B.value,B)})},B(TB,Z),TB.prototype.has=function(A){return this._iter.includes(A)},TB.prototype.__iterate=function(A,B){var g=this;return this._iter.__iterate(function(B){return A(B,B,g)},B)},TB.prototype.__iterator=function(A,B){var g=this._iter.__iterator(k,B);return new p(function(){var B=g.next();return B.done?B:x(A,B.value,B.value,B)})},B(SB,v),SB.prototype.entrySeq=function(){return this._iter.toSeq()},SB.prototype.__iterate=function(A,B){var g=this;return this._iter.__iterate(function(B){if(B){XB(B);var Q=e(B);return A(Q?B.get(1):B[1],Q?B.get(0):B[0],g)}},B)},SB.prototype.__iterator=function(A,B){var g=this._iter.__iterator(k,B);return new p(function(){for(;;){var B=g.next();if(B.done)return B;var Q=B.value;if(Q){XB(Q);var E=e(Q);return x(A,E?Q.get(0):Q[0],E?Q.get(1):Q[1],B)}}})},jB.prototype.cacheResult=fB.prototype.cacheResult=TB.prototype.cacheResult=SB.prototype.cacheResult=Ag,B(Qg,FA),Qg.prototype.toString=function(){return this.__toString(eg(this)+" {","}")},Qg.prototype.has=function(A){return this._defaultValues.hasOwnProperty(A)},Qg.prototype.get=function(A,B){if(!this.has(A))return B;var g=this._defaultValues[A];return this._map?this._map.get(A,g):g},Qg.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var A=this.constructor;return A._empty||(A._empty=Cg(this,_A()))},Qg.prototype.set=function(A,B){if(!this.has(A))throw new Error('Cannot set unknown key "'+A+'" on '+eg(this));if(this._map&&!this._map.has(A)){var g=this._defaultValues[A];if(B===g)return this}var Q=this._map&&this._map.set(A,B);return this.__ownerID||Q===this._map?this:Cg(this,Q)},Qg.prototype.remove=function(A){if(!this.has(A))return this;var B=this._map&&this._map.remove(A);return this.__ownerID||B===this._map?this:Cg(this,B)},Qg.prototype.wasAltered=function(){return this._map.wasAltered()},Qg.prototype.__iterator=function(A,B){var g=this;return Q(this._defaultValues).map(function(A,B){return g.get(B)}).__iterator(A,B)},Qg.prototype.__iterate=function(A,B){var g=this;return Q(this._defaultValues).map(function(A,B){return g.get(B)}).__iterate(A,B)},Qg.prototype.__ensureOwner=function(A){if(A===this.__ownerID)return this;var B=this._map&&this._map.__ensureOwner(A);return A?Cg(this,B,A):(this.__ownerID=A,this._map=B,this)};var Eg=Qg.prototype;function Cg(A,B,g){var Q=Object.create(Object.getPrototypeOf(A));return Q._map=B,Q.__ownerID=g,Q}function eg(A){return A._name||A.constructor.name||"Record"}function wg(A){return null===A||void 0===A?Mg():tg(A)&&!I(A)?A:Mg().withMutations(function(B){var g=C(A);SA(g.size),g.forEach(function(A){return B.add(A)})})}function tg(A){return!(!A||!A[Ig])}Eg.delete=Eg.remove,Eg.deleteIn=Eg.removeIn=WA.removeIn,Eg.merge=WA.merge,Eg.mergeWith=WA.mergeWith,Eg.mergeIn=WA.mergeIn,Eg.mergeDeep=WA.mergeDeep,Eg.mergeDeepWith=WA.mergeDeepWith,Eg.mergeDeepIn=WA.mergeDeepIn,Eg.setIn=WA.setIn,Eg.update=WA.update,Eg.updateIn=WA.updateIn,Eg.withMutations=WA.withMutations,Eg.asMutable=WA.asMutable,Eg.asImmutable=WA.asImmutable,B(wg,hA),wg.of=function(){return this(arguments)},wg.fromKeys=function(A){return this(Q(A).keySeq())},wg.prototype.toString=function(){return this.__toString("Set {","}")},wg.prototype.has=function(A){return this._map.has(A)},wg.prototype.add=function(A){return cg(this,this._map.set(A,!0))},wg.prototype.remove=function(A){return cg(this,this._map.remove(A))},wg.prototype.clear=function(){return cg(this,this._map.clear())},wg.prototype.union=function(){var B=A.call(arguments,0);return 0===(B=B.filter(function(A){return 0!==A.size})).length?this:0!==this.size||this.__ownerID||1!==B.length?this.withMutations(function(A){for(var g=0;g<B.length;g++)C(B[g]).forEach(function(B){return A.add(B)})}):this.constructor(B[0])},wg.prototype.intersect=function(){var B=A.call(arguments,0);if(0===B.length)return this;B=B.map(function(A){return C(A)});var g=this;return this.withMutations(function(A){g.forEach(function(g){B.every(function(A){return A.includes(g)})||A.remove(g)})})},wg.prototype.subtract=function(){var B=A.call(arguments,0);if(0===B.length)return this;B=B.map(function(A){return C(A)});var g=this;return this.withMutations(function(A){g.forEach(function(g){B.some(function(A){return A.includes(g)})&&A.remove(g)})})},wg.prototype.merge=function(){return this.union.apply(this,arguments)},wg.prototype.mergeWith=function(B){var g=A.call(arguments,1);return this.union.apply(this,g)},wg.prototype.sort=function(A){return og(bB(this,A))},wg.prototype.sortBy=function(A,B){return og(bB(this,B,A))},wg.prototype.wasAltered=function(){return this._map.wasAltered()},wg.prototype.__iterate=function(A,B){var g=this;return this._map.__iterate(function(B,Q){return A(Q,Q,g)},B)},wg.prototype.__iterator=function(A,B){return this._map.map(function(A,B){return B}).__iterator(A,B)},wg.prototype.__ensureOwner=function(A){if(A===this.__ownerID)return this;var B=this._map.__ensureOwner(A);return A?this.__make(B,A):(this.__ownerID=A,this._map=B,this)},wg.isSet=tg;var ng,Ig="@@__IMMUTABLE_SET__@@",ig=wg.prototype;function cg(A,B){return A.__ownerID?(A.size=B.size,A._map=B,A):B===A._map?A:0===B.size?A.__empty():A.__make(B)}function Yg(A,B){var g=Object.create(ig);return g.size=A?A.size:0,g._map=A,g.__ownerID=B,g}function Mg(){return ng||(ng=Yg(_A()))}function og(A){return null===A||void 0===A?Fg():sg(A)?A:Fg().withMutations(function(B){var g=C(A);SA(g.size),g.forEach(function(A){return B.add(A)})})}function sg(A){return tg(A)&&I(A)}ig[Ig]=!0,ig.delete=ig.remove,ig.mergeDeep=ig.merge,ig.mergeDeepWith=ig.mergeWith,ig.withMutations=WA.withMutations,ig.asMutable=WA.asMutable,ig.asImmutable=WA.asImmutable,ig.__empty=Mg,ig.__make=Yg,B(og,wg),og.of=function(){return this(arguments)},og.fromKeys=function(A){return this(Q(A).keySeq())},og.prototype.toString=function(){return this.__toString("OrderedSet {","}")},og.isOrderedSet=sg;var lg,rg=og.prototype;function Dg(A,B){var g=Object.create(rg);return g.size=A?A.size:0,g._map=A,g.__ownerID=B,g}function Fg(){return lg||(lg=Dg(yB()))}function ag(A){return null===A||void 0===A?mg():hg(A)?A:mg().unshiftAll(A)}function hg(A){return!(!A||!A[Ug])}rg[M]=!0,rg.__empty=Fg,rg.__make=Dg,B(ag,aA),ag.of=function(){return this(arguments)},ag.prototype.toString=function(){return this.__toString("Stack [","]")},ag.prototype.get=function(A,B){var g=this._head;for(A=N(this,A);g&&A--;)g=g.next;return g?g.value:B},ag.prototype.peek=function(){return this._head&&this._head.value},ag.prototype.push=function(){if(0===arguments.length)return this;for(var A=this.size+arguments.length,B=this._head,g=arguments.length-1;g>=0;g--)B={value:arguments[g],next:B};return this.__ownerID?(this.size=A,this._head=B,this.__hash=void 0,this.__altered=!0,this):Ng(A,B)},ag.prototype.pushAll=function(A){if(0===(A=E(A)).size)return this;SA(A.size);var B=this.size,g=this._head;return A.reverse().forEach(function(A){B++,g={value:A,next:g}}),this.__ownerID?(this.size=B,this._head=g,this.__hash=void 0,this.__altered=!0,this):Ng(B,g)},ag.prototype.pop=function(){return this.slice(1)},ag.prototype.unshift=function(){return this.push.apply(this,arguments)},ag.prototype.unshiftAll=function(A){return this.pushAll(A)},ag.prototype.shift=function(){return this.pop.apply(this,arguments)},ag.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):mg()},ag.prototype.slice=function(A,B){if(J(A,B,this.size))return this;var g=R(A,this.size),Q=H(B,this.size);if(Q!==this.size)return aA.prototype.slice.call(this,A,B);for(var E=this.size-g,C=this._head;g--;)C=C.next;return this.__ownerID?(this.size=E,this._head=C,this.__hash=void 0,this.__altered=!0,this):Ng(E,C)},ag.prototype.__ensureOwner=function(A){return A===this.__ownerID?this:A?Ng(this.size,this._head,A,this.__hash):(this.__ownerID=A,this.__altered=!1,this)},ag.prototype.__iterate=function(A,B){if(B)return this.reverse().__iterate(A);for(var g=0,Q=this._head;Q&&!1!==A(Q.value,g++,this);)Q=Q.next;return g},ag.prototype.__iterator=function(A,B){if(B)return this.reverse().__iterator(A);var g=0,Q=this._head;return new p(function(){if(Q){var B=Q.value;return Q=Q.next,x(A,g++,B)}return{value:void 0,done:!0}})},ag.isStack=hg;var ug,Ug="@@__IMMUTABLE_STACK__@@",Gg=ag.prototype;function Ng(A,B,g,Q){var E=Object.create(Gg);return E.size=A,E._head=B,E.__ownerID=g,E.__hash=Q,E.__altered=!1,E}function mg(){return ug||(ug=Ng(0))}function Jg(A,B){var g=function(g){A.prototype[g]=B[g]};return Object.keys(B).forEach(g),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(B).forEach(g),A}Gg[Ug]=!0,Gg.withMutations=WA.withMutations,Gg.asMutable=WA.asMutable,Gg.asImmutable=WA.asImmutable,Gg.wasAltered=WA.wasAltered,g.Iterator=p,Jg(g,{toArray:function(){SA(this.size);var A=new Array(this.size||0);return this.valueSeq().__iterate(function(B,g){A[g]=B}),A},toIndexedSeq:function(){return new jB(this)},toJS:function(){return this.toSeq().map(function(A){return A&&"function"==typeof A.toJS?A.toJS():A}).__toJS()},toJSON:function(){return this.toSeq().map(function(A){return A&&"function"==typeof A.toJSON?A.toJSON():A}).__toJS()},toKeyedSeq:function(){return new fB(this,!0)},toMap:function(){return pA(this.toKeyedSeq())},toObject:function(){SA(this.size);var A={};return this.__iterate(function(B,g){A[g]=B}),A},toOrderedMap:function(){return RB(this.toKeyedSeq())},toOrderedSet:function(){return og(w(this)?this.valueSeq():this)},toSet:function(){return wg(w(this)?this.valueSeq():this)},toSetSeq:function(){return new TB(this)},toSeq:function(){return t(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ag(w(this)?this.valueSeq():this)},toList:function(){return cB(w(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(A,B){return 0===this.size?A+B:A+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+B},concat:function(){var B=A.call(arguments,0);return ZB(this,function(A,B){var g=w(A),E=[A].concat(B).map(function(A){return e(A)?g&&(A=Q(A)):A=g?eA(A):wA(Array.isArray(A)?A:[A]),A}).filter(function(A){return 0!==A.size});if(0===E.length)return A;if(1===E.length){var C=E[0];if(C===A||g&&w(C)||t(A)&&t(C))return C}var n=new AA(E);return g?n=n.toKeyedSeq():t(A)||(n=n.toSetSeq()),(n=n.flatten(!0)).size=E.reduce(function(A,B){if(void 0!==A){var g=B.size;if(void 0!==g)return A+g}},0),n}(this,B))},includes:function(A){return this.some(function(B){return MA(B,A)})},entries:function(){return this.__iterator(f)},every:function(A,B){SA(this.size);var g=!0;return this.__iterate(function(Q,E,C){if(!A.call(B,Q,E,C))return g=!1,!1}),g},filter:function(A,B){return ZB(this,KB(this,A,B,!0))},find:function(A,B,g){var Q=this.findEntry(A,B);return Q?Q[1]:g},forEach:function(A,B){return SA(this.size),this.__iterate(B?A.bind(B):A)},join:function(A){SA(this.size),A=void 0!==A?""+A:",";var B="",g=!0;return this.__iterate(function(Q){g?g=!1:B+=A,B+=null!==Q&&void 0!==Q?Q.toString():""}),B},keys:function(){return this.__iterator(y)},map:function(A,B){return ZB(this,xB(this,A,B))},reduce:function(A,B,g){var Q,E;return SA(this.size),arguments.length<2?E=!0:Q=B,this.__iterate(function(B,C,e){E?(E=!1,Q=B):Q=A.call(g,Q,B,C,e)}),Q},reduceRight:function(A,B,g){var Q=this.toKeyedSeq().reverse();return Q.reduce.apply(Q,arguments)},reverse:function(){return ZB(this,zB(this,!0))},slice:function(A,B){return ZB(this,WB(this,A,B,!0))},some:function(A,B){return!this.every(kg(A),B)},sort:function(A){return ZB(this,bB(this,A))},values:function(){return this.__iterator(k)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(A,B){return G(A?this.toSeq().filter(A,B):this)},countBy:function(A,B){return function(A,B,g){var Q=pA().asMutable();return A.__iterate(function(E,C){Q.update(B.call(g,E,C,A),0,function(A){return A+1})}),Q.asImmutable()}(this,A,B)},equals:function(A){return oA(this,A)},entrySeq:function(){var A=this;if(A._cache)return new AA(A._cache);var B=A.toSeq().map(yg).toIndexedSeq();return B.fromEntrySeq=function(){return A.toSeq()},B},filterNot:function(A,B){return this.filter(kg(A),B)},findEntry:function(A,B,g){var Q=g;return this.__iterate(function(g,E,C){if(A.call(B,g,E,C))return Q=[E,g],!1}),Q},findKey:function(A,B){var g=this.findEntry(A,B);return g&&g[0]},findLast:function(A,B,g){return this.toKeyedSeq().reverse().find(A,B,g)},findLastEntry:function(A,B,g){return this.toKeyedSeq().reverse().findEntry(A,B,g)},findLastKey:function(A,B){return this.toKeyedSeq().reverse().findKey(A,B)},first:function(){return this.find(m)},flatMap:function(A,B){return ZB(this,function(A,B,g){var Q=_B(A);return A.toSeq().map(function(E,C){return Q(B.call(g,E,C,A))}).flatten(!0)}(this,A,B))},flatten:function(A){return ZB(this,VB(this,A,!0))},fromEntrySeq:function(){return new SB(this)},get:function(A,B){return this.find(function(B,g){return MA(g,A)},void 0,B)},getIn:function(A,B){for(var g,Q=this,E=gg(A);!(g=E.next()).done;){var C=g.value;if((Q=Q&&Q.get?Q.get(C,r):r)===r)return B}return Q},groupBy:function(A,B){return function(A,B,g){var Q=w(A),E=(I(A)?RB():pA()).asMutable();A.__iterate(function(C,e){E.update(B.call(g,C,e,A),function(A){return(A=A||[]).push(Q?[e,C]:C),A})});var C=_B(A);return E.map(function(B){return ZB(A,C(B))})}(this,A,B)},has:function(A){return this.get(A,r)!==r},hasIn:function(A){return this.getIn(A,r)!==r},isSubset:function(A){return A="function"==typeof A.includes?A:g(A),this.every(function(B){return A.includes(B)})},isSuperset:function(A){return(A="function"==typeof A.isSubset?A:g(A)).isSubset(this)},keyOf:function(A){return this.findKey(function(B){return MA(B,A)})},keySeq:function(){return this.toSeq().map(dg).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(A){return this.toKeyedSeq().reverse().keyOf(A)},max:function(A){return PB(this,A)},maxBy:function(A,B){return PB(this,B,A)},min:function(A){return PB(this,A?fg(A):Sg)},minBy:function(A,B){return PB(this,B?fg(B):Sg,A)},rest:function(){return this.slice(1)},skip:function(A){return this.slice(Math.max(0,A))},skipLast:function(A){return ZB(this,this.toSeq().reverse().skip(A).reverse())},skipWhile:function(A,B){return ZB(this,LB(this,A,B,!0))},skipUntil:function(A,B){return this.skipWhile(kg(A),B)},sortBy:function(A,B){return ZB(this,bB(this,B,A))},take:function(A){return this.slice(0,Math.max(0,A))},takeLast:function(A){return ZB(this,this.toSeq().reverse().take(A).reverse())},takeWhile:function(A,B){return ZB(this,function(A,B,g){var Q=$B(A);return Q.__iterateUncached=function(Q,E){var C=this;if(E)return this.cacheResult().__iterate(Q,E);var e=0;return A.__iterate(function(A,E,w){return B.call(g,A,E,w)&&++e&&Q(A,E,C)}),e},Q.__iteratorUncached=function(Q,E){var C=this;if(E)return this.cacheResult().__iterator(Q,E);var e=A.__iterator(f,E),w=!0;return new p(function(){if(!w)return{value:void 0,done:!0};var A=e.next();if(A.done)return A;var E=A.value,t=E[0],n=E[1];return B.call(g,n,t,C)?Q===f?A:x(Q,t,n,A):(w=!1,{value:void 0,done:!0})})},Q}(this,A,B))},takeUntil:function(A,B){return this.takeWhile(kg(A),B)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(A){if(A.size===1/0)return 0;var B=I(A),g=w(A),Q=B?1:0;return function(A,B){return B=uA(B,3432918353),B=uA(B<<15|B>>>-15,461845907),B=uA(B<<13|B>>>-13,5),B=uA((B=(B+3864292196|0)^A)^B>>>16,2246822507),B=UA((B=uA(B^B>>>13,3266489909))^B>>>16)}(A.__iterate(g?B?function(A,B){Q=31*Q+pg(GA(A),GA(B))|0}:function(A,B){Q=Q+pg(GA(A),GA(B))|0}:B?function(A){Q=31*Q+GA(A)|0}:function(A){Q=Q+GA(A)|0}),Q)}(this))}});var Rg=g.prototype;Rg[i]=!0,Rg[S]=Rg.values,Rg.__toJS=Rg.toArray,Rg.__toStringMapper=jg,Rg.inspect=Rg.toSource=function(){return this.toString()},Rg.chain=Rg.flatMap,Rg.contains=Rg.includes,Jg(Q,{flip:function(){return ZB(this,pB(this))},mapEntries:function(A,B){var g=this,Q=0;return ZB(this,this.toSeq().map(function(E,C){return A.call(B,[C,E],Q++,g)}).fromEntrySeq())},mapKeys:function(A,B){var g=this;return ZB(this,this.toSeq().flip().map(function(Q,E){return A.call(B,Q,E,g)}).flip())}});var Hg=Q.prototype;function dg(A,B){return B}function yg(A,B){return[B,A]}function kg(A){return function(){return!A.apply(this,arguments)}}function fg(A){return function(){return-A.apply(this,arguments)}}function jg(A){return"string"==typeof A?JSON.stringify(A):String(A)}function Tg(){return U(arguments)}function Sg(A,B){return A<B?1:A>B?-1:0}function pg(A,B){return A^B+2654435769+(A<<6)+(A>>2)|0}return Hg[c]=!0,Hg[S]=Rg.entries,Hg.__toJS=Rg.toObject,Hg.__toStringMapper=function(A,B){return JSON.stringify(B)+": "+jg(A)},Jg(E,{toKeyedSeq:function(){return new fB(this,!1)},filter:function(A,B){return ZB(this,KB(this,A,B,!1))},findIndex:function(A,B){var g=this.findEntry(A,B);return g?g[0]:-1},indexOf:function(A){var B=this.keyOf(A);return void 0===B?-1:B},lastIndexOf:function(A){var B=this.lastKeyOf(A);return void 0===B?-1:B},reverse:function(){return ZB(this,zB(this,!1))},slice:function(A,B){return ZB(this,WB(this,A,B,!1))},splice:function(A,B){var g=arguments.length;if(B=Math.max(0|B,0),0===g||2===g&&!B)return this;A=R(A,A<0?this.count():this.size);var Q=this.slice(0,A);return ZB(this,1===g?Q:Q.concat(U(arguments,2),this.slice(A+B)))},findLastIndex:function(A,B){var g=this.findLastEntry(A,B);return g?g[0]:-1},first:function(){return this.get(0)},flatten:function(A){return ZB(this,VB(this,A,!1))},get:function(A,B){return(A=N(this,A))<0||this.size===1/0||void 0!==this.size&&A>this.size?B:this.find(function(B,g){return g===A},void 0,B)},has:function(A){return(A=N(this,A))>=0&&(void 0!==this.size?this.size===1/0||A<this.size:-1!==this.indexOf(A))},interpose:function(A){return ZB(this,function(A,B){var g=$B(A);return g.size=A.size&&2*A.size-1,g.__iterateUncached=function(g,Q){var E=this,C=0;return A.__iterate(function(A,Q){return(!C||!1!==g(B,C++,E))&&!1!==g(A,C++,E)},Q),C},g.__iteratorUncached=function(g,Q){var E,C=A.__iterator(k,Q),e=0;return new p(function(){return(!E||e%2)&&(E=C.next()).done?E:e%2?x(g,e++,B):x(g,e++,E.value,E)})},g}(this,A))},interleave:function(){var A=[this].concat(U(arguments)),B=OB(this.toSeq(),O.of,A),g=B.flatten(!0);return B.size&&(g.size=B.size*A.length),ZB(this,g)},keySeq:function(){return rA(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(A,B){return ZB(this,LB(this,A,B,!1))},zip:function(){return ZB(this,OB(this,Tg,[this].concat(U(arguments))))},zipWith:function(A){var B=U(arguments);return B[0]=this,ZB(this,OB(this,A,B))}}),E.prototype[Y]=!0,E.prototype[M]=!0,Jg(C,{get:function(A,B){return this.has(A)?A:B},includes:function(A){return this.has(A)},keySeq:function(){return this.valueSeq()}}),C.prototype.has=Rg.includes,C.prototype.contains=C.prototype.includes,Jg(v,Q.prototype),Jg(O,E.prototype),Jg(Z,C.prototype),Jg(FA,Q.prototype),Jg(aA,E.prototype),Jg(hA,C.prototype),{Iterable:g,Seq:P,Collection:DA,Map:pA,OrderedMap:RB,List:cB,Stack:ag,Set:wg,OrderedSet:og,Record:Qg,Range:rA,Repeat:sA,is:MA,fromJS:iA}}()},function(A,B,g){function Q(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}var E=g(231),C=g(232),e=function(){function A(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,A)}return function(A,B,g){B&&Q(A.prototype,B),g&&Q(A,g)}(A,null,[{key:"base64ToUint8Array",value:function(A){for(var B=E(A),g=B.length,Q=new Uint8Array(g),C=0;C<g;C++)Q[C]=B.charCodeAt(C);return Q}},{key:"uint8ArrayToBase64",value:function(A){return C(String.fromCharCode.apply(null,A))}},{key:"arrayBufferToBase64",value:function(A){for(var B="",g=new Uint8Array(A),Q=g.byteLength,E=0;E<Q;E++)B+=String.fromCharCode(g[E]);return C(B)}}]),A}();A.exports=e},function(A,B,g){(function(A){function g(A){return Object.prototype.toString.call(A)}B.isArray=function(A){return Array.isArray?Array.isArray(A):"[object Array]"===g(A)},B.isBoolean=function(A){return"boolean"==typeof A},B.isNull=function(A){return null===A},B.isNullOrUndefined=function(A){return null==A},B.isNumber=function(A){return"number"==typeof A},B.isString=function(A){return"string"==typeof A},B.isSymbol=function(A){return"symbol"==typeof A},B.isUndefined=function(A){return void 0===A},B.isRegExp=function(A){return"[object RegExp]"===g(A)},B.isObject=function(A){return"object"==typeof A&&null!==A},B.isDate=function(A){return"[object Date]"===g(A)},B.isError=function(A){return"[object Error]"===g(A)||A instanceof Error},B.isFunction=function(A){return"function"==typeof A},B.isPrimitive=function(A){return null===A||"boolean"==typeof A||"number"==typeof A||"string"==typeof A||"symbol"==typeof A||void 0===A},B.isBuffer=A.isBuffer}).call(this,g(4).Buffer)},function(A,B,g){"use strict";var Q=null;Q="undefined"!=typeof Promise?Promise:g(388),A.exports={Promise:Q}},function(A,B,g){function Q(A,B){return function(A){if(Array.isArray(A))return A}(A)||function(A,B){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(A)))return;var g=[],Q=!0,E=!1,C=void 0;try{for(var e,w=A[Symbol.iterator]();!(Q=(e=w.next()).done)&&(g.push(e.value),!B||g.length!==B);Q=!0);}catch(A){E=!0,C=A}finally{try{Q||null==w.return||w.return()}finally{if(E)throw C}}return g}(A,B)||function(A,B){if(!A)return;if("string"==typeof A)return E(A,B);var g=Object.prototype.toString.call(A).slice(8,-1);"Object"===g&&A.constructor&&(g=A.constructor.name);if("Map"===g||"Set"===g)return Array.from(A);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return E(A,B)}(A,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(A,B){(null==B||B>A.length)&&(B=A.length);for(var g=0,Q=new Array(B);g<B;g++)Q[g]=A[g];return Q}var C=g(458),e=g(24),w=g(149),t=g(19),n=g(62),I=g(60),i=g(20),c=g(1),Y=g(13),M=g(5),o=g(14),s=g(101),l=g(48).loadCostume,r=g(49).loadSound,D=g(150),F=D.deserializeCostume,a=D.deserializeSound,h=Object.prototype.hasOwnProperty,u=["argument","colour","control","data","event","looks","math","motion","operator","procedures","sensing","sound"],U=12,G=13,N={math_number:[4,"NUM"],math_positive_number:[5,"NUM"],math_whole_number:[6,"NUM"],math_integer:[7,"NUM"],math_angle:[8,"NUM"],colour_picker:[9,"COLOUR"],text:[10,"TEXT"],event_broadcast_menu:[11,"BROADCAST_OPTION"],data_variable:[U,"VARIABLE"],data_listcontents:[G,"LIST"]},m=function(A){var B=function(A){if(h.call(N,A.opcode)){var B=N[A.opcode],g=B[0],Q=B[1],E=A.fields[Q],C=[g,E.value];return"event_broadcast_menu"===A.opcode?C.push(E.id):"data_variable"!==A.opcode&&"data_listcontents"!==A.opcode||(C.push(E.id),A.topLevel&&(C.push(A.x?Math.round(A.x):0),C.push(A.y?Math.round(A.y):0))),C}return null}(A);if(B)return B;var g=Object.create(null);return g.opcode=A.opcode,g.next=A.next,g.parent=A.parent,g.inputs=function(A){var B=Object.create(null);for(var g in A)h.call(A,g)&&(A[g].block===A[g].shadow?B[g]=[1,A[g].block]:null===A[g].shadow?B[g]=[2,A[g].block]:B[g]=[3,A[g].block,A[g].shadow]);return B}(A.inputs),g.fields=function(A){var B=Object.create(null);for(var g in A)h.call(A,g)&&(B[g]=[A[g].value],A[g].hasOwnProperty("id")&&B[g].push(A[g].id));return B}(A.fields),g.shadow=A.shadow,A.topLevel?(g.topLevel=!0,g.x=A.x?Math.round(A.x):0,g.y=A.y?Math.round(A.y):0):g.topLevel=!1,A.mutation&&(g.mutation=A.mutation),A.comment&&(g.comment=A.comment),g},J=function(A,B){var g=A.inputs;for(var Q in g)for(var E=g[Q],C=1;C<E.length;C++)if(E[C]){var e=E[C],w=B[e];Array.isArray(w)&&(E[C]=w,delete B[e])}return A},R=function(A){var B=A.indexOf("_"),g=A.substring(0,B).replace(/[^\w-]/g,"-");if(-1===u.indexOf(g)&&""!==g)return g},H=function(A){var B=Object.create(null),g=new Set;for(var Q in A)if(A.hasOwnProperty(Q)){B[Q]=m(A[Q]);var E=R(A[Q].opcode);E&&g.add(E)}for(var C in B){var e=B[C];B[C]=J(e,B)}for(var w in B){var t=B[w];Array.isArray(t)&&[U,G].indexOf(t[0])<0&&(c.warn("Found an unexpected top level primitive with block ID: ".concat(w,"; deleting it from serialized blocks.")),delete B[w])}return[B,Array.from(g)]},d=function(A){var B=Object.create(null);return B.assetId=A.assetId,B.name=A.name,B.bitmapResolution=A.bitmapResolution,B.md5ext=A.md5,B.dataFormat=A.dataFormat.toLowerCase(),B.rotationCenterX=A.rotationCenterX,B.rotationCenterY=A.rotationCenterY,B},y=function(A){var B=Object.create(null);return B.assetId=A.assetId,B.name=A.name,B.dataFormat=A.dataFormat.toLowerCase(),B.format=A.format,B.rate=A.rate,B.sampleCount=A.sampleCount,B.md5ext=A.md5,B},k=function(A,B){var g=Object.create(null),E=[];g.isStage=A.isStage,g.name=g.isStage?"Stage":A.name;var C=function(A){var B=Object.create(null);for(var g in B.variables=Object.create(null),B.lists=Object.create(null),B.broadcasts=Object.create(null),A){var Q=A[g];Q.type!==t.BROADCAST_MESSAGE_TYPE?Q.type!==t.LIST_TYPE?(B.variables[g]=[Q.name,Q.value],Q.isCloud&&B.variables[g].push(!0)):B.lists[g]=[Q.name,Q.value]:B.broadcasts[g]=Q.value}return B}(A.variables);g.variables=C.variables,g.lists=C.lists,g.broadcasts=C.broadcasts;var e=Q(H(A.blocks),2);return g.blocks=e[0],E=e[1],g.comments=function(A){var B=Object.create(null);for(var g in A)if(A.hasOwnProperty(g)){var Q=A[g],E=Object.create(null);E.blockId=Q.blockId,E.x=Q.x,E.y=Q.y,E.width=Q.width,E.height=Q.height,E.minimized=Q.minimized,E.text=Q.text,B[g]=E}return B}(A.comments),(A.currentCostume<0||A.currentCostume>=A.costumes.length)&&(c.warn("currentCostume property for target ".concat(A.name," is out of range")),A.currentCostume=M.clamp(A.currentCostume,0,A.costumes.length-1)),g.currentCostume=A.currentCostume,g.costumes=A.costumes.map(d),g.sounds=A.sounds.map(y),A.hasOwnProperty("volume")&&(g.volume=A.volume),A.hasOwnProperty("layerOrder")&&(g.layerOrder=A.layerOrder),g.isStage?(A.hasOwnProperty("tempo")&&(g.tempo=A.tempo),A.hasOwnProperty("videoTransparency")&&(g.videoTransparency=A.videoTransparency),A.hasOwnProperty("videoState")&&(g.videoState=A.videoState),A.hasOwnProperty("textToSpeechLanguage")&&(g.textToSpeechLanguage=A.textToSpeechLanguage)):(g.visible=A.visible,g.x=A.x,g.y=A.y,g.size=A.size,g.direction=A.direction,g.draggable=A.draggable,g.rotationStyle=A.rotationStyle),E.forEach(function(A){B.add(A)}),g},f=function(A,B,g,Q){if(!Array.isArray(A))return A;var E=Object.create(null),C=Y();switch(E.id=C,E.next=null,E.parent=B,E.shadow=g,E.inputs=Object.create(null),A[0]){case 4:E.opcode="math_number",E.fields={NUM:{name:"NUM",value:A[1]}},E.topLevel=!1;break;case 5:E.opcode="math_positive_number",E.fields={NUM:{name:"NUM",value:A[1]}},E.topLevel=!1;break;case 6:E.opcode="math_whole_number",E.fields={NUM:{name:"NUM",value:A[1]}},E.topLevel=!1;break;case 7:E.opcode="math_integer",E.fields={NUM:{name:"NUM",value:A[1]}},E.topLevel=!1;break;case 8:E.opcode="math_angle",E.fields={NUM:{name:"NUM",value:A[1]}},E.topLevel=!1;break;case 9:E.opcode="colour_picker",E.fields={COLOUR:{name:"COLOUR",value:A[1]}},E.topLevel=!1;break;case 10:E.opcode="text",E.fields={TEXT:{name:"TEXT",value:A[1]}},E.topLevel=!1;break;case 11:E.opcode="event_broadcast_menu",E.fields={BROADCAST_OPTION:{name:"BROADCAST_OPTION",value:A[1],id:A[2],variableType:t.BROADCAST_MESSAGE_TYPE}},E.topLevel=!1;break;case U:E.opcode="data_variable",E.fields={VARIABLE:{name:"VARIABLE",value:A[1],id:A[2],variableType:t.SCALAR_TYPE}},A.length>3&&(E.topLevel=!0,E.x=A[3],E.y=A[4]);break;case G:E.opcode="data_listcontents",E.fields={LIST:{name:"LIST",value:A[1],id:A[2],variableType:t.LIST_TYPE}},A.length>3&&(E.topLevel=!0,E.x=A[3],E.y=A[4]);break;default:return c.error("Found unknown primitive type during deserialization: ".concat(JSON.stringify(A))),null}return Q[C]=E,C},j=function(A,B,g){var Q={};for(var E in A)if(h.call(A,E)){var C=A[E];if(Array.isArray(C)){var e=null,w=null,t=C[0];1===t?e=w=f(C[1],B,!0,g):2===t?e=f(C[1],B,!1,g):(e=f(C[1],B,!1,g),w=f(C[2],B,!0,g)),Q[E]={name:E,block:e,shadow:w}}}return Q},T=function(A){var B={};for(var g in A)if(h.call(A,g)){var Q=A[g];Array.isArray(Q)&&(B[g]={name:g,value:Q[0]},Q.length>1&&(B[g].id=Q[1]),"BROADCAST_OPTION"===g?B[g].variableType=t.BROADCAST_MESSAGE_TYPE:"VARIABLE"===g?B[g].variableType=t.SCALAR_TYPE:"LIST"===g&&(B[g].variableType=t.LIST_TYPE))}return B},S=function(A){for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B)){var g=A[B];Array.isArray(g)?(delete A[B],f(g,null,!1,A)):(g.id=B,g.inputs=j(g.inputs,B,A),g.fields=T(g.fields))}return A};A.exports={serialize:function(A,B){var g=Object.create(null),Q=new Set,E=B?[A.getTargetById(B)]:A.targets.filter(function(A){return A.isOriginal}),e=function(A){var B=A.map(function(A){return A.getLayerOrder()});return M.reducedSortOrdering(B)}(E),w=E.map(function(A){return A.toJSON()});A.renderer&&!B&&w.forEach(function(A,B){A.layerOrder=e[B]});var t=w.map(function(A){return k(A,Q)});if(B)return t[0];g.targets=t,g.monitors=function(A){return A.valueSeq().map(function(A){var B={id:A.id,mode:A.mode,opcode:A.opcode,params:A.params,spriteName:A.spriteName,value:A.value,width:A.width,height:A.height,x:A.x,y:A.y,visible:A.visible};return"list"!==A.mode&&(B.sliderMin=A.sliderMin,B.sliderMax=A.sliderMax,B.isDiscrete=A.isDiscrete),B})}(A.getMonitorState()),g.extensions=Array.from(Q);var n=Object.create(null);return n.semver="3.0.0",n.vm=C.version,A.origin&&(n.origin=A.origin),n.agent="none","undefined"!=typeof navigator&&(n.agent=navigator.userAgent),g.meta=n,g},deserialize:function(A,B,g,Q){var E={extensionIDs:new Set,extensionURLs:new Map};A.meta&&A.meta.origin?B.origin=A.meta.origin:B.origin=null;var C=((Q?[A]:A.targets)||[]).map(function(A,B){return Object.assign(A,{targetPaneOrder:B})}).sort(function(A,B){return A.layerOrder-B.layerOrder}),Y=A.monitors||[];return Promise.resolve(C.map(function(A){return function(A,B,g){if(!A.hasOwnProperty("name"))return Promise.resolve(null);var Q={costumePromises:null,soundPromises:null,soundBank:B.audioEngine&&B.audioEngine.createBank()};return Q.costumePromises=(A.costumes||[]).map(function(A){var Q={asset:A.asset,assetId:A.assetId,skinId:null,name:A.name,bitmapResolution:A.bitmapResolution,rotationCenterX:A.rotationCenterX,rotationCenterY:A.rotationCenterY},E=A.dataFormat||A.assetType&&A.assetType.runtimeFormat||"png",C=A.hasOwnProperty("md5ext")?A.md5ext:"".concat(A.assetId,".").concat(E);return Q.md5=C,Q.dataFormat=E,F(Q,B,g).then(function(){return l(C,Q,B)})}),Q.soundPromises=(A.sounds||[]).map(function(A){var E={assetId:A.assetId,format:A.format,rate:A.rate,sampleCount:A.sampleCount,name:A.name,md5:A.md5ext,dataFormat:A.dataFormat,data:null};return a(E,B,g).then(function(){return r(E,B,Q.soundBank)})}),Q}(A,B,g)})).then(function(A){return Promise.resolve(A)}).then(function(A){return Promise.all(C.map(function(g,Q){return function(A,B,g,Q,E){if(!A.hasOwnProperty("name"))return Promise.resolve(null);var C=new e(B),I=new w(C,B);if(A.hasOwnProperty("name")&&(I.name=A.name),A.hasOwnProperty("blocks"))for(var c in S(A.blocks),A.blocks)if(A.blocks.hasOwnProperty(c)){var Y=A.blocks[c];C.createBlock(Y);var o=R(Y.opcode);o&&g.extensionIDs.add(o)}var s=E.costumePromises,l=E.soundBank,r=E.soundPromises,D=I.createClone(A.isStage?i.BACKGROUND_LAYER:i.SPRITE_LAYER);if(A.hasOwnProperty("tempo")&&(D.tempo=A.tempo),A.hasOwnProperty("volume")&&(D.volume=A.volume),A.hasOwnProperty("videoTransparency")&&(D.videoTransparency=A.videoTransparency),A.hasOwnProperty("videoState")&&(D.videoState=A.videoState),A.hasOwnProperty("textToSpeechLanguage")&&(D.textToSpeechLanguage=A.textToSpeechLanguage),A.hasOwnProperty("variables"))for(var F in A.variables){var a=A.variables[F],h=3===a.length&&a[2]&&A.isStage&&B.canAddCloudVariable(),u=new t(F,a[0],t.SCALAR_TYPE,h);h&&B.addCloudVariable(),u.value=a[1],D.variables[u.id]=u}if(A.hasOwnProperty("lists"))for(var U in A.lists){var G=A.lists[U],N=new t(U,G[0],t.LIST_TYPE,!1);N.value=G[1],D.variables[N.id]=N}if(A.hasOwnProperty("broadcasts"))for(var m in A.broadcasts){var J=A.broadcasts[m],H=new t(m,J,t.BROADCAST_MESSAGE_TYPE,!1);D.variables[H.id]=H}if(A.hasOwnProperty("comments"))for(var d in A.comments){var y=A.comments[d],k=new n(d,y.text,y.x,y.y,y.width,y.height,y.minimized);y.blockId&&(k.blockId=y.blockId),D.comments[k.id]=k}return A.hasOwnProperty("x")&&(D.x=A.x),A.hasOwnProperty("y")&&(D.y=A.y),A.hasOwnProperty("direction")&&(D.direction=A.direction),A.hasOwnProperty("size")&&(D.size=A.size),A.hasOwnProperty("visible")&&(D.visible=A.visible),A.hasOwnProperty("currentCostume")&&(D.currentCostume=M.clamp(A.currentCostume,0,A.costumes.length-1)),A.hasOwnProperty("rotationStyle")&&(D.rotationStyle=A.rotationStyle),A.hasOwnProperty("isStage")&&(D.isStage=A.isStage),A.hasOwnProperty("targetPaneOrder")&&(D.targetPaneOrder=A.targetPaneOrder),A.hasOwnProperty("draggable")&&(D.draggable=A.draggable),Promise.all(s).then(function(A){I.costumes=A}),Promise.all(r).then(function(A){I.sounds=A,I.soundBank=l||null}),Promise.all(s.concat(r)).then(function(){return D})}(g,B,E,0,A[Q])}))}).then(function(A){return A.map(function(A,B){return A.layerOrder=B,A}).sort(function(A,B){return A.targetPaneOrder-B.targetPaneOrder}).map(function(A){return delete A.targetPaneOrder,A})}).then(function(A){return function(A){var B=s.getAllVarRefsForTargets(A,!0);for(var g in A.forEach(function(A){Object.keys(A.variables).forEach(function(B){var g=o.replaceUnsafeChars(B);g!==B&&(A.variables[B].id=g,A.variables[g]=A.variables[B],delete A.variables[B])})}),B){var Q=o.replaceUnsafeChars(g);g!==Q&&s.updateVariableIdentifiers(B[g],Q)}return A}(A)}).then(function(A){return Y.map(function(g){return function(A,B,g,Q){if(A.spriteName){var E=g.filter(function(B){return B.sprite.name===A.spriteName});E&&E.length>0?A.targetId=E[0].id:c.warn("Tried to deserialize sprite specific monitor ".concat(A.opcode," but could not find sprite ").concat(A.spriteName,"."))}var C=B.monitorBlockInfo[A.opcode];if("data_listcontents"===A.opcode){var e=A.targetId?g.find(function(B){return B.id===A.targetId}):g.find(function(A){return A.isStage});e&&Object.prototype.hasOwnProperty.call(e.variables,A.id)&&(A.params.LIST=e.variables[A.id].name)}var w={};for(var n in A.params){var i={name:n,value:A.params[n]};w[n]=i}"data_variable"!==A.opcode&&"data_listcontents"!==A.opcode&&C&&C.isSpriteSpecific?A.id=C.getId(A.targetId,w):A.id=o.replaceUnsafeChars(A.id);var Y=B.monitorBlocks._blocks[A.id];if(Y)Y.isMonitored=A.visible,Y.targetId=A.targetId;else{var M={id:A.id,opcode:A.opcode,inputs:{},fields:w,topLevel:!0,next:null,parent:null,shadow:!1,x:0,y:0,isMonitored:A.visible,targetId:A.targetId};if("data_variable"===A.opcode){var s=M.fields.VARIABLE;s.id=A.id,s.variableType=t.SCALAR_TYPE}else if("data_listcontents"===A.opcode){var l=M.fields.LIST;l.id=A.id,l.variableType=t.LIST_TYPE}B.monitorBlocks.createBlock(M);var r=R(M.opcode);r&&Q.extensionIDs.add(r)}B.requestAddMonitor(I(A))}(g,B,A,E)}),A}).then(function(A){return{targets:A,extensions:E}})},deserializeBlocks:S,serializeBlocks:H,getExtensionIdForOpcode:R}},function(A,B,g){const Q=g(11),E=g(16),C=g(52),e=g(468);class w extends Q{constructor(A){super(),this._id=A,this._rotationCenter=E.v3.create(0,0),this._texture=null,this._uniforms={u_skinSize:[0,0],u_skin:null},this._silhouette=new e,this.setMaxListeners(C.SKIN_SHARE_SOFT_LIMIT)}dispose(){this._id=C.ID_NONE}get id(){return this._id}get rotationCenter(){return this._rotationCenter}get size(){return[0,0]}useNearest(A,B){return!0}calculateRotationCenter(){return[this.size[0]/2,this.size[1]/2]}getTexture(A){return this._emptyImageTexture}getFenceBounds(A,B){return A.getAABB(B)}getUniforms(A){return this._uniforms.u_skin=this.getTexture(A),this._uniforms.u_skinSize=this.size,this._uniforms}updateSilhouette(){}_setTexture(A){const B=this._renderer.gl;B.bindTexture(B.TEXTURE_2D,this._texture),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,B.RGBA,B.UNSIGNED_BYTE,A),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this._silhouette.update(A)}setEmptyImageData(){if(this._texture=null,!this._emptyImageData){this._emptyImageData=new ImageData(1,1);const A=this._renderer.gl,B={auto:!0,wrap:A.CLAMP_TO_EDGE,src:this._emptyImageData};this._emptyImageTexture=E.createTexture(A,B)}this._rotationCenter[0]=0,this._rotationCenter[1]=0,this._silhouette.update(this._emptyImageData),this.emit(w.Events.WasAltered)}isTouchingNearest(A){return this._silhouette.isTouchingNearest(A)}isTouchingLinear(A){return this._silhouette.isTouchingLinear(A)}}w.Events={WasAltered:"WasAltered"},A.exports=w},function(A,B,g){const Q=g(16);class E{constructor(A){this._gl=A,this._shaderCache={};for(const A in E.DRAW_MODE)Object.prototype.hasOwnProperty.call(E.DRAW_MODE,A)&&(this._shaderCache[A]=[])}getShader(A,B){const g=this._shaderCache[A];A===E.DRAW_MODE.silhouette&&(B&=~(E.EFFECT_INFO.color.mask|E.EFFECT_INFO.brightness.mask));let Q=g[B];return Q||(Q=g[B]=this._buildShader(A,B)),Q}_buildShader(A,B){const C=E.EFFECTS.length,e=[`#define DRAW_MODE_${A}`];for(let A=0;A<C;++A)0!=(B&1<<A)&&e.push(`#define ENABLE_${E.EFFECTS[A]}`);const w=`${e.join("\n")}\n`,t=w+g(470),n=w+g(471);return Q.createProgramInfo(this._gl,[t,n])}}E.EFFECT_INFO={color:{uniformName:"u_color",mask:1,converter:A=>A/200%1,shapeChanges:!1},fisheye:{uniformName:"u_fisheye",mask:2,converter:A=>Math.max(0,(A+100)/100),shapeChanges:!0},whirl:{uniformName:"u_whirl",mask:4,converter:A=>-A*Math.PI/180,shapeChanges:!0},pixelate:{uniformName:"u_pixelate",mask:8,converter:A=>Math.abs(A)/10,shapeChanges:!0},mosaic:{uniformName:"u_mosaic",mask:16,converter:A=>(A=Math.round((Math.abs(A)+10)/10),Math.max(1,Math.min(A,512))),shapeChanges:!0},brightness:{uniformName:"u_brightness",mask:32,converter:A=>Math.max(-100,Math.min(A,100))/100,shapeChanges:!1},ghost:{uniformName:"u_ghost",mask:64,converter:A=>1-Math.max(0,Math.min(A,100))/100,shapeChanges:!1}},E.EFFECTS=Object.keys(E.EFFECT_INFO),E.DRAW_MODE={default:"default",straightAlpha:"straightAlpha",silhouette:"silhouette",colorMask:"colorMask",line:"line",background:"background"},A.exports=E},function(A,B,g){var Q=g(176);A.exports={TextEncoder:Q.TextEncoder,TextDecoder:Q.TextDecoder}},function(A,B,g){function Q(A){"@babel/helpers - typeof";return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function E(A,B){for(var g=0;g<B.length;g++){var Q=B[g];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(A,Q.key,Q)}}function C(A,B){return(C=Object.setPrototypeOf||function(A,B){return A.__proto__=B,A})(A,B)}function e(A){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}();return function(){var g,E=w(A);if(B){var C=w(this).constructor;g=Reflect.construct(E,arguments,C)}else g=E.apply(this,arguments);return function(A,B){if(B&&("object"===Q(B)||"function"==typeof B))return B;return function(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A)}(this,g)}}function w(A){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}var t=g(5),n=g(14),I=g(3),i=g(18),c=g(207),Y=g(20),M=g(15),o=function(A){!function(A,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),B&&C(A,B)}(g,c);var B=e(g);function g(A,Q){var E;return function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,g),(E=B.call(this,Q,A.blocks)).sprite=A,E.renderer=null,E.runtime&&(E.renderer=E.runtime.renderer),E.drawableID=null,E.dragging=!1,E.effects={color:0,fisheye:0,whirl:0,pixelate:0,mosaic:0,brightness:0,ghost:0},E.isOriginal=!0,E.isStage=!1,E.x=0,E.y=0,E.direction=90,E.draggable=!1,E.visible=!0,E.size=100,E.currentCostume=0,E.rotationStyle=g.ROTATION_STYLE_ALL_AROUND,E.volume=100,E.tempo=60,E.videoTransparency=50,E.videoState=g.VIDEO_STATE.ON,E.textToSpeechLanguage=null,E}return function(A,B,g){B&&E(A.prototype,B),g&&E(A,g)}(g,[{key:"initDrawable",value:function(A){this.renderer&&(this.drawableID=this.renderer.createDrawable(A)),this.isOriginal||this.runtime.startHats("control_start_as_clone",null,this)}},{key:"audioPlayer",get:function(){var A=this;console.warn("get audioPlayer deprecated, please update to use .sprite.soundBank methods"),console.warn(new Error("stack for debug").stack);var B=this.sprite.soundBank,g={playSound:function(g){return B.play(A,g)}};return Object.defineProperty(this,"audioPlayer",{configurable:!1,enumerable:!0,writable:!1,value:g}),g}},{key:"initAudio",value:function(){}},{key:"setXY",value:function(A,B,Q){if(!this.isStage&&(!this.dragging||Q)){var E=this.x,C=this.y;if(this.renderer){var e=[A,B];M(!0)&&(e=this.renderer.getFencedPositionOfDrawable(this.drawableID,[A,B])),this.x=e[0],this.y=e[1],this.renderer.updateDrawablePosition(this.drawableID,e),this.visible&&(this.emit(g.EVENT_TARGET_VISUAL_CHANGE,this),this.runtime.requestRedraw())}else this.x=A,this.y=B;this.emit(g.EVENT_TARGET_MOVED,this,E,C,Q),this.runtime.requestTargetsUpdate(this)}}},{key:"_getRenderedDirectionAndScale",value:function(){var A=this.direction,B=[this.size,this.size];if(this.rotationStyle===g.ROTATION_STYLE_NONE)A=90;else if(this.rotationStyle===g.ROTATION_STYLE_LEFT_RIGHT){A=90,B=[(this.direction<0?-1:1)*this.size,this.size]}return{direction:A,scale:B}}},{key:"setDirection",value:function(A){if(!this.isStage&&isFinite(A)){if(this.direction=t.wrapClamp(A,-179,180),this.renderer){var B=this._getRenderedDirectionAndScale(),Q=B.direction,E=B.scale;this.renderer.updateDrawableDirectionScale(this.drawableID,Q,E),this.visible&&(this.emit(g.EVENT_TARGET_VISUAL_CHANGE,this),this.runtime.requestRedraw())}this.runtime.requestTargetsUpdate(this)}}},{key:"setDraggable",value:function(A){this.isStage||(this.draggable=!!A,this.runtime.requestTargetsUpdate(this))}},{key:"setVisible",value:function(A){this.isStage||(this.visible=!!A,this.renderer&&(this.renderer.updateDrawableVisible(this.drawableID,this.visible),this.visible&&(this.emit(g.EVENT_TARGET_VISUAL_CHANGE,this),this.runtime.requestRedraw()
